AX51 MACRO ASSEMBLER  ECO_PAGE                                                              05/03/09 23:05:29 PAGE     1


MACRO ASSEMBLER AX51 V3.06a
OBJECT MODULE PLACED IN .\eco_page.obj
ASSEMBLER INVOKED BY: C:\Keil\C51\BIN\AX51.exe .\eco_page.src EP DEBUG SYMBOLS OJ(.\eco_page.obj) PR(.\eco_page.ls1) 

LOC    OBJ             LINE     SOURCE

                          1     ; ./eco_page.src generated from: .\eco_page.c
                          2     ; COMPILER INVOKED BY:
                          3     ;        C:\Keil\C51\BIN\C51.exe .\eco_page.c BROWSE DEBUG CODE LISTINCLUDE SYMBOLS PREP
                               RINT ROM(LARGE) INCDIR(../../Include) SRC(./eco_page.src)
                          4     
                          5     $nomod51 
                          6     
                          7     NAME    ECO_PAGE
                          8     
 00A0.7                   9     PWR_UP  BIT     0A0H.7
 0080                    10     P0      DATA    080H
 0090                    11     P1      DATA    090H
 00D0.6                  12     AC      BIT     0D0H.6
 0080.5                  13     T0      BIT     080H.5
 00B3                    14     SPI_CTRL        DATA    0B3H
 0080.6                  15     T1      BIT     080H.6
 00A8.7                  16     EA      BIT     0A8H.7
 0090.0                  17     T2      BIT     090H.0
 00A0.6                  18     CE      BIT     0A0H.6
 00BE                    19     DEV_OFFSET      DATA    0BEH
 00A0.1                  20     CLK1    BIT     0A0H.1
 0090.2                  21     DIN0    BIT     090H.2
 00A0.5                  22     CLK2    BIT     0A0H.5
 0090.0                  23     DIO0    BIT     090H.0
 0083                    24     DPH0    DATA    083H
 0090.1                  25     DIO1    BIT     090H.1
 00A8                    26     IE      DATA    0A8H
 0085                    27     DPH1    DATA    085H
 0080.0                  28     DIO2    BIT     080H.0
 0080.1                  29     DIO3    BIT     080H.1
 0080.0                  30     P0_0    BIT     080H.0
 0090.0                  31     P1_0    BIT     090H.0
 0080.2                  32     DIO4    BIT     080H.2
 0080.1                  33     P0_1    BIT     080H.1
 0082                    34     DPL0    DATA    082H
 0090.1                  35     P1_1    BIT     090H.1
 0080.3                  36     DIO5    BIT     080H.3
 0080.2                  37     P0_2    BIT     080H.2
 0084                    38     DPL1    DATA    084H
 0090.2                  39     P1_2    BIT     090H.2
 0080.4                  40     DIO6    BIT     080H.4
 0080.3                  41     P0_3    BIT     080H.3
 0080.5                  42     DIO7    BIT     080H.5
 0080.4                  43     P0_4    BIT     080H.4
 00A4                    44     ADCSTATIC       DATA    0A4H
 0080.6                  45     DIO8    BIT     080H.6
 0080.5                  46     P0_5    BIT     080H.5
 00C8.6                  47     EXF2    BIT     0C8H.6
 00A0.3                  48     CS      BIT     0A0H.3
 0080.7                  49     DIO9    BIT     080H.7
 0080.6                  50     P0_6    BIT     080H.6
 0080.7                  51     P0_7    BIT     080H.7
 00A8.4                  52     ES      BIT     0A8H.4
 00B8                    53     IP      DATA    0B8H
 00A0.0                  54     DATA?   BIT     0A0H.0
 0098.0                  55     RI      BIT     098H.0
 00D0.7                  56     CY      BIT     0D0H.7
 0098.1                  57     TI      BIT     098H.1
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              05/03/09 23:05:29 PAGE     2

 00BC                    58     T1_1V2  DATA    0BCH
 008F                    59     SPC_FNC DATA    08FH
 00BD                    60     T2_1V2  DATA    0BDH
 00CB                    61     RCAP2H  DATA    0CBH
 00B8.4                  62     PS      BIT     0B8H.4
 0081                    63     SP      DATA    081H
 00D0.2                  64     OV      BIT     0D0H.2
 00B6                    65     CK_CTRL DATA    0B6H
 00CA                    66     RCAP2L  DATA    0CAH
 00B5                    67     TICK_DV DATA    0B5H
 00B1                    68     RSTREAS DATA    0B1H
 00C8.1                  69     C_T2    BIT     0C8H.1
 00E8.4                  70     EWDI    BIT     0E8H.4
 00A1                    71     ADCCON  DATA    0A1H
 00C8.5                  72     RCLK    BIT     0C8H.5
 00A2                    73     ADCDATAH        DATA    0A2H
 0091                    74     EXIF    DATA    091H
 00C8.4                  75     TCLK    BIT     0C8H.4
 00A0.6                  76     DR2_CE  BIT     0A0H.6
 00A3                    77     ADCDATAL        DATA    0A3H
 0099                    78     SBUF    DATA    099H
 0087                    79     PCON    DATA    087H
 0098                    80     SCON    DATA    098H
 00F8.4                  81     PWDI    BIT     0F8H.4
 0089                    82     TMOD    DATA    089H
 0088                    83     TCON    DATA    088H
 00D8.3                  84     WDTI    BIT     0D8H.3
 00AA                    85     PWMDUTY DATA    0AAH
 0088.1                  86     IE0     BIT     088H.1
 0088.3                  87     IE1     BIT     088H.3
 0094                    88     P0_DIR  DATA    094H
 00F0                    89     B       DATA    0F0H
 0096                    90     P1_DIR  DATA    096H
 0095                    91     P0_ALT  DATA    095H
 0097                    92     P1_ALT  DATA    097H
 00C8.0                  93     CP_RL2  BIT     0C8H.0
 00A0.2                  94     DR1     BIT     0A0H.2
 00E0                    95     ACC     DATA    0E0H
 00A0.6                  96     DR2     BIT     0A0H.6
 00B7                    97     TEST_MODE       DATA    0B7H
 00B4                    98     SPICLK  DATA    0B4H
 00C8.1                  99     CT2     BIT     0C8H.1
 00A8.1                 100     ET0     BIT     0A8H.1
 00A8.3                 101     ET1     BIT     0A8H.3
 0088.5                 102     TF0     BIT     088H.5
 0080.3                 103     INT0_N  BIT     080H.3
 00A8.5                 104     ET2     BIT     0A8H.5
 0088.7                 105     TF1     BIT     088H.7
 0080.4                 106     INT1_N  BIT     080H.4
 00C8.7                 107     TF2     BIT     0C8H.7
 0098.2                 108     RB8     BIT     098H.2
 008C                   109     TH0     DATA    08CH
 00A8.0                 110     EX0     BIT     0A8H.0
 0088.0                 111     IT0     BIT     088H.0
 008D                   112     TH1     DATA    08DH
 00A8.2                 113     EX1     BIT     0A8H.2
 0098.3                 114     TB8     BIT     098H.3
 0088.2                 115     IT1     BIT     088H.2
 00CD                   116     TH2     DATA    0CDH
 00AD                   117     REGX_CTRL       DATA    0ADH
 00E8.0                 118     EX2     BIT     0E8H.0
 00D0.0                 119     P       BIT     0D0H.0
 00E8.1                 120     EX3     BIT     0E8H.1
 0098.7                 121     SM0     BIT     098H.7
 008A                   122     TL0     DATA    08AH
 00E8.2                 123     EX4     BIT     0E8H.2
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              05/03/09 23:05:29 PAGE     3

 0098.6                 124     SM1     BIT     098H.6
 008B                   125     TL1     DATA    08BH
 00E8.3                 126     EX5     BIT     0E8H.3
 0098.5                 127     SM2     BIT     098H.5
 00CC                   128     TL2     DATA    0CCH
 00E8                   129     EIE     DATA    0E8H
 00B8.1                 130     PT0     BIT     0B8H.1
 00D0.3                 131     RS0     BIT     0D0H.3
 00B8.3                 132     PT1     BIT     0B8H.3
 00D0.4                 133     RS1     BIT     0D0H.4
 00B8.5                 134     PT2     BIT     0B8H.5
 0088.4                 135     TR0     BIT     088H.4
 00A9                   136     PWMCON  DATA    0A9H
 0088.6                 137     TR1     BIT     088H.6
 00C8.2                 138     TR2     BIT     0C8H.2
 00B8.0                 139     PX0     BIT     0B8H.0
 00B8.2                 140     PX1     BIT     0B8H.2
 00F8.0                 141     PX2     BIT     0F8H.0
 00F8.1                 142     PX3     BIT     0F8H.1
 00F8.2                 143     PX4     BIT     0F8H.2
 0083                   144     DPH     DATA    083H
 00F8.3                 145     PX5     BIT     0F8H.3
 00F8                   146     EIP     DATA    0F8H
 0082                   147     DPL     DATA    082H
 00C8.3                 148     EXEN2   BIT     0C8H.3
 00C8.0                 149     CPRL2   BIT     0C8H.0
 0098.4                 150     REN     BIT     098H.4
 00C8                   151     T2CON   DATA    0C8H
 0086                   152     DPS     DATA    086H
 00B2                   153     SPI_DATA        DATA    0B2H
 0092                   154     MPAGE   DATA    092H
 0080.1                 155     RXD     BIT     080H.1
 00A0.4                 156     DOUT2   BIT     0A0H.4
 00D8                   157     EICON   DATA    0D8H
 008E                   158     CKCON   DATA    08EH
 0080.2                 159     TXD     BIT     080H.2
 00A0                   160     RADIO   DATA    0A0H
 0080.7                 161     PWM     BIT     080H.7
 00D0.5                 162     F0      BIT     0D0H.5
 00D0.1                 163     F1      BIT     0D0H.1
 00AC                   164     REGX_LSB        DATA    0ACH
 00D0                   165     PSW     DATA    0D0H
 00AB                   166     REGX_MSB        DATA    0ABH
------                  167     ?PR?eco_page_init?ECO_PAGE               SEGMENT CODE 
------                  168     ?PR?eco_page_manager?ECO_PAGE            SEGMENT CODE 
------                  169     ?DT?eco_page_manager?ECO_PAGE            SEGMENT DATA OVERLAYABLE 
------                  170     ?ID?ECO_PAGE         SEGMENT IDATA 
------                  171     ?DT?ECO_PAGE         SEGMENT DATA 
                        172             EXTRN   CODE (_eeprom_read)
                        173             EXTRN   CODE (?C?ICALL2)
                        174             EXTRN   CODE (eeprom_init)
                        175             PUBLIC  ECO_PAGE_TABLE_INDEX
                        176             PUBLIC  ECO_PAGE_REGISTER7
                        177             PUBLIC  ECO_PAGE_REGISTER6
                        178             PUBLIC  ECO_PAGE_REGISTER5
                        179             PUBLIC  ECO_PAGE_REGISTER4
                        180             PUBLIC  ECO_PAGE_ADDR
                        181             PUBLIC  ECO_PAGE_REGISTER3
                        182             PUBLIC  ECO_PAGE_REGISTER2
                        183             PUBLIC  ECO_PAGE_REGISTER1
                        184             PUBLIC  ECO_PAGE_PREV_VID
                        185             PUBLIC  ECO_PAGE_PREV_PID
                        186             PUBLIC  ECO_PAGE_SPI_CONN
                        187             PUBLIC  ECO_PAGE_TABLE
                        188             PUBLIC  eco_page_manager
                        189             PUBLIC  eco_page_init
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              05/03/09 23:05:29 PAGE     4

                        190     
------                  191             RSEG  ?DT?eco_page_manager?ECO_PAGE
000000                  192     ?eco_page_manager?BYTE:
000004                  193             ORG  4
000004                  194             seg?140:   DS   2
000006                  195             ORG  6
000006                  196               j?141:   DS   2
000000                  197             ORG  0
000000                  198               i?142:   DS   2
000002                  199             ORG  2
000002                  200      page_index?143:   DS   2
                        201     
------                  202             RSEG  ?ID?ECO_PAGE
000000                  203      ECO_PAGE_TABLE:   DS   8
000008                  204     ECO_PAGE_REGISTER1:   DS   1
000009                  205     ECO_PAGE_REGISTER2:   DS   1
00000A                  206     ECO_PAGE_REGISTER3:   DS   1
00000B                  207     ECO_PAGE_REGISTER4:   DS   1
00000C                  208     ECO_PAGE_REGISTER5:   DS   1
00000D                  209     ECO_PAGE_REGISTER6:   DS   1
00000E                  210     ECO_PAGE_REGISTER7:   DS   1
                        211     
------                  212             RSEG  ?DT?ECO_PAGE
000000                  213     ECO_PAGE_SPI_CONN:   DS   1
000001                  214     ECO_PAGE_PREV_PID:   DS   2
000003                  215     ECO_PAGE_PREV_VID:   DS   2
000005                  216       ECO_PAGE_ADDR:   DS   2
000007                  217     ECO_PAGE_TABLE_INDEX:   DS   1
                        218     ; /*
                        219     ;  * Author(s): Wei-Han Chen (Embedded Platform Lab, NTHU)
                        220     ;  * Copyright (c) 2009 National Tsing Hua University (NTHU) 
                        221     ;  * Permission to copy, modify, and distribute this program is granted 
                        222     ;  * for noncommercial purposes, provided the author(s) and copyright
                        223     ;  * notice are retained. All other uses require explicit written
                        224     ;  * permission from NTHU. 
                        225     ;  *
                        226     ;  * Eco Paging Library 
                        227     ;  *
                        228     ;  * Wei-Han Chen <xwaynec@gmail.com> 
                        229     ;  * 2009/2/13
                        230     ;  */
                        231     ; 
                        232     ; #include "eco_page.h"
                        233     ; #include "eeprom/eeprom.h"
                        234     ; 
                        235     ; //control page replacement policy is LRU or Round-Robin
                        236     ; #define PAGE_REPLACEMENT 0
                        237     ; 
                        238     ; //#define ECO_PAGE_SIZE 256
                        239     ; //#define ECO_PAGE_ADDR_OFFSET 11 
                        240     ; 
                        241     ; 
                        242     ; //#define ECO_PAGE_SIZE 128
                        243     ; //#define ECO_PAGE_ADDR_OFFSET 23
                        244     ; 
                        245     ; 
                        246     ; 
                        247     ; //#define ECO_PAGE_SIZE 64
                        248     ; //#define ECO_PAGE_ADDR_OFFSET 47
                        249     ; 
                        250     ; 
                        251     ; #define ECO_PAGE_SIZE 128
                        252     ; #define ECO_PAGE_ADDR_OFFSET 28
                        253     ; 
                        254     ; 
                        255     ; #if ECO_PAGE_SIZE == 64
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              05/03/09 23:05:29 PAGE     5

                        256     ;       
                        257     ;       #define ECO_PAGE_ENTRY  (64-ECO_PAGE_ADDR_OFFSET)
                        258     ;       #define ECO_PAGE_SHIFT  6
                        259     ;       #define ECO_PAGE_MASK   0x003F
                        260     ;       #define ECO_PAGE_MOV_MASK       0xFFC0
                        261     ; 
                        262     ;       unsigned int idata ECO_PAGE_TABLE[ECO_PAGE_ENTRY];
                        263     ;       //Eco page virtual address id
                        264     ;       unsigned int ECO_PAGE_PREV_VID;
                        265     ;       //Eco page physical address id 
                        266     ;       unsigned int ECO_PAGE_PREV_PID;
                        267     ; 
                        268     ; #elif ECO_PAGE_SIZE == 128
                        269     ;       
                        270     ;       #define ECO_PAGE_ENTRY (32-ECO_PAGE_ADDR_OFFSET)
                        271     ;       #define ECO_PAGE_SHIFT  7
                        272     ;       #define ECO_PAGE_MASK   0x007F
                        273     ;       #define ECO_PAGE_MOV_MASK       0xFF80
                        274     ; 
                        275     ;       unsigned int idata ECO_PAGE_TABLE[ECO_PAGE_ENTRY];
                        276     ;       //Eco page virtual address id
                        277     ;       unsigned int ECO_PAGE_PREV_VID;
                        278     ;       //Eco page physical address id 
                        279     ;       unsigned int ECO_PAGE_PREV_PID;
                        280     ; 
                        281     ; #elif ECO_PAGE_SIZE == 256
                        282     ;       
                        283     ;       #define ECO_PAGE_ENTRY  (16-ECO_PAGE_ADDR_OFFSET)
                        284     ;       #define ECO_PAGE_SHIFT  8       
                        285     ;       #define ECO_PAGE_MASK   0x00FF
                        286     ;       #define ECO_PAGE_MOV_MASK       0xFF00
                        287     ; 
                        288     ;       unsigned int ECO_PAGE_TABLE[ECO_PAGE_ENTRY];
                        289     ;       //Eco page virtual address id
                        290     ;       unsigned char ECO_PAGE_PREV_VID;
                        291     ;       //Eco page physical address id 
                        292     ;       unsigned char ECO_PAGE_PREV_PID;
                        293     ; 
                        294     ; #endif
                        295     ; 
                        296     ; unsigned char ECO_PAGE_TABLE_INDEX;
                        297     ; unsigned int ECO_PAGE_ADDR;
                        298     ; unsigned char ECO_PAGE_SPI_CONN;
                        299     ; 
                        300     ; unsigned char idata ECO_PAGE_REGISTER1;
                        301     ; unsigned char idata ECO_PAGE_REGISTER2;
                        302     ; unsigned char idata ECO_PAGE_REGISTER3;
                        303     ; unsigned char idata ECO_PAGE_REGISTER4;
                        304     ; unsigned char idata ECO_PAGE_REGISTER5;
                        305     ; unsigned char idata ECO_PAGE_REGISTER6;
                        306     ; unsigned char idata ECO_PAGE_REGISTER7;
                        307     ; 
                        308     ; 
                        309     ; void eco_page_init()
                        310     
------                  311             RSEG  ?PR?eco_page_init?ECO_PAGE
000000                  312     eco_page_init:
                        313                             ; SOURCE LINE # 92
                        314     ; {
                        315                             ; SOURCE LINE # 93
                        316     ;       //ECO_PAGE_TABLE_INDEX = ECO_PAGE_ENTRY - 1;
                        317     ;       ECO_PAGE_TABLE_INDEX = 0;       
                        318                             ; SOURCE LINE # 95
000000 E4               319             CLR     A
000001 F500       F     320             MOV     ECO_PAGE_TABLE_INDEX,A
                        321     ;       ECO_PAGE_ADDR = 0;
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              05/03/09 23:05:29 PAGE     6

                        322                             ; SOURCE LINE # 96
000003 F500       F     323             MOV     ECO_PAGE_ADDR,A
000005 F500       F     324             MOV     ECO_PAGE_ADDR+01H,A
                        325     ;       ECO_PAGE_PREV_VID = 0;
                        326                             ; SOURCE LINE # 97
000007 F500       F     327             MOV     ECO_PAGE_PREV_VID,A
000009 F500       F     328             MOV     ECO_PAGE_PREV_VID+01H,A
                        329     ;       ECO_PAGE_PREV_PID = 0;
                        330                             ; SOURCE LINE # 98
00000B F500       F     331             MOV     ECO_PAGE_PREV_PID,A
00000D F500       F     332             MOV     ECO_PAGE_PREV_PID+01H,A
                        333     ; }
                        334                             ; SOURCE LINE # 99
00000F 22               335             RET     
                        336     ; END OF eco_page_init
                        337     
                        338     ; 
                        339     ; 
                        340     ; #if PAGE_REPLACEMENT == 0 
                        341     ; //LRU page replacement
                        342     ; void eco_page_manager()
                        343     
------                  344             RSEG  ?PR?eco_page_manager?ECO_PAGE
000000                  345     eco_page_manager:
                        346             USING   0
                        347                             ; SOURCE LINE # 104
                        348     ; {
                        349                             ; SOURCE LINE # 105
                        350     ;       unsigned int i;
                        351     ;       unsigned int page_index = -1;
                        352                             ; SOURCE LINE # 107
000000 74FF             353             MOV     A,#0FFH
000002 F500       F     354             MOV     page_index?143,A
000004 F500       F     355             MOV     page_index?143+01H,A
                        356     ; 
                        357     ;       //if page id is the same with the last page id
                        358     ;       if((ECO_PAGE_ADDR >> ECO_PAGE_SHIFT) == ECO_PAGE_PREV_PID)
                        359                             ; SOURCE LINE # 110
000006 E500       F     360             MOV     A,ECO_PAGE_ADDR+01H
000008 AE00       F     361             MOV     R6,ECO_PAGE_ADDR
00000A 7807             362             MOV     R0,#07H
00000C                  363     ?C0018:
00000C CE               364             XCH     A,R6
00000D C3               365             CLR     C
00000E 13               366             RRC     A
00000F CE               367             XCH     A,R6
000010 13               368             RRC     A
000011 D8F9             369             DJNZ    R0,?C0018
000013 B50048           370             CJNE    A,ECO_PAGE_PREV_PID+01H,?C0002
000016 EE               371             MOV     A,R6
000017 B50044           372             CJNE    A,ECO_PAGE_PREV_PID,?C0002
                        373     ;       {
                        374                             ; SOURCE LINE # 111
                        375     ;               //virtual address id + function offset
                        376     ;               ECO_PAGE_ADDR = (ECO_PAGE_PREV_VID << ECO_PAGE_SHIFT) + (ECO_PAGE_ADDR &
                                ECO_PAGE_MASK);
                        377                             ; SOURCE LINE # 113
00001A E500       F     378             MOV     A,ECO_PAGE_PREV_VID+01H
00001C AE00       F     379             MOV     R6,ECO_PAGE_PREV_VID
00001E 7807             380             MOV     R0,#07H
000020                  381     ?C0020:
000020 C3               382             CLR     C
000021 33               383             RLC     A
000022 CE               384             XCH     A,R6
000023 33               385             RLC     A
000024 CE               386             XCH     A,R6
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              05/03/09 23:05:29 PAGE     7

000025 D8F9             387             DJNZ    R0,?C0020
000027 FF               388             MOV     R7,A
000028 7C00             389             MOV     R4,#00H
00002A E500       F     390             MOV     A,ECO_PAGE_ADDR+01H
00002C 547F             391             ANL     A,#07FH
00002E 2F               392             ADD     A,R7
00002F F500       F     393             MOV     ECO_PAGE_ADDR+01H,A
000031 EC               394             MOV     A,R4
000032 3E               395             ADDC    A,R6
000033 F500       F     396             MOV     ECO_PAGE_ADDR,A
                        397     ;               #pragma asm
000035 7800       F     398             MOV     R0,#LOW (ECO_PAGE_REGISTER1)
000037 E6               399             MOV     A,@R0
000038 F9               400             MOV     R1,A
000039 7800       F     401             MOV     R0,#LOW (ECO_PAGE_REGISTER2)
00003B E6               402             MOV     A,@R0
00003C FA               403             MOV     R2,A
00003D 7800       F     404             MOV     R0,#LOW (ECO_PAGE_REGISTER3)
00003F E6               405             MOV     A,@R0
000040 FB               406             MOV     R3,A
000041 7800       F     407             MOV     R0,#LOW (ECO_PAGE_REGISTER4)
000043 E6               408             MOV     A,@R0
000044 FC               409             MOV     R4,A
000045 7800       F     410             MOV     R0,#LOW (ECO_PAGE_REGISTER5)
000047 E6               411             MOV     A,@R0
000048 FD               412             MOV     R5,A
000049 7800       F     413             MOV     R0,#LOW (ECO_PAGE_REGISTER6)
00004B E6               414             MOV     A,@R0
00004C FE               415             MOV     R6,A
00004D 7800       F     416             MOV     R0,#LOW (ECO_PAGE_REGISTER7)
00004F E6               417             MOV     A,@R0
000050 FF               418             MOV     R7,A
000051 8500B3     F     419             MOV     SPI_CTRL,ECO_PAGE_SPI_CONN
000054 850083     F     420             MOV     DPH,ECO_PAGE_ADDR
000057 850082     F     421             MOV     DPL,ECO_PAGE_ADDR+01H
00005A 120000     E     422             LCALL   ?C?ICALL2
                        423     ;               //eco_page_function_call
                        424               
00005D 22               425             RET     
                        426     ;               #pragma endasm
                        427     ;               return ;
                        428     ;       }
                        429                             ; SOURCE LINE # 118
00005E                  430     ?C0002:
                        431     ; 
                        432     ;       //Check Table   
                        433     ;       for(i=0;i<ECO_PAGE_ENTRY;i++)
                        434                             ; SOURCE LINE # 121
00005E E4               435             CLR     A
00005F F500       F     436             MOV     i?142,A
000061 F500       F     437             MOV     i?142+01H,A
000063                  438     ?C0004:
                        439     ;       {   
                        440                             ; SOURCE LINE # 122
                        441     ;               if((ECO_PAGE_ADDR >> ECO_PAGE_SHIFT) == (ECO_PAGE_TABLE[i] & 0x7FFF))
                        442                             ; SOURCE LINE # 123
000063 AD00       F     443             MOV     R5,i?142+01H
000065 ED               444             MOV     A,R5
000066 25E0             445             ADD     A,ACC
000068 2400       F     446             ADD     A,#LOW (ECO_PAGE_TABLE)
00006A F8               447             MOV     R0,A
00006B E6               448             MOV     A,@R0
00006C 547F             449             ANL     A,#07FH
00006E FA               450             MOV     R2,A
00006F 08               451             INC     R0
000070 E6               452             MOV     A,@R0
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              05/03/09 23:05:29 PAGE     8

000071 FB               453             MOV     R3,A
000072 E500       F     454             MOV     A,ECO_PAGE_ADDR+01H
000074 AE00       F     455             MOV     R6,ECO_PAGE_ADDR
000076 7807             456             MOV     R0,#07H
000078                  457     ?C0021:
000078 CE               458             XCH     A,R6
000079 C3               459             CLR     C
00007A 13               460             RRC     A
00007B CE               461             XCH     A,R6
00007C 13               462             RRC     A
00007D D8F9             463             DJNZ    R0,?C0021
00007F B50319           464             CJNE    A,AR3,?C0006
000082 EE               465             MOV     A,R6
000083 B50215           466             CJNE    A,AR2,?C0006
                        467     ;               {
                        468                             ; SOURCE LINE # 124
                        469     ;                       page_index = i;
                        470                             ; SOURCE LINE # 125
000086 850000     F     471             MOV     page_index?143,i?142
000089 850000     F     472             MOV     page_index?143+01H,i?142+01H
                        473     ; 
                        474     ;                       //set LRU bit is 1
                        475     ;                       ECO_PAGE_TABLE[i] = ECO_PAGE_TABLE[i] | 0x8000;
                        476                             ; SOURCE LINE # 128
00008C ED               477             MOV     A,R5
00008D 25E0             478             ADD     A,ACC
00008F 2400       F     479             ADD     A,#LOW (ECO_PAGE_TABLE)
000091 F8               480             MOV     R0,A
000092 7480             481             MOV     A,#080H
000094 46               482             ORL     A,@R0
000095 F6               483             MOV     @R0,A
000096 08               484             INC     R0
000097 E6               485             MOV     A,@R0
000098 F6               486             MOV     @R0,A
                        487     ;                       break;
                        488                             ; SOURCE LINE # 129
000099 800E             489             SJMP    ?C0005
                        490     ;               }
                        491                             ; SOURCE LINE # 130
                        492     ;       }
                        493                             ; SOURCE LINE # 131
00009B                  494     ?C0006:
00009B 0500       F     495             INC     i?142+01H
00009D E500       F     496             MOV     A,i?142+01H
00009F 7002             497             JNZ     ?C0023
0000A1 0500       F     498             INC     i?142
0000A3                  499     ?C0023:
0000A3 6404             500             XRL     A,#04H
0000A5 4500       F     501             ORL     A,i?142
0000A7 70BA             502             JNZ     ?C0004
0000A9                  503     ?C0005:
                        504     ; 
                        505     ;       if(page_index != -1)
                        506                             ; SOURCE LINE # 133
0000A9 E500       F     507             MOV     A,page_index?143+01H
0000AB F4               508             CPL     A
0000AC 7003             509             JNZ     ?C0024
0000AE E500       F     510             MOV     A,page_index?143
0000B0 F4               511             CPL     A
0000B1                  512     ?C0024:
0000B1 606C             513             JZ      ?C0008
                        514     ;       {
                        515                             ; SOURCE LINE # 134
                        516     ;               //store function physical addres id 
                        517     ;               ECO_PAGE_PREV_PID = ECO_PAGE_ADDR >> ECO_PAGE_SHIFT;
                        518                             ; SOURCE LINE # 136
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              05/03/09 23:05:29 PAGE     9

0000B3 E500       F     519             MOV     A,ECO_PAGE_ADDR+01H
0000B5 AE00       F     520             MOV     R6,ECO_PAGE_ADDR
0000B7 7807             521             MOV     R0,#07H
0000B9                  522     ?C0025:
0000B9 CE               523             XCH     A,R6
0000BA C3               524             CLR     C
0000BB 13               525             RRC     A
0000BC CE               526             XCH     A,R6
0000BD 13               527             RRC     A
0000BE D8F9             528             DJNZ    R0,?C0025
0000C0 F500       F     529             MOV     ECO_PAGE_PREV_PID+01H,A
0000C2 8E00       F     530             MOV     ECO_PAGE_PREV_PID,R6
                        531     ;       
                        532     ;               //memory page is in ram
                        533     ;               ECO_PAGE_ADDR = ((page_index + ECO_PAGE_ADDR_OFFSET) << ECO_PAGE_SHIFT) 
                               + (ECO_PAGE_ADDR & ECO_PAGE_MASK);
                        534                             ; SOURCE LINE # 139
0000C4 E500       F     535             MOV     A,page_index?143+01H
0000C6 241C             536             ADD     A,#01CH
0000C8 FF               537             MOV     R7,A
0000C9 E4               538             CLR     A
0000CA 3500       F     539             ADDC    A,page_index?143
0000CC FE               540             MOV     R6,A
0000CD EF               541             MOV     A,R7
0000CE 7807             542             MOV     R0,#07H
0000D0                  543     ?C0026:
0000D0 C3               544             CLR     C
0000D1 33               545             RLC     A
0000D2 CE               546             XCH     A,R6
0000D3 33               547             RLC     A
0000D4 CE               548             XCH     A,R6
0000D5 D8F9             549             DJNZ    R0,?C0026
0000D7 FF               550             MOV     R7,A
0000D8 7C00             551             MOV     R4,#00H
0000DA E500       F     552             MOV     A,ECO_PAGE_ADDR+01H
0000DC 547F             553             ANL     A,#07FH
0000DE 2F               554             ADD     A,R7
0000DF F500       F     555             MOV     ECO_PAGE_ADDR+01H,A
0000E1 EC               556             MOV     A,R4
0000E2 3E               557             ADDC    A,R6
0000E3 F500       F     558             MOV     ECO_PAGE_ADDR,A
                        559     ; 
                        560     ;               //cache the virtual address id
                        561     ;               ECO_PAGE_PREV_VID = ECO_PAGE_ADDR >> ECO_PAGE_SHIFT;
                        562                             ; SOURCE LINE # 142
0000E5 E500       F     563             MOV     A,ECO_PAGE_ADDR+01H
0000E7 AE00       F     564             MOV     R6,ECO_PAGE_ADDR
0000E9 7807             565             MOV     R0,#07H
0000EB                  566     ?C0027:
0000EB CE               567             XCH     A,R6
0000EC C3               568             CLR     C
0000ED 13               569             RRC     A
0000EE CE               570             XCH     A,R6
0000EF 13               571             RRC     A
0000F0 D8F9             572             DJNZ    R0,?C0027
0000F2 F500       F     573             MOV     ECO_PAGE_PREV_VID+01H,A
0000F4 8E00       F     574             MOV     ECO_PAGE_PREV_VID,R6
                        575     ; 
                        576     ; 
                        577     ;               
                        578     ;               #pragma asm
0000F6 7800       F     579             MOV     R0,#LOW (ECO_PAGE_REGISTER1)
0000F8 E6               580             MOV     A,@R0
0000F9 F9               581             MOV     R1,A
0000FA 7800       F     582             MOV     R0,#LOW (ECO_PAGE_REGISTER2)
0000FC E6               583             MOV     A,@R0
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              05/03/09 23:05:29 PAGE    10

0000FD FA               584             MOV     R2,A
0000FE 7800       F     585             MOV     R0,#LOW (ECO_PAGE_REGISTER3)
000100 E6               586             MOV     A,@R0
000101 FB               587             MOV     R3,A
000102 7800       F     588             MOV     R0,#LOW (ECO_PAGE_REGISTER4)
000104 E6               589             MOV     A,@R0
000105 FC               590             MOV     R4,A
000106 7800       F     591             MOV     R0,#LOW (ECO_PAGE_REGISTER5)
000108 E6               592             MOV     A,@R0
000109 FD               593             MOV     R5,A
00010A 7800       F     594             MOV     R0,#LOW (ECO_PAGE_REGISTER6)
00010C E6               595             MOV     A,@R0
00010D FE               596             MOV     R6,A
00010E 7800       F     597             MOV     R0,#LOW (ECO_PAGE_REGISTER7)
000110 E6               598             MOV     A,@R0
000111 FF               599             MOV     R7,A
000112 8500B3     F     600             MOV     SPI_CTRL,ECO_PAGE_SPI_CONN
000115 850083     F     601             MOV     DPH,ECO_PAGE_ADDR
000118 850082     F     602             MOV     DPL,ECO_PAGE_ADDR+01H
00011B 120000     E     603             LCALL   ?C?ICALL2
                        604     ;               //eco_page_function_call
                        605               
                        606     ;               //MOV     DPH,ECO_PAGE_ADDR
                        607               
                        608     ;               //MOV     DPL,ECO_PAGE_ADDR+01H
                        609               
                        610     ;               //LCALL ?C?ICALL2
                        611               
00011E 22               612             RET     
                        613     ;               #pragma endasm
                        614     ; 
                        615     ;               return ;
                        616     ;       }       
                        617                             ; SOURCE LINE # 154
00011F                  618     ?C0008:
                        619     ;       else
                        620     ;       {
                        621                             ; SOURCE LINE # 156
                        622     ;               //page fault
                        623     ;               for(i=(ECO_PAGE_TABLE_INDEX+1)%ECO_PAGE_ENTRY; ;i=(i+1)%ECO_PAGE_ENTRY)
                        624                             ; SOURCE LINE # 158
00011F E500       F     625             MOV     A,ECO_PAGE_TABLE_INDEX
000121 020000     F     626             LJMP    ?C0033
000124                  627     ?C0010:
                        628     ;               {
                        629                             ; SOURCE LINE # 159
                        630     ;                       if((ECO_PAGE_TABLE[i] & 0x8000) == 0x8000)
                        631                             ; SOURCE LINE # 160
000124 AF00       F     632             MOV     R7,i?142+01H
000126 EF               633             MOV     A,R7
000127 25E0             634             ADD     A,ACC
000129 2400       F     635             ADD     A,#LOW (ECO_PAGE_TABLE)
00012B F8               636             MOV     R0,A
00012C E6               637             MOV     A,@R0
00012D 30E70D           638             JNB     ACC.7,?C0013
                        639     ;                       {
                        640                             ; SOURCE LINE # 161
                        641     ;                               //LRU bit is 1 and then set this bit is 0
                        642     ;                               ECO_PAGE_TABLE[i] = ECO_PAGE_TABLE[i] & 0x7FFF;
                        643                             ; SOURCE LINE # 163
000130 EF               644             MOV     A,R7
000131 25E0             645             ADD     A,ACC
000133 2400       F     646             ADD     A,#LOW (ECO_PAGE_TABLE)
000135 F8               647             MOV     R0,A
000136 747F             648             MOV     A,#07FH
000138 56               649             ANL     A,@R0
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              05/03/09 23:05:29 PAGE    11

000139 F6               650             MOV     @R0,A
                        651     ;                       }
                        652                             ; SOURCE LINE # 164
00013A 020000     F     653             LJMP    ?C0012
00013D                  654     ?C0013:
                        655     ;                       else
                        656     ;                       {
                        657                             ; SOURCE LINE # 166
                        658     ;                               unsigned char xdata *seg = (unsigned char xdata *)((i + 
                               ECO_PAGE_ADDR_OFFSET) << ECO_PAGE_SHIFT);
                        659                             ; SOURCE LINE # 167
00013D E500       F     660             MOV     A,i?142+01H
00013F 241C             661             ADD     A,#01CH
000141 FF               662             MOV     R7,A
000142 E4               663             CLR     A
000143 3500       F     664             ADDC    A,i?142
000145 FE               665             MOV     R6,A
000146 EF               666             MOV     A,R7
000147 7807             667             MOV     R0,#07H
000149                  668     ?C0028:
000149 C3               669             CLR     C
00014A 33               670             RLC     A
00014B CE               671             XCH     A,R6
00014C 33               672             RLC     A
00014D CE               673             XCH     A,R6
00014E D8F9             674             DJNZ    R0,?C0028
000150 8E00       F     675             MOV     seg?140,R6
000152 F500       F     676             MOV     seg?140+01H,A
                        677     ;                               unsigned int j;
                        678     ;                               
                        679     ;                               //memory page is in ram
                        680     ;                               eeprom_init();
                        681                             ; SOURCE LINE # 171
000154 120000     E     682             LCALL   eeprom_init
                        683     ; 
                        684     ;                               //mov code from eeprom to external ram
                        685     ;                               for(j=0;j<ECO_PAGE_SIZE;j++)
                        686                             ; SOURCE LINE # 174
000157 E4               687             CLR     A
000158 F500       F     688             MOV     j?141,A
00015A F500       F     689             MOV     j?141+01H,A
00015C                  690     ?C0015:
                        691     ;                               {
                        692                             ; SOURCE LINE # 175
                        693     ;                                       *(seg+j) = eeprom_read(ECO_ADDR_SHIFT(ECO_PAGE_A
                               DDR & ECO_PAGE_MOV_MASK ) +j);
                        694                             ; SOURCE LINE # 176
00015C E500       F     695             MOV     A,ECO_PAGE_ADDR+01H
00015E 5480             696             ANL     A,#080H
000160 2403             697             ADD     A,#03H
000162 FF               698             MOV     R7,A
000163 E4               699             CLR     A
000164 3500       F     700             ADDC    A,ECO_PAGE_ADDR
000166 CF               701             XCH     A,R7
000167 2500       F     702             ADD     A,j?141+01H
000169 CF               703             XCH     A,R7
00016A 3500       F     704             ADDC    A,j?141
00016C FE               705             MOV     R6,A
00016D 120000     E     706             LCALL   _eeprom_read
000170 E500       F     707             MOV     A,seg?140+01H
000172 2500       F     708             ADD     A,j?141+01H
000174 F582             709             MOV     DPL,A
000176 E500       F     710             MOV     A,seg?140
000178 3500       F     711             ADDC    A,j?141
00017A F583             712             MOV     DPH,A
00017C EF               713             MOV     A,R7
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              05/03/09 23:05:29 PAGE    12

00017D F0               714             MOVX    @DPTR,A
                        715     ;                               }
                        716                             ; SOURCE LINE # 177
00017E 0500       F     717             INC     j?141+01H
000180 E500       F     718             MOV     A,j?141+01H
000182 7002             719             JNZ     ?C0029
000184 0500       F     720             INC     j?141
000186                  721     ?C0029:
000186 C3               722             CLR     C
000187 9480             723             SUBB    A,#080H
000189 E500       F     724             MOV     A,j?141
00018B 9400             725             SUBB    A,#00H
00018D 40CD             726             JC      ?C0015
00018F                  727     ?C0016:
                        728     ;                               
                        729     ;                               //update page table to connect this physical address id 
                               with virtual address id 
                        730     ;                               ECO_PAGE_TABLE[i] = ECO_PAGE_ADDR >> ECO_PAGE_SHIFT;
                        731                             ; SOURCE LINE # 180
00018F E500       F     732             MOV     A,ECO_PAGE_ADDR+01H
000191 AE00       F     733             MOV     R6,ECO_PAGE_ADDR
000193 7807             734             MOV     R0,#07H
000195                  735     ?C0030:
000195 CE               736             XCH     A,R6
000196 C3               737             CLR     C
000197 13               738             RRC     A
000198 CE               739             XCH     A,R6
000199 13               740             RRC     A
00019A D8F9             741             DJNZ    R0,?C0030
00019C FF               742             MOV     R7,A
00019D AD00       F     743             MOV     R5,i?142+01H
00019F ED               744             MOV     A,R5
0001A0 25E0             745             ADD     A,ACC
0001A2 2400       F     746             ADD     A,#LOW (ECO_PAGE_TABLE)
0001A4 F8               747             MOV     R0,A
0001A5 A606             748             MOV     @R0,AR6
0001A7 08               749             INC     R0
0001A8 A607             750             MOV     @R0,AR7
                        751     ; 
                        752     ;                               //store physical address id
                        753     ;                               ECO_PAGE_PREV_PID = ECO_PAGE_TABLE[i];
                        754                             ; SOURCE LINE # 183
0001AA ED               755             MOV     A,R5
0001AB 25E0             756             ADD     A,ACC
0001AD 2400       F     757             ADD     A,#LOW (ECO_PAGE_TABLE)
0001AF F8               758             MOV     R0,A
0001B0 E6               759             MOV     A,@R0
0001B1 F500       F     760             MOV     ECO_PAGE_PREV_PID,A
0001B3 08               761             INC     R0
0001B4 E6               762             MOV     A,@R0
0001B5 F500       F     763             MOV     ECO_PAGE_PREV_PID+01H,A
                        764     ; 
                        765     ;                               //update page address e.g.  (page_id<<8) + page_offset
                        766     ;                               ECO_PAGE_ADDR = ((i + ECO_PAGE_ADDR_OFFSET) << ECO_PAGE_
                               SHIFT) + (ECO_PAGE_ADDR & ECO_PAGE_MASK);
                        767                             ; SOURCE LINE # 186
0001B7 E500       F     768             MOV     A,i?142+01H
0001B9 241C             769             ADD     A,#01CH
0001BB FF               770             MOV     R7,A
0001BC E4               771             CLR     A
0001BD 3500       F     772             ADDC    A,i?142
0001BF FE               773             MOV     R6,A
0001C0 EF               774             MOV     A,R7
0001C1 7807             775             MOV     R0,#07H
0001C3                  776     ?C0031:
0001C3 C3               777             CLR     C
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              05/03/09 23:05:29 PAGE    13

0001C4 33               778             RLC     A
0001C5 CE               779             XCH     A,R6
0001C6 33               780             RLC     A
0001C7 CE               781             XCH     A,R6
0001C8 D8F9             782             DJNZ    R0,?C0031
0001CA FF               783             MOV     R7,A
0001CB 7C00             784             MOV     R4,#00H
0001CD E500       F     785             MOV     A,ECO_PAGE_ADDR+01H
0001CF 547F             786             ANL     A,#07FH
0001D1 2F               787             ADD     A,R7
0001D2 F500       F     788             MOV     ECO_PAGE_ADDR+01H,A
0001D4 EC               789             MOV     A,R4
0001D5 3E               790             ADDC    A,R6
0001D6 F500       F     791             MOV     ECO_PAGE_ADDR,A
                        792     ; 
                        793     ;                               //store virtual address id 
                        794     ;                               ECO_PAGE_PREV_VID = ECO_PAGE_ADDR >> ECO_PAGE_SHIFT;    
                        795                             ; SOURCE LINE # 189
0001D8 E500       F     796             MOV     A,ECO_PAGE_ADDR+01H
0001DA AE00       F     797             MOV     R6,ECO_PAGE_ADDR
0001DC 7807             798             MOV     R0,#07H
0001DE                  799     ?C0032:
0001DE CE               800             XCH     A,R6
0001DF C3               801             CLR     C
0001E0 13               802             RRC     A
0001E1 CE               803             XCH     A,R6
0001E2 13               804             RRC     A
0001E3 D8F9             805             DJNZ    R0,?C0032
0001E5 F500       F     806             MOV     ECO_PAGE_PREV_VID+01H,A
0001E7 8E00       F     807             MOV     ECO_PAGE_PREV_VID,R6
                        808     ; 
                        809     ;                               //mov to the next index
                        810     ;                               ECO_PAGE_TABLE_INDEX = i;
                        811                             ; SOURCE LINE # 192
0001E9 850000     F     812             MOV     ECO_PAGE_TABLE_INDEX,i?142+01H
                        813     ; 
                        814     ;                               //jump  to function address
                        815     ;                               #pragma asm
0001EC 7800       F     816             MOV     R0,#LOW (ECO_PAGE_REGISTER1)
0001EE E6               817             MOV     A,@R0
0001EF F9               818             MOV     R1,A
0001F0 7800       F     819             MOV     R0,#LOW (ECO_PAGE_REGISTER2)
0001F2 E6               820             MOV     A,@R0
0001F3 FA               821             MOV     R2,A
0001F4 7800       F     822             MOV     R0,#LOW (ECO_PAGE_REGISTER3)
0001F6 E6               823             MOV     A,@R0
0001F7 FB               824             MOV     R3,A
0001F8 7800       F     825             MOV     R0,#LOW (ECO_PAGE_REGISTER4)
0001FA E6               826             MOV     A,@R0
0001FB FC               827             MOV     R4,A
0001FC 7800       F     828             MOV     R0,#LOW (ECO_PAGE_REGISTER5)
0001FE E6               829             MOV     A,@R0
0001FF FD               830             MOV     R5,A
000200 7800       F     831             MOV     R0,#LOW (ECO_PAGE_REGISTER6)
000202 E6               832             MOV     A,@R0
000203 FE               833             MOV     R6,A
000204 7800       F     834             MOV     R0,#LOW (ECO_PAGE_REGISTER7)
000206 E6               835             MOV     A,@R0
000207 FF               836             MOV     R7,A
000208 8500B3     F     837             MOV     SPI_CTRL,ECO_PAGE_SPI_CONN
00020B 850083     F     838             MOV     DPH,ECO_PAGE_ADDR
00020E 850082     F     839             MOV     DPL,ECO_PAGE_ADDR+01H
000211 120000     E     840             LCALL   ?C?ICALL2
                        841     ;                               //eco_page_function_call
                        842               
                        843     ;                               //MOV     DPH,ECO_PAGE_ADDR
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              05/03/09 23:05:29 PAGE    14

                        844               
                        845     ;                               //MOV     DPL,ECO_PAGE_ADDR+01H
                        846               
                        847     ;                               //LCALL        ?C?ICALL2               
                        848               
000214 22               849             RET     
                        850     ;                               #pragma endasm
                        851     ;                               
                        852     ;                               return ;
                        853     ;                               
                        854     ;                       }
                        855                             ; SOURCE LINE # 204
                        856     ;               }
                        857                             ; SOURCE LINE # 205
000215                  858     ?C0012:
000215 E500       F     859             MOV     A,i?142+01H
000217                  860     ?C0033:
000217 2401             861             ADD     A,#01H
000219 FF               862             MOV     R7,A
00021A 750000     F     863             MOV     i?142,#00H
00021D EF               864             MOV     A,R7
00021E 5403             865             ANL     A,#03H
000220 F500       F     866             MOV     i?142+01H,A
000222 020000     F     867             LJMP    ?C0010
                        868     ; END OF eco_page_manager
                        869     
                        870             END
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              05/03/09 23:05:29 PAGE    15

SYMBOL TABLE LISTING
------ ----- -------


N A M E                                    T Y P E  V A L U E     ATTRIBUTES

?C0002. . . . . . . . . . . . . . . . .    C  ADDR  005EH     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0004. . . . . . . . . . . . . . . . .    C  ADDR  0063H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0005. . . . . . . . . . . . . . . . .    C  ADDR  00A9H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0006. . . . . . . . . . . . . . . . .    C  ADDR  009BH     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0008. . . . . . . . . . . . . . . . .    C  ADDR  011FH     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0010. . . . . . . . . . . . . . . . .    C  ADDR  0124H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0012. . . . . . . . . . . . . . . . .    C  ADDR  0215H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0013. . . . . . . . . . . . . . . . .    C  ADDR  013DH     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0015. . . . . . . . . . . . . . . . .    C  ADDR  015CH     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0016. . . . . . . . . . . . . . . . .    C  ADDR  018FH     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0018. . . . . . . . . . . . . . . . .    C  ADDR  000CH     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0020. . . . . . . . . . . . . . . . .    C  ADDR  0020H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0021. . . . . . . . . . . . . . . . .    C  ADDR  0078H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0023. . . . . . . . . . . . . . . . .    C  ADDR  00A3H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0024. . . . . . . . . . . . . . . . .    C  ADDR  00B1H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0025. . . . . . . . . . . . . . . . .    C  ADDR  00B9H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0026. . . . . . . . . . . . . . . . .    C  ADDR  00D0H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0027. . . . . . . . . . . . . . . . .    C  ADDR  00EBH     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0028. . . . . . . . . . . . . . . . .    C  ADDR  0149H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0029. . . . . . . . . . . . . . . . .    C  ADDR  0186H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0030. . . . . . . . . . . . . . . . .    C  ADDR  0195H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0031. . . . . . . . . . . . . . . . .    C  ADDR  01C3H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0032. . . . . . . . . . . . . . . . .    C  ADDR  01DEH     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0033. . . . . . . . . . . . . . . . .    C  ADDR  0217H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C?ICALL2 . . . . . . . . . . . . . . .    C  ADDR  -------       EXT
?DT?ECO_PAGE. . . . . . . . . . . . . .    D  SEG   000008H       REL=UNIT, ALN=BYTE
?DT?ECO_PAGE_MANAGER?ECO_PAGE . . . . .    D  SEG   000008H       REL=UNIT, ALN=BYTE
?ECO_PAGE_MANAGER?BYTE. . . . . . . . .    D  ADDR  0000H     R   SEG=?DT?ECO_PAGE_MANAGER?ECO_PAGE
?ID?ECO_PAGE. . . . . . . . . . . . . .    I  SEG   00000FH       REL=UNIT, ALN=BYTE
?PR?ECO_PAGE_INIT?ECO_PAGE. . . . . . .    C  SEG   000010H       REL=UNIT, ALN=BYTE
?PR?ECO_PAGE_MANAGER?ECO_PAGE . . . . .    C  SEG   000225H       REL=UNIT, ALN=BYTE
_EEPROM_READ. . . . . . . . . . . . . .    C  ADDR  -------       EXT
AC. . . . . . . . . . . . . . . . . . .    B  ADDR  00D0H.6   A   
ACC . . . . . . . . . . . . . . . . . .    D  ADDR  00E0H     A   
ADCCON. . . . . . . . . . . . . . . . .    D  ADDR  00A1H     A   
ADCDATAH. . . . . . . . . . . . . . . .    D  ADDR  00A2H     A   
ADCDATAL. . . . . . . . . . . . . . . .    D  ADDR  00A3H     A   
ADCSTATIC . . . . . . . . . . . . . . .    D  ADDR  00A4H     A   
AR2 . . . . . . . . . . . . . . . . . .    D  ADDR  0002H     A   
AR3 . . . . . . . . . . . . . . . . . .    D  ADDR  0003H     A   
AR6 . . . . . . . . . . . . . . . . . .    D  ADDR  0006H     A   
AR7 . . . . . . . . . . . . . . . . . .    D  ADDR  0007H     A   
B . . . . . . . . . . . . . . . . . . .    D  ADDR  00F0H     A   
C_T2. . . . . . . . . . . . . . . . . .    B  ADDR  00C8H.1   A   
CE. . . . . . . . . . . . . . . . . . .    B  ADDR  00A0H.6   A   
CK_CTRL . . . . . . . . . . . . . . . .    D  ADDR  00B6H     A   
CKCON . . . . . . . . . . . . . . . . .    D  ADDR  008EH     A   
CLK1. . . . . . . . . . . . . . . . . .    B  ADDR  00A0H.1   A   
CLK2. . . . . . . . . . . . . . . . . .    B  ADDR  00A0H.5   A   
CP_RL2. . . . . . . . . . . . . . . . .    B  ADDR  00C8H.0   A   
CPRL2 . . . . . . . . . . . . . . . . .    B  ADDR  00C8H.0   A   
CS. . . . . . . . . . . . . . . . . . .    B  ADDR  00A0H.3   A   
CT2 . . . . . . . . . . . . . . . . . .    B  ADDR  00C8H.1   A   
CY. . . . . . . . . . . . . . . . . . .    B  ADDR  00D0H.7   A   
DATA? . . . . . . . . . . . . . . . . .    B  ADDR  00A0H.0   A   
DEV_OFFSET. . . . . . . . . . . . . . .    D  ADDR  00BEH     A   
DIN0. . . . . . . . . . . . . . . . . .    B  ADDR  0090H.2   A   
DIO0. . . . . . . . . . . . . . . . . .    B  ADDR  0090H.0   A   
DIO1. . . . . . . . . . . . . . . . . .    B  ADDR  0090H.1   A   
DIO2. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.0   A   
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              05/03/09 23:05:29 PAGE    16

DIO3. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.1   A   
DIO4. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.2   A   
DIO5. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.3   A   
DIO6. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.4   A   
DIO7. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.5   A   
DIO8. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.6   A   
DIO9. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.7   A   
DOUT2 . . . . . . . . . . . . . . . . .    B  ADDR  00A0H.4   A   
DPH . . . . . . . . . . . . . . . . . .    D  ADDR  0083H     A   
DPH0. . . . . . . . . . . . . . . . . .    D  ADDR  0083H     A   
DPH1. . . . . . . . . . . . . . . . . .    D  ADDR  0085H     A   
DPL . . . . . . . . . . . . . . . . . .    D  ADDR  0082H     A   
DPL0. . . . . . . . . . . . . . . . . .    D  ADDR  0082H     A   
DPL1. . . . . . . . . . . . . . . . . .    D  ADDR  0084H     A   
DPS . . . . . . . . . . . . . . . . . .    D  ADDR  0086H     A   
DR1 . . . . . . . . . . . . . . . . . .    B  ADDR  00A0H.2   A   
DR2 . . . . . . . . . . . . . . . . . .    B  ADDR  00A0H.6   A   
DR2_CE. . . . . . . . . . . . . . . . .    B  ADDR  00A0H.6   A   
EA. . . . . . . . . . . . . . . . . . .    B  ADDR  00A8H.7   A   
ECO_PAGE. . . . . . . . . . . . . . . .    -- ----  -------       
ECO_PAGE_ADDR . . . . . . . . . . . . .    D  ADDR  0005H     R   SEG=?DT?ECO_PAGE
ECO_PAGE_INIT . . . . . . . . . . . . .    C  ADDR  0000H     R   SEG=?PR?ECO_PAGE_INIT?ECO_PAGE
ECO_PAGE_MANAGER. . . . . . . . . . . .    C  ADDR  0000H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
ECO_PAGE_PREV_PID . . . . . . . . . . .    D  ADDR  0001H     R   SEG=?DT?ECO_PAGE
ECO_PAGE_PREV_VID . . . . . . . . . . .    D  ADDR  0003H     R   SEG=?DT?ECO_PAGE
ECO_PAGE_REGISTER1. . . . . . . . . . .    I  ADDR  0008H     R   SEG=?ID?ECO_PAGE
ECO_PAGE_REGISTER2. . . . . . . . . . .    I  ADDR  0009H     R   SEG=?ID?ECO_PAGE
ECO_PAGE_REGISTER3. . . . . . . . . . .    I  ADDR  000AH     R   SEG=?ID?ECO_PAGE
ECO_PAGE_REGISTER4. . . . . . . . . . .    I  ADDR  000BH     R   SEG=?ID?ECO_PAGE
ECO_PAGE_REGISTER5. . . . . . . . . . .    I  ADDR  000CH     R   SEG=?ID?ECO_PAGE
ECO_PAGE_REGISTER6. . . . . . . . . . .    I  ADDR  000DH     R   SEG=?ID?ECO_PAGE
ECO_PAGE_REGISTER7. . . . . . . . . . .    I  ADDR  000EH     R   SEG=?ID?ECO_PAGE
ECO_PAGE_SPI_CONN . . . . . . . . . . .    D  ADDR  0000H     R   SEG=?DT?ECO_PAGE
ECO_PAGE_TABLE. . . . . . . . . . . . .    I  ADDR  0000H     R   SEG=?ID?ECO_PAGE
ECO_PAGE_TABLE_INDEX. . . . . . . . . .    D  ADDR  0007H     R   SEG=?DT?ECO_PAGE
EEPROM_INIT . . . . . . . . . . . . . .    C  ADDR  -------       EXT
EICON . . . . . . . . . . . . . . . . .    D  ADDR  00D8H     A   
EIE . . . . . . . . . . . . . . . . . .    D  ADDR  00E8H     A   
EIP . . . . . . . . . . . . . . . . . .    D  ADDR  00F8H     A   
ES. . . . . . . . . . . . . . . . . . .    B  ADDR  00A8H.4   A   
ET0 . . . . . . . . . . . . . . . . . .    B  ADDR  00A8H.1   A   
ET1 . . . . . . . . . . . . . . . . . .    B  ADDR  00A8H.3   A   
ET2 . . . . . . . . . . . . . . . . . .    B  ADDR  00A8H.5   A   
EWDI. . . . . . . . . . . . . . . . . .    B  ADDR  00E8H.4   A   
EX0 . . . . . . . . . . . . . . . . . .    B  ADDR  00A8H.0   A   
EX1 . . . . . . . . . . . . . . . . . .    B  ADDR  00A8H.2   A   
EX2 . . . . . . . . . . . . . . . . . .    B  ADDR  00E8H.0   A   
EX3 . . . . . . . . . . . . . . . . . .    B  ADDR  00E8H.1   A   
EX4 . . . . . . . . . . . . . . . . . .    B  ADDR  00E8H.2   A   
EX5 . . . . . . . . . . . . . . . . . .    B  ADDR  00E8H.3   A   
EXEN2 . . . . . . . . . . . . . . . . .    B  ADDR  00C8H.3   A   
EXF2. . . . . . . . . . . . . . . . . .    B  ADDR  00C8H.6   A   
EXIF. . . . . . . . . . . . . . . . . .    D  ADDR  0091H     A   
F0. . . . . . . . . . . . . . . . . . .    B  ADDR  00D0H.5   A   
F1. . . . . . . . . . . . . . . . . . .    B  ADDR  00D0H.1   A   
I?142 . . . . . . . . . . . . . . . . .    D  ADDR  0000H     R   SEG=?DT?ECO_PAGE_MANAGER?ECO_PAGE
IE. . . . . . . . . . . . . . . . . . .    D  ADDR  00A8H     A   
IE0 . . . . . . . . . . . . . . . . . .    B  ADDR  0088H.1   A   
IE1 . . . . . . . . . . . . . . . . . .    B  ADDR  0088H.3   A   
INT0_N. . . . . . . . . . . . . . . . .    B  ADDR  0080H.3   A   
INT1_N. . . . . . . . . . . . . . . . .    B  ADDR  0080H.4   A   
IP. . . . . . . . . . . . . . . . . . .    D  ADDR  00B8H     A   
IT0 . . . . . . . . . . . . . . . . . .    B  ADDR  0088H.0   A   
IT1 . . . . . . . . . . . . . . . . . .    B  ADDR  0088H.2   A   
J?141 . . . . . . . . . . . . . . . . .    D  ADDR  0006H     R   SEG=?DT?ECO_PAGE_MANAGER?ECO_PAGE
MPAGE . . . . . . . . . . . . . . . . .    D  ADDR  0092H     A   
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              05/03/09 23:05:29 PAGE    17

OV. . . . . . . . . . . . . . . . . . .    B  ADDR  00D0H.2   A   
P . . . . . . . . . . . . . . . . . . .    B  ADDR  00D0H.0   A   
P0. . . . . . . . . . . . . . . . . . .    D  ADDR  0080H     A   
P0_0. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.0   A   
P0_1. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.1   A   
P0_2. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.2   A   
P0_3. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.3   A   
P0_4. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.4   A   
P0_5. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.5   A   
P0_6. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.6   A   
P0_7. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.7   A   
P0_ALT. . . . . . . . . . . . . . . . .    D  ADDR  0095H     A   
P0_DIR. . . . . . . . . . . . . . . . .    D  ADDR  0094H     A   
P1. . . . . . . . . . . . . . . . . . .    D  ADDR  0090H     A   
P1_0. . . . . . . . . . . . . . . . . .    B  ADDR  0090H.0   A   
P1_1. . . . . . . . . . . . . . . . . .    B  ADDR  0090H.1   A   
P1_2. . . . . . . . . . . . . . . . . .    B  ADDR  0090H.2   A   
P1_ALT. . . . . . . . . . . . . . . . .    D  ADDR  0097H     A   
P1_DIR. . . . . . . . . . . . . . . . .    D  ADDR  0096H     A   
PAGE_INDEX?143. . . . . . . . . . . . .    D  ADDR  0002H     R   SEG=?DT?ECO_PAGE_MANAGER?ECO_PAGE
PCON. . . . . . . . . . . . . . . . . .    D  ADDR  0087H     A   
PS. . . . . . . . . . . . . . . . . . .    B  ADDR  00B8H.4   A   
PSW . . . . . . . . . . . . . . . . . .    D  ADDR  00D0H     A   
PT0 . . . . . . . . . . . . . . . . . .    B  ADDR  00B8H.1   A   
PT1 . . . . . . . . . . . . . . . . . .    B  ADDR  00B8H.3   A   
PT2 . . . . . . . . . . . . . . . . . .    B  ADDR  00B8H.5   A   
PWDI. . . . . . . . . . . . . . . . . .    B  ADDR  00F8H.4   A   
PWM . . . . . . . . . . . . . . . . . .    B  ADDR  0080H.7   A   
PWMCON. . . . . . . . . . . . . . . . .    D  ADDR  00A9H     A   
PWMDUTY . . . . . . . . . . . . . . . .    D  ADDR  00AAH     A   
PWR_UP. . . . . . . . . . . . . . . . .    B  ADDR  00A0H.7   A   
PX0 . . . . . . . . . . . . . . . . . .    B  ADDR  00B8H.0   A   
PX1 . . . . . . . . . . . . . . . . . .    B  ADDR  00B8H.2   A   
PX2 . . . . . . . . . . . . . . . . . .    B  ADDR  00F8H.0   A   
PX3 . . . . . . . . . . . . . . . . . .    B  ADDR  00F8H.1   A   
PX4 . . . . . . . . . . . . . . . . . .    B  ADDR  00F8H.2   A   
PX5 . . . . . . . . . . . . . . . . . .    B  ADDR  00F8H.3   A   
RADIO . . . . . . . . . . . . . . . . .    D  ADDR  00A0H     A   
RB8 . . . . . . . . . . . . . . . . . .    B  ADDR  0098H.2   A   
RCAP2H. . . . . . . . . . . . . . . . .    D  ADDR  00CBH     A   
RCAP2L. . . . . . . . . . . . . . . . .    D  ADDR  00CAH     A   
RCLK. . . . . . . . . . . . . . . . . .    B  ADDR  00C8H.5   A   
REGX_CTRL . . . . . . . . . . . . . . .    D  ADDR  00ADH     A   
REGX_LSB. . . . . . . . . . . . . . . .    D  ADDR  00ACH     A   
REGX_MSB. . . . . . . . . . . . . . . .    D  ADDR  00ABH     A   
REN . . . . . . . . . . . . . . . . . .    B  ADDR  0098H.4   A   
RI. . . . . . . . . . . . . . . . . . .    B  ADDR  0098H.0   A   
RS0 . . . . . . . . . . . . . . . . . .    B  ADDR  00D0H.3   A   
RS1 . . . . . . . . . . . . . . . . . .    B  ADDR  00D0H.4   A   
RSTREAS . . . . . . . . . . . . . . . .    D  ADDR  00B1H     A   
RXD . . . . . . . . . . . . . . . . . .    B  ADDR  0080H.1   A   
SBUF. . . . . . . . . . . . . . . . . .    D  ADDR  0099H     A   
SCON. . . . . . . . . . . . . . . . . .    D  ADDR  0098H     A   
SEG?140 . . . . . . . . . . . . . . . .    D  ADDR  0004H     R   SEG=?DT?ECO_PAGE_MANAGER?ECO_PAGE
SM0 . . . . . . . . . . . . . . . . . .    B  ADDR  0098H.7   A   
SM1 . . . . . . . . . . . . . . . . . .    B  ADDR  0098H.6   A   
SM2 . . . . . . . . . . . . . . . . . .    B  ADDR  0098H.5   A   
SP. . . . . . . . . . . . . . . . . . .    D  ADDR  0081H     A   
SPC_FNC . . . . . . . . . . . . . . . .    D  ADDR  008FH     A   
SPI_CTRL. . . . . . . . . . . . . . . .    D  ADDR  00B3H     A   
SPI_DATA. . . . . . . . . . . . . . . .    D  ADDR  00B2H     A   
SPICLK. . . . . . . . . . . . . . . . .    D  ADDR  00B4H     A   
T0. . . . . . . . . . . . . . . . . . .    B  ADDR  0080H.5   A   
T1. . . . . . . . . . . . . . . . . . .    B  ADDR  0080H.6   A   
T1_1V2. . . . . . . . . . . . . . . . .    D  ADDR  00BCH     A   
T2. . . . . . . . . . . . . . . . . . .    B  ADDR  0090H.0   A   
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              05/03/09 23:05:29 PAGE    18

T2_1V2. . . . . . . . . . . . . . . . .    D  ADDR  00BDH     A   
T2CON . . . . . . . . . . . . . . . . .    D  ADDR  00C8H     A   
TB8 . . . . . . . . . . . . . . . . . .    B  ADDR  0098H.3   A   
TCLK. . . . . . . . . . . . . . . . . .    B  ADDR  00C8H.4   A   
TCON. . . . . . . . . . . . . . . . . .    D  ADDR  0088H     A   
TEST_MODE . . . . . . . . . . . . . . .    D  ADDR  00B7H     A   
TF0 . . . . . . . . . . . . . . . . . .    B  ADDR  0088H.5   A   
TF1 . . . . . . . . . . . . . . . . . .    B  ADDR  0088H.7   A   
TF2 . . . . . . . . . . . . . . . . . .    B  ADDR  00C8H.7   A   
TH0 . . . . . . . . . . . . . . . . . .    D  ADDR  008CH     A   
TH1 . . . . . . . . . . . . . . . . . .    D  ADDR  008DH     A   
TH2 . . . . . . . . . . . . . . . . . .    D  ADDR  00CDH     A   
TI. . . . . . . . . . . . . . . . . . .    B  ADDR  0098H.1   A   
TICK_DV . . . . . . . . . . . . . . . .    D  ADDR  00B5H     A   
TL0 . . . . . . . . . . . . . . . . . .    D  ADDR  008AH     A   
TL1 . . . . . . . . . . . . . . . . . .    D  ADDR  008BH     A   
TL2 . . . . . . . . . . . . . . . . . .    D  ADDR  00CCH     A   
TMOD. . . . . . . . . . . . . . . . . .    D  ADDR  0089H     A   
TR0 . . . . . . . . . . . . . . . . . .    B  ADDR  0088H.4   A   
TR1 . . . . . . . . . . . . . . . . . .    B  ADDR  0088H.6   A   
TR2 . . . . . . . . . . . . . . . . . .    B  ADDR  00C8H.2   A   
TXD . . . . . . . . . . . . . . . . . .    B  ADDR  0080H.2   A   
WDTI. . . . . . . . . . . . . . . . . .    B  ADDR  00D8H.3   A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S).
