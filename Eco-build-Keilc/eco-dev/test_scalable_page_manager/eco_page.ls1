AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/29/09 00:02:44 PAGE     1


MACRO ASSEMBLER AX51 V3.06a
OBJECT MODULE PLACED IN .\eco_page.obj
ASSEMBLER INVOKED BY: C:\Keil\C51\BIN\AX51.exe .\eco_page.src EP DEBUG SYMBOLS OJ(.\eco_page.obj) PR(.\eco_page.ls1) 

LOC    OBJ             LINE     SOURCE

                          1     ; ./eco_page.src generated from: .\eco_page.c
                          2     ; COMPILER INVOKED BY:
                          3     ;        C:\Keil\C51\BIN\C51.exe .\eco_page.c BROWSE DEBUG CODE LISTINCLUDE SYMBOLS PREP
                               RINT ROM(LARGE) INCDIR(../../Include) SRC(./eco_page.src)
                          4     
                          5     $nomod51 
                          6     
                          7     NAME    ECO_PAGE
                          8     
 00A0.7                   9     PWR_UP  BIT     0A0H.7
 0080                    10     P0      DATA    080H
 0090                    11     P1      DATA    090H
 00D0.6                  12     AC      BIT     0D0H.6
 0080.5                  13     T0      BIT     080H.5
 00B3                    14     SPI_CTRL        DATA    0B3H
 0080.6                  15     T1      BIT     080H.6
 00A8.7                  16     EA      BIT     0A8H.7
 0090.0                  17     T2      BIT     090H.0
 00A0.6                  18     CE      BIT     0A0H.6
 00BE                    19     DEV_OFFSET      DATA    0BEH
 00A0.1                  20     CLK1    BIT     0A0H.1
 0090.2                  21     DIN0    BIT     090H.2
 00A0.5                  22     CLK2    BIT     0A0H.5
 0090.0                  23     DIO0    BIT     090H.0
 0083                    24     DPH0    DATA    083H
 0090.1                  25     DIO1    BIT     090H.1
 00A8                    26     IE      DATA    0A8H
 0085                    27     DPH1    DATA    085H
 0080.0                  28     DIO2    BIT     080H.0
 0080.1                  29     DIO3    BIT     080H.1
 0080.0                  30     P0_0    BIT     080H.0
 0090.0                  31     P1_0    BIT     090H.0
 0080.2                  32     DIO4    BIT     080H.2
 0080.1                  33     P0_1    BIT     080H.1
 0082                    34     DPL0    DATA    082H
 0090.1                  35     P1_1    BIT     090H.1
 0080.3                  36     DIO5    BIT     080H.3
 0080.2                  37     P0_2    BIT     080H.2
 0084                    38     DPL1    DATA    084H
 0090.2                  39     P1_2    BIT     090H.2
 0080.4                  40     DIO6    BIT     080H.4
 0080.3                  41     P0_3    BIT     080H.3
 0080.5                  42     DIO7    BIT     080H.5
 0080.4                  43     P0_4    BIT     080H.4
 00A4                    44     ADCSTATIC       DATA    0A4H
 0080.6                  45     DIO8    BIT     080H.6
 0080.5                  46     P0_5    BIT     080H.5
 00C8.6                  47     EXF2    BIT     0C8H.6
 00A0.3                  48     CS      BIT     0A0H.3
 0080.7                  49     DIO9    BIT     080H.7
 0080.6                  50     P0_6    BIT     080H.6
 0080.7                  51     P0_7    BIT     080H.7
 00A8.4                  52     ES      BIT     0A8H.4
 00B8                    53     IP      DATA    0B8H
 00A0.0                  54     DATA?   BIT     0A0H.0
 0098.0                  55     RI      BIT     098H.0
 00D0.7                  56     CY      BIT     0D0H.7
 0098.1                  57     TI      BIT     098H.1
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/29/09 00:02:44 PAGE     2

 00BC                    58     T1_1V2  DATA    0BCH
 008F                    59     SPC_FNC DATA    08FH
 00BD                    60     T2_1V2  DATA    0BDH
 00CB                    61     RCAP2H  DATA    0CBH
 00B8.4                  62     PS      BIT     0B8H.4
 0081                    63     SP      DATA    081H
 00D0.2                  64     OV      BIT     0D0H.2
 00B6                    65     CK_CTRL DATA    0B6H
 00CA                    66     RCAP2L  DATA    0CAH
 00B5                    67     TICK_DV DATA    0B5H
 00B1                    68     RSTREAS DATA    0B1H
 00C8.1                  69     C_T2    BIT     0C8H.1
 00E8.4                  70     EWDI    BIT     0E8H.4
 00A1                    71     ADCCON  DATA    0A1H
 00C8.5                  72     RCLK    BIT     0C8H.5
 00A2                    73     ADCDATAH        DATA    0A2H
 0091                    74     EXIF    DATA    091H
 00C8.4                  75     TCLK    BIT     0C8H.4
 00A0.6                  76     DR2_CE  BIT     0A0H.6
 00A3                    77     ADCDATAL        DATA    0A3H
 0099                    78     SBUF    DATA    099H
 0087                    79     PCON    DATA    087H
 0098                    80     SCON    DATA    098H
 00F8.4                  81     PWDI    BIT     0F8H.4
 0089                    82     TMOD    DATA    089H
 0088                    83     TCON    DATA    088H
 00D8.3                  84     WDTI    BIT     0D8H.3
 00AA                    85     PWMDUTY DATA    0AAH
 0088.1                  86     IE0     BIT     088H.1
 0088.3                  87     IE1     BIT     088H.3
 0094                    88     P0_DIR  DATA    094H
 00F0                    89     B       DATA    0F0H
 0096                    90     P1_DIR  DATA    096H
 0095                    91     P0_ALT  DATA    095H
 0097                    92     P1_ALT  DATA    097H
 00C8.0                  93     CP_RL2  BIT     0C8H.0
 00A0.2                  94     DR1     BIT     0A0H.2
 00E0                    95     ACC     DATA    0E0H
 00A0.6                  96     DR2     BIT     0A0H.6
 00B7                    97     TEST_MODE       DATA    0B7H
 00B4                    98     SPICLK  DATA    0B4H
 00C8.1                  99     CT2     BIT     0C8H.1
 00A8.1                 100     ET0     BIT     0A8H.1
 00A8.3                 101     ET1     BIT     0A8H.3
 0088.5                 102     TF0     BIT     088H.5
 0080.3                 103     INT0_N  BIT     080H.3
 00A8.5                 104     ET2     BIT     0A8H.5
 0088.7                 105     TF1     BIT     088H.7
 0080.4                 106     INT1_N  BIT     080H.4
 00C8.7                 107     TF2     BIT     0C8H.7
 0098.2                 108     RB8     BIT     098H.2
 008C                   109     TH0     DATA    08CH
 00A8.0                 110     EX0     BIT     0A8H.0
 0088.0                 111     IT0     BIT     088H.0
 008D                   112     TH1     DATA    08DH
 00A8.2                 113     EX1     BIT     0A8H.2
 0098.3                 114     TB8     BIT     098H.3
 0088.2                 115     IT1     BIT     088H.2
 00CD                   116     TH2     DATA    0CDH
 00AD                   117     REGX_CTRL       DATA    0ADH
 00E8.0                 118     EX2     BIT     0E8H.0
 00D0.0                 119     P       BIT     0D0H.0
 00E8.1                 120     EX3     BIT     0E8H.1
 0098.7                 121     SM0     BIT     098H.7
 008A                   122     TL0     DATA    08AH
 00E8.2                 123     EX4     BIT     0E8H.2
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/29/09 00:02:44 PAGE     3

 0098.6                 124     SM1     BIT     098H.6
 008B                   125     TL1     DATA    08BH
 00E8.3                 126     EX5     BIT     0E8H.3
 0098.5                 127     SM2     BIT     098H.5
 00CC                   128     TL2     DATA    0CCH
 00E8                   129     EIE     DATA    0E8H
 00B8.1                 130     PT0     BIT     0B8H.1
 00D0.3                 131     RS0     BIT     0D0H.3
 00B8.3                 132     PT1     BIT     0B8H.3
 00D0.4                 133     RS1     BIT     0D0H.4
 00B8.5                 134     PT2     BIT     0B8H.5
 0088.4                 135     TR0     BIT     088H.4
 00A9                   136     PWMCON  DATA    0A9H
 0088.6                 137     TR1     BIT     088H.6
 00C8.2                 138     TR2     BIT     0C8H.2
 00B8.0                 139     PX0     BIT     0B8H.0
 00B8.2                 140     PX1     BIT     0B8H.2
 00F8.0                 141     PX2     BIT     0F8H.0
 00F8.1                 142     PX3     BIT     0F8H.1
 00F8.2                 143     PX4     BIT     0F8H.2
 0083                   144     DPH     DATA    083H
 00F8.3                 145     PX5     BIT     0F8H.3
 00F8                   146     EIP     DATA    0F8H
 0082                   147     DPL     DATA    082H
 00C8.3                 148     EXEN2   BIT     0C8H.3
 00C8.0                 149     CPRL2   BIT     0C8H.0
 0098.4                 150     REN     BIT     098H.4
 00C8                   151     T2CON   DATA    0C8H
 0086                   152     DPS     DATA    086H
 00B2                   153     SPI_DATA        DATA    0B2H
 0092                   154     MPAGE   DATA    092H
 0080.1                 155     RXD     BIT     080H.1
 00A0.4                 156     DOUT2   BIT     0A0H.4
 00D8                   157     EICON   DATA    0D8H
 008E                   158     CKCON   DATA    08EH
 0080.2                 159     TXD     BIT     080H.2
 00A0                   160     RADIO   DATA    0A0H
 0080.7                 161     PWM     BIT     080H.7
 00D0.5                 162     F0      BIT     0D0H.5
 00D0.1                 163     F1      BIT     0D0H.1
 00AC                   164     REGX_LSB        DATA    0ACH
 00D0                   165     PSW     DATA    0D0H
 00AB                   166     REGX_MSB        DATA    0ABH
------                  167     ?PR?eco_page_init?ECO_PAGE               SEGMENT CODE 
------                  168     ?PR?eco_page_manager?ECO_PAGE            SEGMENT CODE 
------                  169     ?DT?eco_page_manager?ECO_PAGE            SEGMENT DATA OVERLAYABLE 
------                  170     ?ID?ECO_PAGE         SEGMENT IDATA 
------                  171     ?DT?ECO_PAGE         SEGMENT DATA 
                        172             EXTRN   CODE (_eeprom_read)
                        173             EXTRN   CODE (eeprom_init)
                        174             PUBLIC  ECO_PAGE_TABLE_INDEX
                        175             PUBLIC  ECO_PAGE_REGISTER7
                        176             PUBLIC  ECO_PAGE_REGISTER6
                        177             PUBLIC  ECO_PAGE_REGISTER5
                        178             PUBLIC  ECO_PAGE_REGISTER4
                        179             PUBLIC  ECO_PAGE_ADDR
                        180             PUBLIC  ECO_PAGE_REGISTER3
                        181             PUBLIC  ECO_PAGE_REGISTER2
                        182             PUBLIC  ECO_PAGE_REGISTER1
                        183             PUBLIC  ECO_PAGE_PREV_VID
                        184             PUBLIC  ECO_PAGE_PREV_PID
                        185             PUBLIC  ECO_PAGE_SPI_CONN
                        186             PUBLIC  ECO_PAGE_TABLE
                        187             PUBLIC  eco_page_manager
                        188             PUBLIC  eco_page_init
                        189     
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/29/09 00:02:44 PAGE     4

------                  190             RSEG  ?DT?eco_page_manager?ECO_PAGE
000000                  191     ?eco_page_manager?BYTE:
000004                  192             ORG  4
000004                  193             seg?140:   DS   2
000006                  194             ORG  6
000006                  195               j?141:   DS   2
000000                  196             ORG  0
000000                  197               i?142:   DS   2
000002                  198             ORG  2
000002                  199      page_index?143:   DS   2
                        200     
------                  201             RSEG  ?ID?ECO_PAGE
000000                  202      ECO_PAGE_TABLE:   DS   16
000010                  203     ECO_PAGE_REGISTER1:   DS   1
000011                  204     ECO_PAGE_REGISTER2:   DS   1
000012                  205     ECO_PAGE_REGISTER3:   DS   1
000013                  206     ECO_PAGE_REGISTER4:   DS   1
000014                  207     ECO_PAGE_REGISTER5:   DS   1
000015                  208     ECO_PAGE_REGISTER6:   DS   1
000016                  209     ECO_PAGE_REGISTER7:   DS   1
                        210     
------                  211             RSEG  ?DT?ECO_PAGE
000000                  212     ECO_PAGE_SPI_CONN:   DS   1
000001                  213     ECO_PAGE_PREV_PID:   DS   2
000003                  214     ECO_PAGE_PREV_VID:   DS   2
000005                  215       ECO_PAGE_ADDR:   DS   2
000007                  216     ECO_PAGE_TABLE_INDEX:   DS   1
                        217     ; /*
                        218     ;  * Author(s): Wei-Han Chen (Embedded Platform Lab, NTHU)
                        219     ;  * Copyright (c) 2009 National Tsing Hua University (NTHU) 
                        220     ;  * Permission to copy, modify, and distribute this program is granted 
                        221     ;  * for noncommercial purposes, provided the author(s) and copyright
                        222     ;  * notice are retained. All other uses require explicit written
                        223     ;  * permission from NTHU. 
                        224     ;  *
                        225     ;  * Eco Paging Library 
                        226     ;  *
                        227     ;  * Wei-Han Chen <xwaynec@gmail.com> 
                        228     ;  * 2009/2/13
                        229     ;  */
                        230     ; 
                        231     ; #include "eco_page.h"
                        232     ; #include "eeprom/eeprom.h"
                        233     ; 
                        234     ; //control page replacement policy is LRU or Round-Robin
                        235     ; #define PAGE_REPLACEMENT 0 
                        236     ; 
                        237     ; //#define ECO_PAGE_SIZE 256
                        238     ; #define ECO_PAGE_SIZE 128
                        239     ; //#define ECO_PAGE_SIZE 64
                        240     ; 
                        241     ; //#define ECO_PAGE_ADDR_OFFSET 47
                        242     ; #define ECO_PAGE_ADDR_OFFSET 23
                        243     ; //#define ECO_PAGE_ADDR_OFFSET 11 
                        244     ; 
                        245     ; 
                        246     ; 
                        247     ; 
                        248     ; #if ECO_PAGE_SIZE == 64
                        249     ;       
                        250     ;       #define ECO_PAGE_ENTRY  (63-ECO_PAGE_ADDR_OFFSET)
                        251     ;       #define ECO_PAGE_SHIFT  6
                        252     ;       #define ECO_PAGE_MASK   0x003F
                        253     ;       #define ECO_PAGE_MOV_MASK       0xFFC0
                        254     ; 
                        255     ;       unsigned int idata ECO_PAGE_TABLE[ECO_PAGE_ENTRY];
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/29/09 00:02:44 PAGE     5

                        256     ;       //Eco page virtual address id
                        257     ;       unsigned int ECO_PAGE_PREV_VID;
                        258     ;       //Eco page physical address id 
                        259     ;       unsigned int ECO_PAGE_PREV_PID;
                        260     ; 
                        261     ; #elif ECO_PAGE_SIZE == 128
                        262     ;       
                        263     ;       #define ECO_PAGE_ENTRY (31-ECO_PAGE_ADDR_OFFSET)
                        264     ;       #define ECO_PAGE_SHIFT  7
                        265     ;       #define ECO_PAGE_MASK   0x007F
                        266     ;       #define ECO_PAGE_MOV_MASK       0xFF80
                        267     ; 
                        268     ;       unsigned int idata ECO_PAGE_TABLE[ECO_PAGE_ENTRY];
                        269     ;       //Eco page virtual address id
                        270     ;       unsigned int ECO_PAGE_PREV_VID;
                        271     ;       //Eco page physical address id 
                        272     ;       unsigned int ECO_PAGE_PREV_PID;
                        273     ; 
                        274     ; #elif ECO_PAGE_SIZE == 256
                        275     ;       
                        276     ;       #define ECO_PAGE_ENTRY  (15-ECO_PAGE_ADDR_OFFSET)
                        277     ;       #define ECO_PAGE_SHIFT  8       
                        278     ;       #define ECO_PAGE_MASK   0x00FF
                        279     ;       #define ECO_PAGE_MOV_MASK       0xFF00
                        280     ; 
                        281     ;       unsigned int ECO_PAGE_TABLE[ECO_PAGE_ENTRY];
                        282     ;       //Eco page virtual address id
                        283     ;       unsigned char ECO_PAGE_PREV_VID;
                        284     ;       //Eco page physical address id 
                        285     ;       unsigned char ECO_PAGE_PREV_PID;
                        286     ; 
                        287     ; #endif
                        288     ; 
                        289     ; unsigned char ECO_PAGE_TABLE_INDEX;
                        290     ; unsigned int ECO_PAGE_ADDR;
                        291     ; unsigned char ECO_PAGE_SPI_CONN;
                        292     ; 
                        293     ; unsigned char idata ECO_PAGE_REGISTER1;
                        294     ; unsigned char idata ECO_PAGE_REGISTER2;
                        295     ; unsigned char idata ECO_PAGE_REGISTER3;
                        296     ; unsigned char idata ECO_PAGE_REGISTER4;
                        297     ; unsigned char idata ECO_PAGE_REGISTER5;
                        298     ; unsigned char idata ECO_PAGE_REGISTER6;
                        299     ; unsigned char idata ECO_PAGE_REGISTER7;
                        300     ; 
                        301     ; 
                        302     ; void eco_page_init()
                        303     
------                  304             RSEG  ?PR?eco_page_init?ECO_PAGE
000000                  305     eco_page_init:
                        306                             ; SOURCE LINE # 86
                        307     ; {
                        308                             ; SOURCE LINE # 87
                        309     ;       //ECO_PAGE_TABLE_INDEX = ECO_PAGE_ENTRY - 1;
                        310     ;       ECO_PAGE_TABLE_INDEX = 0;       
                        311                             ; SOURCE LINE # 89
000000 E4               312             CLR     A
000001 F500       F     313             MOV     ECO_PAGE_TABLE_INDEX,A
                        314     ;       ECO_PAGE_ADDR = 0;
                        315                             ; SOURCE LINE # 90
000003 F500       F     316             MOV     ECO_PAGE_ADDR,A
000005 F500       F     317             MOV     ECO_PAGE_ADDR+01H,A
                        318     ;       ECO_PAGE_PREV_VID = 0;
                        319                             ; SOURCE LINE # 91
000007 F500       F     320             MOV     ECO_PAGE_PREV_VID,A
000009 F500       F     321             MOV     ECO_PAGE_PREV_VID+01H,A
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/29/09 00:02:44 PAGE     6

                        322     ;       ECO_PAGE_PREV_PID = 0;
                        323                             ; SOURCE LINE # 92
00000B F500       F     324             MOV     ECO_PAGE_PREV_PID,A
00000D F500       F     325             MOV     ECO_PAGE_PREV_PID+01H,A
                        326     ; 
                        327     ; }
                        328                             ; SOURCE LINE # 94
00000F 22               329             RET     
                        330     ; END OF eco_page_init
                        331     
                        332     ; 
                        333     ; 
                        334     ; #if PAGE_REPLACEMENT == 0 
                        335     ; //LRU page replacement
                        336     ; void eco_page_manager()
                        337     
------                  338             RSEG  ?PR?eco_page_manager?ECO_PAGE
000000                  339     eco_page_manager:
                        340             USING   0
                        341                             ; SOURCE LINE # 99
                        342     ; {
                        343                             ; SOURCE LINE # 100
                        344     ;       unsigned int i;
                        345     ;       unsigned int page_index = -1;
                        346                             ; SOURCE LINE # 102
000000 74FF             347             MOV     A,#0FFH
000002 F500       F     348             MOV     page_index?143,A
000004 F500       F     349             MOV     page_index?143+01H,A
                        350     ; 
                        351     ;       //if page id is the same with the last page id
                        352     ;       if((ECO_PAGE_ADDR >> ECO_PAGE_SHIFT) == ECO_PAGE_PREV_PID)
                        353                             ; SOURCE LINE # 105
000006 E500       F     354             MOV     A,ECO_PAGE_ADDR+01H
000008 AE00       F     355             MOV     R6,ECO_PAGE_ADDR
00000A 7807             356             MOV     R0,#07H
00000C                  357     ?C0018:
00000C CE               358             XCH     A,R6
00000D C3               359             CLR     C
00000E 13               360             RRC     A
00000F CE               361             XCH     A,R6
000010 13               362             RRC     A
000011 D8F9             363             DJNZ    R0,?C0018
000013 B50020           364             CJNE    A,ECO_PAGE_PREV_PID+01H,?C0002
000016 EE               365             MOV     A,R6
000017 B5001C           366             CJNE    A,ECO_PAGE_PREV_PID,?C0002
                        367     ;       {
                        368                             ; SOURCE LINE # 106
                        369     ;               //virtual address id + function offset
                        370     ;               ECO_PAGE_ADDR = (ECO_PAGE_PREV_VID << ECO_PAGE_SHIFT) + (ECO_PAGE_ADDR &
                                ECO_PAGE_MASK);
                        371                             ; SOURCE LINE # 108
00001A E500       F     372             MOV     A,ECO_PAGE_PREV_VID+01H
00001C AE00       F     373             MOV     R6,ECO_PAGE_PREV_VID
00001E 7807             374             MOV     R0,#07H
000020                  375     ?C0020:
000020 C3               376             CLR     C
000021 33               377             RLC     A
000022 CE               378             XCH     A,R6
000023 33               379             RLC     A
000024 CE               380             XCH     A,R6
000025 D8F9             381             DJNZ    R0,?C0020
000027 FF               382             MOV     R7,A
000028 7C00             383             MOV     R4,#00H
00002A E500       F     384             MOV     A,ECO_PAGE_ADDR+01H
00002C 547F             385             ANL     A,#07FH
00002E 2F               386             ADD     A,R7
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/29/09 00:02:44 PAGE     7

00002F F500       F     387             MOV     ECO_PAGE_ADDR+01H,A
000031 EC               388             MOV     A,R4
000032 3E               389             ADDC    A,R6
000033 F500       F     390             MOV     ECO_PAGE_ADDR,A
                        391     ;               #pragma asm
                        392     ;               //eco_page_function_call
                        393               
000035 22               394             RET     
                        395     ;               #pragma endasm
                        396     ;               return ;
                        397     ;       }
                        398                             ; SOURCE LINE # 113
000036                  399     ?C0002:
                        400     ; 
                        401     ;       //Check Table   
                        402     ;       for(i=0;i<ECO_PAGE_ENTRY;i++)
                        403                             ; SOURCE LINE # 116
000036 E4               404             CLR     A
000037 F500       F     405             MOV     i?142,A
000039 F500       F     406             MOV     i?142+01H,A
00003B                  407     ?C0004:
                        408     ;       {   
                        409                             ; SOURCE LINE # 117
                        410     ;               if((ECO_PAGE_ADDR >> ECO_PAGE_SHIFT) == (ECO_PAGE_TABLE[i] & 0x7FFF))
                        411                             ; SOURCE LINE # 118
00003B AD00       F     412             MOV     R5,i?142+01H
00003D ED               413             MOV     A,R5
00003E 25E0             414             ADD     A,ACC
000040 2400       F     415             ADD     A,#LOW (ECO_PAGE_TABLE)
000042 F8               416             MOV     R0,A
000043 E6               417             MOV     A,@R0
000044 547F             418             ANL     A,#07FH
000046 FA               419             MOV     R2,A
000047 08               420             INC     R0
000048 E6               421             MOV     A,@R0
000049 FB               422             MOV     R3,A
00004A E500       F     423             MOV     A,ECO_PAGE_ADDR+01H
00004C AE00       F     424             MOV     R6,ECO_PAGE_ADDR
00004E 7807             425             MOV     R0,#07H
000050                  426     ?C0021:
000050 CE               427             XCH     A,R6
000051 C3               428             CLR     C
000052 13               429             RRC     A
000053 CE               430             XCH     A,R6
000054 13               431             RRC     A
000055 D8F9             432             DJNZ    R0,?C0021
000057 B50319           433             CJNE    A,AR3,?C0006
00005A EE               434             MOV     A,R6
00005B B50215           435             CJNE    A,AR2,?C0006
                        436     ;               {
                        437                             ; SOURCE LINE # 119
                        438     ;                       page_index = i;
                        439                             ; SOURCE LINE # 120
00005E 850000     F     440             MOV     page_index?143,i?142
000061 850000     F     441             MOV     page_index?143+01H,i?142+01H
                        442     ; 
                        443     ;                       //set LRU bit is 1
                        444     ;                       ECO_PAGE_TABLE[i] = ECO_PAGE_TABLE[i] | 0x8000;
                        445                             ; SOURCE LINE # 123
000064 ED               446             MOV     A,R5
000065 25E0             447             ADD     A,ACC
000067 2400       F     448             ADD     A,#LOW (ECO_PAGE_TABLE)
000069 F8               449             MOV     R0,A
00006A 7480             450             MOV     A,#080H
00006C 46               451             ORL     A,@R0
00006D F6               452             MOV     @R0,A
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/29/09 00:02:44 PAGE     8

00006E 08               453             INC     R0
00006F E6               454             MOV     A,@R0
000070 F6               455             MOV     @R0,A
                        456     ;                       break;
                        457                             ; SOURCE LINE # 124
000071 800E             458             SJMP    ?C0005
                        459     ;               }
                        460                             ; SOURCE LINE # 125
                        461     ;       }
                        462                             ; SOURCE LINE # 126
000073                  463     ?C0006:
000073 0500       F     464             INC     i?142+01H
000075 E500       F     465             MOV     A,i?142+01H
000077 7002             466             JNZ     ?C0023
000079 0500       F     467             INC     i?142
00007B                  468     ?C0023:
00007B 6408             469             XRL     A,#08H
00007D 4500       F     470             ORL     A,i?142
00007F 70BA             471             JNZ     ?C0004
000081                  472     ?C0005:
                        473     ; 
                        474     ;       if(page_index != -1)
                        475                             ; SOURCE LINE # 128
000081 E500       F     476             MOV     A,page_index?143+01H
000083 F4               477             CPL     A
000084 7003             478             JNZ     ?C0024
000086 E500       F     479             MOV     A,page_index?143
000088 F4               480             CPL     A
000089                  481     ?C0024:
000089 6044             482             JZ      ?C0008
                        483     ;       {
                        484                             ; SOURCE LINE # 129
                        485     ;               //store function physical addres id 
                        486     ;               //ECO_PAGE_PREV_PID = ECO_PAGE_ADDR >> 8;
                        487     ;       
                        488     ;               //memory page is in ram
                        489     ;               //ECO_PAGE_ADDR = ((page_index + ECO_PAGE_ADDR_OFFSET) << 8) + (ECO_PAGE
                               _ADDR & 0x00FF);
                        490     ; 
                        491     ;               //cache the virtual address id
                        492     ;               //ECO_PAGE_PREV_VID = ECO_PAGE_ADDR >> 8;
                        493     ; 
                        494     ;               //store function physical addres id 
                        495     ;               ECO_PAGE_PREV_PID = ECO_PAGE_ADDR >> ECO_PAGE_SHIFT;
                        496                             ; SOURCE LINE # 140
00008B E500       F     497             MOV     A,ECO_PAGE_ADDR+01H
00008D AE00       F     498             MOV     R6,ECO_PAGE_ADDR
00008F 7807             499             MOV     R0,#07H
000091                  500     ?C0025:
000091 CE               501             XCH     A,R6
000092 C3               502             CLR     C
000093 13               503             RRC     A
000094 CE               504             XCH     A,R6
000095 13               505             RRC     A
000096 D8F9             506             DJNZ    R0,?C0025
000098 F500       F     507             MOV     ECO_PAGE_PREV_PID+01H,A
00009A 8E00       F     508             MOV     ECO_PAGE_PREV_PID,R6
                        509     ;       
                        510     ;               //memory page is in ram
                        511     ;               ECO_PAGE_ADDR = ((page_index + ECO_PAGE_ADDR_OFFSET) << ECO_PAGE_SHIFT) 
                               + (ECO_PAGE_ADDR & ECO_PAGE_MASK);
                        512                             ; SOURCE LINE # 143
00009C E500       F     513             MOV     A,page_index?143+01H
00009E 2417             514             ADD     A,#017H
0000A0 FF               515             MOV     R7,A
0000A1 E4               516             CLR     A
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/29/09 00:02:44 PAGE     9

0000A2 3500       F     517             ADDC    A,page_index?143
0000A4 FE               518             MOV     R6,A
0000A5 EF               519             MOV     A,R7
0000A6 7807             520             MOV     R0,#07H
0000A8                  521     ?C0026:
0000A8 C3               522             CLR     C
0000A9 33               523             RLC     A
0000AA CE               524             XCH     A,R6
0000AB 33               525             RLC     A
0000AC CE               526             XCH     A,R6
0000AD D8F9             527             DJNZ    R0,?C0026
0000AF FF               528             MOV     R7,A
0000B0 7C00             529             MOV     R4,#00H
0000B2 E500       F     530             MOV     A,ECO_PAGE_ADDR+01H
0000B4 547F             531             ANL     A,#07FH
0000B6 2F               532             ADD     A,R7
0000B7 F500       F     533             MOV     ECO_PAGE_ADDR+01H,A
0000B9 EC               534             MOV     A,R4
0000BA 3E               535             ADDC    A,R6
0000BB F500       F     536             MOV     ECO_PAGE_ADDR,A
                        537     ; 
                        538     ;               //cache the virtual address id
                        539     ;               ECO_PAGE_PREV_VID = ECO_PAGE_ADDR >> ECO_PAGE_SHIFT;
                        540                             ; SOURCE LINE # 146
0000BD E500       F     541             MOV     A,ECO_PAGE_ADDR+01H
0000BF AE00       F     542             MOV     R6,ECO_PAGE_ADDR
0000C1 7807             543             MOV     R0,#07H
0000C3                  544     ?C0027:
0000C3 CE               545             XCH     A,R6
0000C4 C3               546             CLR     C
0000C5 13               547             RRC     A
0000C6 CE               548             XCH     A,R6
0000C7 13               549             RRC     A
0000C8 D8F9             550             DJNZ    R0,?C0027
0000CA F500       F     551             MOV     ECO_PAGE_PREV_VID+01H,A
0000CC 8E00       F     552             MOV     ECO_PAGE_PREV_VID,R6
                        553     ; 
                        554     ; 
                        555     ;               
                        556     ;               #pragma asm
                        557     ;               //eco_page_function_call
                        558               
                        559     ;               //MOV     DPH,ECO_PAGE_ADDR
                        560               
                        561     ;               //MOV     DPL,ECO_PAGE_ADDR+01H
                        562               
                        563     ;               //LCALL ?C?ICALL2
                        564               
0000CE 22               565             RET     
                        566     ;               #pragma endasm
                        567     ; 
                        568     ;               return ;
                        569     ;       }       
                        570                             ; SOURCE LINE # 158
0000CF                  571     ?C0008:
                        572     ;       else
                        573     ;       {
                        574                             ; SOURCE LINE # 160
                        575     ;               //page fault
                        576     ;               for(i=ECO_PAGE_TABLE_INDEX+1; ;i=(i+1)%ECO_PAGE_ENTRY)
                        577                             ; SOURCE LINE # 162
0000CF E500       F     578             MOV     A,ECO_PAGE_TABLE_INDEX
0000D1 2401             579             ADD     A,#01H
0000D3 F500       F     580             MOV     i?142+01H,A
0000D5 E4               581             CLR     A
0000D6 33               582             RLC     A
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/29/09 00:02:44 PAGE    10

0000D7 F500       F     583             MOV     i?142,A
0000D9                  584     ?C0010:
                        585     ;               {
                        586                             ; SOURCE LINE # 163
                        587     ;                       if((ECO_PAGE_TABLE[i] & 0x8000) == 0x8000)
                        588                             ; SOURCE LINE # 164
0000D9 AF00       F     589             MOV     R7,i?142+01H
0000DB EF               590             MOV     A,R7
0000DC 25E0             591             ADD     A,ACC
0000DE 2400       F     592             ADD     A,#LOW (ECO_PAGE_TABLE)
0000E0 F8               593             MOV     R0,A
0000E1 E6               594             MOV     A,@R0
0000E2 30E70D           595             JNB     ACC.7,?C0013
                        596     ;                       {
                        597                             ; SOURCE LINE # 165
                        598     ;                               //LRU bit is 1 and then set this bit is 0
                        599     ;                               ECO_PAGE_TABLE[i] = ECO_PAGE_TABLE[i] & 0x7FFF;
                        600                             ; SOURCE LINE # 167
0000E5 EF               601             MOV     A,R7
0000E6 25E0             602             ADD     A,ACC
0000E8 2400       F     603             ADD     A,#LOW (ECO_PAGE_TABLE)
0000EA F8               604             MOV     R0,A
0000EB 747F             605             MOV     A,#07FH
0000ED 56               606             ANL     A,@R0
0000EE F6               607             MOV     @R0,A
                        608     ;                       }
                        609                             ; SOURCE LINE # 168
0000EF 020000     F     610             LJMP    ?C0012
0000F2                  611     ?C0013:
                        612     ;                       else
                        613     ;                       {
                        614                             ; SOURCE LINE # 170
                        615     ;                               unsigned char xdata *seg = (unsigned char xdata *)((i + 
                               ECO_PAGE_ADDR_OFFSET) << ECO_PAGE_SHIFT);
                        616                             ; SOURCE LINE # 171
0000F2 E500       F     617             MOV     A,i?142+01H
0000F4 2417             618             ADD     A,#017H
0000F6 FF               619             MOV     R7,A
0000F7 E4               620             CLR     A
0000F8 3500       F     621             ADDC    A,i?142
0000FA FE               622             MOV     R6,A
0000FB EF               623             MOV     A,R7
0000FC 7807             624             MOV     R0,#07H
0000FE                  625     ?C0028:
0000FE C3               626             CLR     C
0000FF 33               627             RLC     A
000100 CE               628             XCH     A,R6
000101 33               629             RLC     A
000102 CE               630             XCH     A,R6
000103 D8F9             631             DJNZ    R0,?C0028
000105 8E00       F     632             MOV     seg?140,R6
000107 F500       F     633             MOV     seg?140+01H,A
                        634     ;                               unsigned int j;
                        635     ;                               
                        636     ;                               //memory page is in ram
                        637     ;                               eeprom_init();
                        638                             ; SOURCE LINE # 175
000109 120000     E     639             LCALL   eeprom_init
                        640     ; 
                        641     ;                               //mov code from eeprom to external ram
                        642     ;                               for(j=0;j<ECO_PAGE_SIZE;j++)
                        643                             ; SOURCE LINE # 178
00010C E4               644             CLR     A
00010D F500       F     645             MOV     j?141,A
00010F F500       F     646             MOV     j?141+01H,A
000111                  647     ?C0015:
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/29/09 00:02:44 PAGE    11

                        648     ;                               {
                        649                             ; SOURCE LINE # 179
                        650     ;                                       *(seg+j) = eeprom_read(ECO_ADDR_SHIFT(ECO_PAGE_A
                               DDR & ECO_PAGE_MOV_MASK ) +j);
                        651                             ; SOURCE LINE # 180
000111 E500       F     652             MOV     A,ECO_PAGE_ADDR+01H
000113 5480             653             ANL     A,#080H
000115 2403             654             ADD     A,#03H
000117 FF               655             MOV     R7,A
000118 E4               656             CLR     A
000119 3500       F     657             ADDC    A,ECO_PAGE_ADDR
00011B CF               658             XCH     A,R7
00011C 2500       F     659             ADD     A,j?141+01H
00011E CF               660             XCH     A,R7
00011F 3500       F     661             ADDC    A,j?141
000121 FE               662             MOV     R6,A
000122 120000     E     663             LCALL   _eeprom_read
000125 E500       F     664             MOV     A,seg?140+01H
000127 2500       F     665             ADD     A,j?141+01H
000129 F582             666             MOV     DPL,A
00012B E500       F     667             MOV     A,seg?140
00012D 3500       F     668             ADDC    A,j?141
00012F F583             669             MOV     DPH,A
000131 EF               670             MOV     A,R7
000132 F0               671             MOVX    @DPTR,A
                        672     ;                               }
                        673                             ; SOURCE LINE # 181
000133 0500       F     674             INC     j?141+01H
000135 E500       F     675             MOV     A,j?141+01H
000137 7002             676             JNZ     ?C0029
000139 0500       F     677             INC     j?141
00013B                  678     ?C0029:
00013B C3               679             CLR     C
00013C 9480             680             SUBB    A,#080H
00013E E500       F     681             MOV     A,j?141
000140 9400             682             SUBB    A,#00H
000142 40CD             683             JC      ?C0015
000144                  684     ?C0016:
                        685     ;                               
                        686     ;                               //update page table to connect this physical address id 
                               with virtual address id 
                        687     ;                               ECO_PAGE_TABLE[i] = ECO_PAGE_ADDR >> ECO_PAGE_SHIFT;
                        688                             ; SOURCE LINE # 184
000144 E500       F     689             MOV     A,ECO_PAGE_ADDR+01H
000146 AE00       F     690             MOV     R6,ECO_PAGE_ADDR
000148 7807             691             MOV     R0,#07H
00014A                  692     ?C0030:
00014A CE               693             XCH     A,R6
00014B C3               694             CLR     C
00014C 13               695             RRC     A
00014D CE               696             XCH     A,R6
00014E 13               697             RRC     A
00014F D8F9             698             DJNZ    R0,?C0030
000151 FF               699             MOV     R7,A
000152 AD00       F     700             MOV     R5,i?142+01H
000154 ED               701             MOV     A,R5
000155 25E0             702             ADD     A,ACC
000157 2400       F     703             ADD     A,#LOW (ECO_PAGE_TABLE)
000159 F8               704             MOV     R0,A
00015A A606             705             MOV     @R0,AR6
00015C 08               706             INC     R0
00015D A607             707             MOV     @R0,AR7
                        708     ; 
                        709     ;                               //store physical address id
                        710     ;                               ECO_PAGE_PREV_PID = ECO_PAGE_TABLE[i];
                        711                             ; SOURCE LINE # 187
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/29/09 00:02:44 PAGE    12

00015F ED               712             MOV     A,R5
000160 25E0             713             ADD     A,ACC
000162 2400       F     714             ADD     A,#LOW (ECO_PAGE_TABLE)
000164 F8               715             MOV     R0,A
000165 E6               716             MOV     A,@R0
000166 F500       F     717             MOV     ECO_PAGE_PREV_PID,A
000168 08               718             INC     R0
000169 E6               719             MOV     A,@R0
00016A F500       F     720             MOV     ECO_PAGE_PREV_PID+01H,A
                        721     ; 
                        722     ;                               //update page address e.g.  (page_id<<8) + page_offset
                        723     ;                               ECO_PAGE_ADDR = ((i + ECO_PAGE_ADDR_OFFSET) << ECO_PAGE_
                               SHIFT) + (ECO_PAGE_ADDR & ECO_PAGE_MASK);
                        724                             ; SOURCE LINE # 190
00016C E500       F     725             MOV     A,i?142+01H
00016E 2417             726             ADD     A,#017H
000170 FF               727             MOV     R7,A
000171 E4               728             CLR     A
000172 3500       F     729             ADDC    A,i?142
000174 FE               730             MOV     R6,A
000175 EF               731             MOV     A,R7
000176 7807             732             MOV     R0,#07H
000178                  733     ?C0031:
000178 C3               734             CLR     C
000179 33               735             RLC     A
00017A CE               736             XCH     A,R6
00017B 33               737             RLC     A
00017C CE               738             XCH     A,R6
00017D D8F9             739             DJNZ    R0,?C0031
00017F FF               740             MOV     R7,A
000180 7C00             741             MOV     R4,#00H
000182 E500       F     742             MOV     A,ECO_PAGE_ADDR+01H
000184 547F             743             ANL     A,#07FH
000186 2F               744             ADD     A,R7
000187 F500       F     745             MOV     ECO_PAGE_ADDR+01H,A
000189 EC               746             MOV     A,R4
00018A 3E               747             ADDC    A,R6
00018B F500       F     748             MOV     ECO_PAGE_ADDR,A
                        749     ; 
                        750     ;                               //store virtual address id 
                        751     ;                               ECO_PAGE_PREV_VID = ECO_PAGE_ADDR >> ECO_PAGE_SHIFT;    
                        752                             ; SOURCE LINE # 193
00018D E500       F     753             MOV     A,ECO_PAGE_ADDR+01H
00018F AE00       F     754             MOV     R6,ECO_PAGE_ADDR
000191 7807             755             MOV     R0,#07H
000193                  756     ?C0032:
000193 CE               757             XCH     A,R6
000194 C3               758             CLR     C
000195 13               759             RRC     A
000196 CE               760             XCH     A,R6
000197 13               761             RRC     A
000198 D8F9             762             DJNZ    R0,?C0032
00019A F500       F     763             MOV     ECO_PAGE_PREV_VID+01H,A
00019C 8E00       F     764             MOV     ECO_PAGE_PREV_VID,R6
                        765     ; 
                        766     ;                               //mov to the next index
                        767     ;                               ECO_PAGE_TABLE_INDEX = i;
                        768                             ; SOURCE LINE # 196
00019E 850000     F     769             MOV     ECO_PAGE_TABLE_INDEX,i?142+01H
                        770     ; 
                        771     ;                               //jump  to function address
                        772     ;                               #pragma asm
                        773     ;                               //eco_page_function_call
                        774               
                        775     ;                               //MOV     DPH,ECO_PAGE_ADDR
                        776               
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/29/09 00:02:44 PAGE    13

                        777     ;                               //MOV     DPL,ECO_PAGE_ADDR+01H
                        778               
                        779     ;                               //LCALL        ?C?ICALL2               
                        780               
0001A1 22               781             RET     
                        782     ;                               #pragma endasm
                        783     ;                               
                        784     ;                               return ;
                        785     ;                               
                        786     ;                       }
                        787                             ; SOURCE LINE # 208
                        788     ;               }
                        789                             ; SOURCE LINE # 209
0001A2                  790     ?C0012:
0001A2 E500       F     791             MOV     A,i?142+01H
0001A4 2401             792             ADD     A,#01H
0001A6 FF               793             MOV     R7,A
0001A7 750000     F     794             MOV     i?142,#00H
0001AA EF               795             MOV     A,R7
0001AB 5407             796             ANL     A,#07H
0001AD F500       F     797             MOV     i?142+01H,A
0001AF 020000     F     798             LJMP    ?C0010
                        799     ; END OF eco_page_manager
                        800     
                        801             END
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/29/09 00:02:44 PAGE    14

SYMBOL TABLE LISTING
------ ----- -------


N A M E                                    T Y P E  V A L U E     ATTRIBUTES

?C0002. . . . . . . . . . . . . . . . .    C  ADDR  0036H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0004. . . . . . . . . . . . . . . . .    C  ADDR  003BH     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0005. . . . . . . . . . . . . . . . .    C  ADDR  0081H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0006. . . . . . . . . . . . . . . . .    C  ADDR  0073H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0008. . . . . . . . . . . . . . . . .    C  ADDR  00CFH     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0010. . . . . . . . . . . . . . . . .    C  ADDR  00D9H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0012. . . . . . . . . . . . . . . . .    C  ADDR  01A2H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0013. . . . . . . . . . . . . . . . .    C  ADDR  00F2H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0015. . . . . . . . . . . . . . . . .    C  ADDR  0111H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0016. . . . . . . . . . . . . . . . .    C  ADDR  0144H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0018. . . . . . . . . . . . . . . . .    C  ADDR  000CH     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0020. . . . . . . . . . . . . . . . .    C  ADDR  0020H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0021. . . . . . . . . . . . . . . . .    C  ADDR  0050H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0023. . . . . . . . . . . . . . . . .    C  ADDR  007BH     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0024. . . . . . . . . . . . . . . . .    C  ADDR  0089H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0025. . . . . . . . . . . . . . . . .    C  ADDR  0091H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0026. . . . . . . . . . . . . . . . .    C  ADDR  00A8H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0027. . . . . . . . . . . . . . . . .    C  ADDR  00C3H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0028. . . . . . . . . . . . . . . . .    C  ADDR  00FEH     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0029. . . . . . . . . . . . . . . . .    C  ADDR  013BH     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0030. . . . . . . . . . . . . . . . .    C  ADDR  014AH     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0031. . . . . . . . . . . . . . . . .    C  ADDR  0178H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0032. . . . . . . . . . . . . . . . .    C  ADDR  0193H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?DT?ECO_PAGE. . . . . . . . . . . . . .    D  SEG   000008H       REL=UNIT, ALN=BYTE
?DT?ECO_PAGE_MANAGER?ECO_PAGE . . . . .    D  SEG   000008H       REL=UNIT, ALN=BYTE
?ECO_PAGE_MANAGER?BYTE. . . . . . . . .    D  ADDR  0000H     R   SEG=?DT?ECO_PAGE_MANAGER?ECO_PAGE
?ID?ECO_PAGE. . . . . . . . . . . . . .    I  SEG   000017H       REL=UNIT, ALN=BYTE
?PR?ECO_PAGE_INIT?ECO_PAGE. . . . . . .    C  SEG   000010H       REL=UNIT, ALN=BYTE
?PR?ECO_PAGE_MANAGER?ECO_PAGE . . . . .    C  SEG   0001B2H       REL=UNIT, ALN=BYTE
_EEPROM_READ. . . . . . . . . . . . . .    C  ADDR  -------       EXT
AC. . . . . . . . . . . . . . . . . . .    B  ADDR  00D0H.6   A   
ACC . . . . . . . . . . . . . . . . . .    D  ADDR  00E0H     A   
ADCCON. . . . . . . . . . . . . . . . .    D  ADDR  00A1H     A   
ADCDATAH. . . . . . . . . . . . . . . .    D  ADDR  00A2H     A   
ADCDATAL. . . . . . . . . . . . . . . .    D  ADDR  00A3H     A   
ADCSTATIC . . . . . . . . . . . . . . .    D  ADDR  00A4H     A   
AR2 . . . . . . . . . . . . . . . . . .    D  ADDR  0002H     A   
AR3 . . . . . . . . . . . . . . . . . .    D  ADDR  0003H     A   
AR6 . . . . . . . . . . . . . . . . . .    D  ADDR  0006H     A   
AR7 . . . . . . . . . . . . . . . . . .    D  ADDR  0007H     A   
B . . . . . . . . . . . . . . . . . . .    D  ADDR  00F0H     A   
C_T2. . . . . . . . . . . . . . . . . .    B  ADDR  00C8H.1   A   
CE. . . . . . . . . . . . . . . . . . .    B  ADDR  00A0H.6   A   
CK_CTRL . . . . . . . . . . . . . . . .    D  ADDR  00B6H     A   
CKCON . . . . . . . . . . . . . . . . .    D  ADDR  008EH     A   
CLK1. . . . . . . . . . . . . . . . . .    B  ADDR  00A0H.1   A   
CLK2. . . . . . . . . . . . . . . . . .    B  ADDR  00A0H.5   A   
CP_RL2. . . . . . . . . . . . . . . . .    B  ADDR  00C8H.0   A   
CPRL2 . . . . . . . . . . . . . . . . .    B  ADDR  00C8H.0   A   
CS. . . . . . . . . . . . . . . . . . .    B  ADDR  00A0H.3   A   
CT2 . . . . . . . . . . . . . . . . . .    B  ADDR  00C8H.1   A   
CY. . . . . . . . . . . . . . . . . . .    B  ADDR  00D0H.7   A   
DATA? . . . . . . . . . . . . . . . . .    B  ADDR  00A0H.0   A   
DEV_OFFSET. . . . . . . . . . . . . . .    D  ADDR  00BEH     A   
DIN0. . . . . . . . . . . . . . . . . .    B  ADDR  0090H.2   A   
DIO0. . . . . . . . . . . . . . . . . .    B  ADDR  0090H.0   A   
DIO1. . . . . . . . . . . . . . . . . .    B  ADDR  0090H.1   A   
DIO2. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.0   A   
DIO3. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.1   A   
DIO4. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.2   A   
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/29/09 00:02:44 PAGE    15

DIO5. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.3   A   
DIO6. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.4   A   
DIO7. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.5   A   
DIO8. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.6   A   
DIO9. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.7   A   
DOUT2 . . . . . . . . . . . . . . . . .    B  ADDR  00A0H.4   A   
DPH . . . . . . . . . . . . . . . . . .    D  ADDR  0083H     A   
DPH0. . . . . . . . . . . . . . . . . .    D  ADDR  0083H     A   
DPH1. . . . . . . . . . . . . . . . . .    D  ADDR  0085H     A   
DPL . . . . . . . . . . . . . . . . . .    D  ADDR  0082H     A   
DPL0. . . . . . . . . . . . . . . . . .    D  ADDR  0082H     A   
DPL1. . . . . . . . . . . . . . . . . .    D  ADDR  0084H     A   
DPS . . . . . . . . . . . . . . . . . .    D  ADDR  0086H     A   
DR1 . . . . . . . . . . . . . . . . . .    B  ADDR  00A0H.2   A   
DR2 . . . . . . . . . . . . . . . . . .    B  ADDR  00A0H.6   A   
DR2_CE. . . . . . . . . . . . . . . . .    B  ADDR  00A0H.6   A   
EA. . . . . . . . . . . . . . . . . . .    B  ADDR  00A8H.7   A   
ECO_PAGE. . . . . . . . . . . . . . . .    -- ----  -------       
ECO_PAGE_ADDR . . . . . . . . . . . . .    D  ADDR  0005H     R   SEG=?DT?ECO_PAGE
ECO_PAGE_INIT . . . . . . . . . . . . .    C  ADDR  0000H     R   SEG=?PR?ECO_PAGE_INIT?ECO_PAGE
ECO_PAGE_MANAGER. . . . . . . . . . . .    C  ADDR  0000H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
ECO_PAGE_PREV_PID . . . . . . . . . . .    D  ADDR  0001H     R   SEG=?DT?ECO_PAGE
ECO_PAGE_PREV_VID . . . . . . . . . . .    D  ADDR  0003H     R   SEG=?DT?ECO_PAGE
ECO_PAGE_REGISTER1. . . . . . . . . . .    I  ADDR  0010H     R   SEG=?ID?ECO_PAGE
ECO_PAGE_REGISTER2. . . . . . . . . . .    I  ADDR  0011H     R   SEG=?ID?ECO_PAGE
ECO_PAGE_REGISTER3. . . . . . . . . . .    I  ADDR  0012H     R   SEG=?ID?ECO_PAGE
ECO_PAGE_REGISTER4. . . . . . . . . . .    I  ADDR  0013H     R   SEG=?ID?ECO_PAGE
ECO_PAGE_REGISTER5. . . . . . . . . . .    I  ADDR  0014H     R   SEG=?ID?ECO_PAGE
ECO_PAGE_REGISTER6. . . . . . . . . . .    I  ADDR  0015H     R   SEG=?ID?ECO_PAGE
ECO_PAGE_REGISTER7. . . . . . . . . . .    I  ADDR  0016H     R   SEG=?ID?ECO_PAGE
ECO_PAGE_SPI_CONN . . . . . . . . . . .    D  ADDR  0000H     R   SEG=?DT?ECO_PAGE
ECO_PAGE_TABLE. . . . . . . . . . . . .    I  ADDR  0000H     R   SEG=?ID?ECO_PAGE
ECO_PAGE_TABLE_INDEX. . . . . . . . . .    D  ADDR  0007H     R   SEG=?DT?ECO_PAGE
EEPROM_INIT . . . . . . . . . . . . . .    C  ADDR  -------       EXT
EICON . . . . . . . . . . . . . . . . .    D  ADDR  00D8H     A   
EIE . . . . . . . . . . . . . . . . . .    D  ADDR  00E8H     A   
EIP . . . . . . . . . . . . . . . . . .    D  ADDR  00F8H     A   
ES. . . . . . . . . . . . . . . . . . .    B  ADDR  00A8H.4   A   
ET0 . . . . . . . . . . . . . . . . . .    B  ADDR  00A8H.1   A   
ET1 . . . . . . . . . . . . . . . . . .    B  ADDR  00A8H.3   A   
ET2 . . . . . . . . . . . . . . . . . .    B  ADDR  00A8H.5   A   
EWDI. . . . . . . . . . . . . . . . . .    B  ADDR  00E8H.4   A   
EX0 . . . . . . . . . . . . . . . . . .    B  ADDR  00A8H.0   A   
EX1 . . . . . . . . . . . . . . . . . .    B  ADDR  00A8H.2   A   
EX2 . . . . . . . . . . . . . . . . . .    B  ADDR  00E8H.0   A   
EX3 . . . . . . . . . . . . . . . . . .    B  ADDR  00E8H.1   A   
EX4 . . . . . . . . . . . . . . . . . .    B  ADDR  00E8H.2   A   
EX5 . . . . . . . . . . . . . . . . . .    B  ADDR  00E8H.3   A   
EXEN2 . . . . . . . . . . . . . . . . .    B  ADDR  00C8H.3   A   
EXF2. . . . . . . . . . . . . . . . . .    B  ADDR  00C8H.6   A   
EXIF. . . . . . . . . . . . . . . . . .    D  ADDR  0091H     A   
F0. . . . . . . . . . . . . . . . . . .    B  ADDR  00D0H.5   A   
F1. . . . . . . . . . . . . . . . . . .    B  ADDR  00D0H.1   A   
I?142 . . . . . . . . . . . . . . . . .    D  ADDR  0000H     R   SEG=?DT?ECO_PAGE_MANAGER?ECO_PAGE
IE. . . . . . . . . . . . . . . . . . .    D  ADDR  00A8H     A   
IE0 . . . . . . . . . . . . . . . . . .    B  ADDR  0088H.1   A   
IE1 . . . . . . . . . . . . . . . . . .    B  ADDR  0088H.3   A   
INT0_N. . . . . . . . . . . . . . . . .    B  ADDR  0080H.3   A   
INT1_N. . . . . . . . . . . . . . . . .    B  ADDR  0080H.4   A   
IP. . . . . . . . . . . . . . . . . . .    D  ADDR  00B8H     A   
IT0 . . . . . . . . . . . . . . . . . .    B  ADDR  0088H.0   A   
IT1 . . . . . . . . . . . . . . . . . .    B  ADDR  0088H.2   A   
J?141 . . . . . . . . . . . . . . . . .    D  ADDR  0006H     R   SEG=?DT?ECO_PAGE_MANAGER?ECO_PAGE
MPAGE . . . . . . . . . . . . . . . . .    D  ADDR  0092H     A   
OV. . . . . . . . . . . . . . . . . . .    B  ADDR  00D0H.2   A   
P . . . . . . . . . . . . . . . . . . .    B  ADDR  00D0H.0   A   
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/29/09 00:02:44 PAGE    16

P0. . . . . . . . . . . . . . . . . . .    D  ADDR  0080H     A   
P0_0. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.0   A   
P0_1. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.1   A   
P0_2. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.2   A   
P0_3. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.3   A   
P0_4. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.4   A   
P0_5. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.5   A   
P0_6. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.6   A   
P0_7. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.7   A   
P0_ALT. . . . . . . . . . . . . . . . .    D  ADDR  0095H     A   
P0_DIR. . . . . . . . . . . . . . . . .    D  ADDR  0094H     A   
P1. . . . . . . . . . . . . . . . . . .    D  ADDR  0090H     A   
P1_0. . . . . . . . . . . . . . . . . .    B  ADDR  0090H.0   A   
P1_1. . . . . . . . . . . . . . . . . .    B  ADDR  0090H.1   A   
P1_2. . . . . . . . . . . . . . . . . .    B  ADDR  0090H.2   A   
P1_ALT. . . . . . . . . . . . . . . . .    D  ADDR  0097H     A   
P1_DIR. . . . . . . . . . . . . . . . .    D  ADDR  0096H     A   
PAGE_INDEX?143. . . . . . . . . . . . .    D  ADDR  0002H     R   SEG=?DT?ECO_PAGE_MANAGER?ECO_PAGE
PCON. . . . . . . . . . . . . . . . . .    D  ADDR  0087H     A   
PS. . . . . . . . . . . . . . . . . . .    B  ADDR  00B8H.4   A   
PSW . . . . . . . . . . . . . . . . . .    D  ADDR  00D0H     A   
PT0 . . . . . . . . . . . . . . . . . .    B  ADDR  00B8H.1   A   
PT1 . . . . . . . . . . . . . . . . . .    B  ADDR  00B8H.3   A   
PT2 . . . . . . . . . . . . . . . . . .    B  ADDR  00B8H.5   A   
PWDI. . . . . . . . . . . . . . . . . .    B  ADDR  00F8H.4   A   
PWM . . . . . . . . . . . . . . . . . .    B  ADDR  0080H.7   A   
PWMCON. . . . . . . . . . . . . . . . .    D  ADDR  00A9H     A   
PWMDUTY . . . . . . . . . . . . . . . .    D  ADDR  00AAH     A   
PWR_UP. . . . . . . . . . . . . . . . .    B  ADDR  00A0H.7   A   
PX0 . . . . . . . . . . . . . . . . . .    B  ADDR  00B8H.0   A   
PX1 . . . . . . . . . . . . . . . . . .    B  ADDR  00B8H.2   A   
PX2 . . . . . . . . . . . . . . . . . .    B  ADDR  00F8H.0   A   
PX3 . . . . . . . . . . . . . . . . . .    B  ADDR  00F8H.1   A   
PX4 . . . . . . . . . . . . . . . . . .    B  ADDR  00F8H.2   A   
PX5 . . . . . . . . . . . . . . . . . .    B  ADDR  00F8H.3   A   
RADIO . . . . . . . . . . . . . . . . .    D  ADDR  00A0H     A   
RB8 . . . . . . . . . . . . . . . . . .    B  ADDR  0098H.2   A   
RCAP2H. . . . . . . . . . . . . . . . .    D  ADDR  00CBH     A   
RCAP2L. . . . . . . . . . . . . . . . .    D  ADDR  00CAH     A   
RCLK. . . . . . . . . . . . . . . . . .    B  ADDR  00C8H.5   A   
REGX_CTRL . . . . . . . . . . . . . . .    D  ADDR  00ADH     A   
REGX_LSB. . . . . . . . . . . . . . . .    D  ADDR  00ACH     A   
REGX_MSB. . . . . . . . . . . . . . . .    D  ADDR  00ABH     A   
REN . . . . . . . . . . . . . . . . . .    B  ADDR  0098H.4   A   
RI. . . . . . . . . . . . . . . . . . .    B  ADDR  0098H.0   A   
RS0 . . . . . . . . . . . . . . . . . .    B  ADDR  00D0H.3   A   
RS1 . . . . . . . . . . . . . . . . . .    B  ADDR  00D0H.4   A   
RSTREAS . . . . . . . . . . . . . . . .    D  ADDR  00B1H     A   
RXD . . . . . . . . . . . . . . . . . .    B  ADDR  0080H.1   A   
SBUF. . . . . . . . . . . . . . . . . .    D  ADDR  0099H     A   
SCON. . . . . . . . . . . . . . . . . .    D  ADDR  0098H     A   
SEG?140 . . . . . . . . . . . . . . . .    D  ADDR  0004H     R   SEG=?DT?ECO_PAGE_MANAGER?ECO_PAGE
SM0 . . . . . . . . . . . . . . . . . .    B  ADDR  0098H.7   A   
SM1 . . . . . . . . . . . . . . . . . .    B  ADDR  0098H.6   A   
SM2 . . . . . . . . . . . . . . . . . .    B  ADDR  0098H.5   A   
SP. . . . . . . . . . . . . . . . . . .    D  ADDR  0081H     A   
SPC_FNC . . . . . . . . . . . . . . . .    D  ADDR  008FH     A   
SPI_CTRL. . . . . . . . . . . . . . . .    D  ADDR  00B3H     A   
SPI_DATA. . . . . . . . . . . . . . . .    D  ADDR  00B2H     A   
SPICLK. . . . . . . . . . . . . . . . .    D  ADDR  00B4H     A   
T0. . . . . . . . . . . . . . . . . . .    B  ADDR  0080H.5   A   
T1. . . . . . . . . . . . . . . . . . .    B  ADDR  0080H.6   A   
T1_1V2. . . . . . . . . . . . . . . . .    D  ADDR  00BCH     A   
T2. . . . . . . . . . . . . . . . . . .    B  ADDR  0090H.0   A   
T2_1V2. . . . . . . . . . . . . . . . .    D  ADDR  00BDH     A   
T2CON . . . . . . . . . . . . . . . . .    D  ADDR  00C8H     A   
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/29/09 00:02:44 PAGE    17

TB8 . . . . . . . . . . . . . . . . . .    B  ADDR  0098H.3   A   
TCLK. . . . . . . . . . . . . . . . . .    B  ADDR  00C8H.4   A   
TCON. . . . . . . . . . . . . . . . . .    D  ADDR  0088H     A   
TEST_MODE . . . . . . . . . . . . . . .    D  ADDR  00B7H     A   
TF0 . . . . . . . . . . . . . . . . . .    B  ADDR  0088H.5   A   
TF1 . . . . . . . . . . . . . . . . . .    B  ADDR  0088H.7   A   
TF2 . . . . . . . . . . . . . . . . . .    B  ADDR  00C8H.7   A   
TH0 . . . . . . . . . . . . . . . . . .    D  ADDR  008CH     A   
TH1 . . . . . . . . . . . . . . . . . .    D  ADDR  008DH     A   
TH2 . . . . . . . . . . . . . . . . . .    D  ADDR  00CDH     A   
TI. . . . . . . . . . . . . . . . . . .    B  ADDR  0098H.1   A   
TICK_DV . . . . . . . . . . . . . . . .    D  ADDR  00B5H     A   
TL0 . . . . . . . . . . . . . . . . . .    D  ADDR  008AH     A   
TL1 . . . . . . . . . . . . . . . . . .    D  ADDR  008BH     A   
TL2 . . . . . . . . . . . . . . . . . .    D  ADDR  00CCH     A   
TMOD. . . . . . . . . . . . . . . . . .    D  ADDR  0089H     A   
TR0 . . . . . . . . . . . . . . . . . .    B  ADDR  0088H.4   A   
TR1 . . . . . . . . . . . . . . . . . .    B  ADDR  0088H.6   A   
TR2 . . . . . . . . . . . . . . . . . .    B  ADDR  00C8H.2   A   
TXD . . . . . . . . . . . . . . . . . .    B  ADDR  0080H.2   A   
WDTI. . . . . . . . . . . . . . . . . .    B  ADDR  00D8H.3   A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S).
