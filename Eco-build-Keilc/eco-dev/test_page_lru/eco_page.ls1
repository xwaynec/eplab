AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/13/09 19:32:12 PAGE     1


MACRO ASSEMBLER AX51 V3.06a
OBJECT MODULE PLACED IN .\eco_page.obj
ASSEMBLER INVOKED BY: C:\Keil\C51\BIN\AX51.exe .\eco_page.src EP DEBUG SYMBOLS OJ(.\eco_page.obj) PR(.\eco_page.ls1) 

LOC    OBJ             LINE     SOURCE

                          1     ; ./eco_page.src generated from: .\eco_page.c
                          2     ; COMPILER INVOKED BY:
                          3     ;        C:\Keil\C51\BIN\C51.exe .\eco_page.c BROWSE DEBUG CODE LISTINCLUDE SYMBOLS PREP
                               RINT INCDIR(../../Include) SRC(./eco_page.src)
                          4     
                          5     $nomod51 
                          6     
                          7     NAME    ECO_PAGE
                          8     
 00A0.7                   9     PWR_UP  BIT     0A0H.7
 0080                    10     P0      DATA    080H
 0090                    11     P1      DATA    090H
 00D0.6                  12     AC      BIT     0D0H.6
 0080.5                  13     T0      BIT     080H.5
 00B3                    14     SPI_CTRL        DATA    0B3H
 0080.6                  15     T1      BIT     080H.6
 00A8.7                  16     EA      BIT     0A8H.7
 0090.0                  17     T2      BIT     090H.0
 00A0.6                  18     CE      BIT     0A0H.6
 00BE                    19     DEV_OFFSET      DATA    0BEH
 00A0.1                  20     CLK1    BIT     0A0H.1
 0090.2                  21     DIN0    BIT     090H.2
 00A0.5                  22     CLK2    BIT     0A0H.5
 0090.0                  23     DIO0    BIT     090H.0
 0083                    24     DPH0    DATA    083H
 0090.1                  25     DIO1    BIT     090H.1
 00A8                    26     IE      DATA    0A8H
 0085                    27     DPH1    DATA    085H
 0080.0                  28     DIO2    BIT     080H.0
 0080.1                  29     DIO3    BIT     080H.1
 0080.0                  30     P0_0    BIT     080H.0
 0090.0                  31     P1_0    BIT     090H.0
 0080.2                  32     DIO4    BIT     080H.2
 0080.1                  33     P0_1    BIT     080H.1
 0082                    34     DPL0    DATA    082H
 0090.1                  35     P1_1    BIT     090H.1
 0080.3                  36     DIO5    BIT     080H.3
 0080.2                  37     P0_2    BIT     080H.2
 0084                    38     DPL1    DATA    084H
 0090.2                  39     P1_2    BIT     090H.2
 0080.4                  40     DIO6    BIT     080H.4
 0080.3                  41     P0_3    BIT     080H.3
 0080.5                  42     DIO7    BIT     080H.5
 0080.4                  43     P0_4    BIT     080H.4
 00A4                    44     ADCSTATIC       DATA    0A4H
 0080.6                  45     DIO8    BIT     080H.6
 0080.5                  46     P0_5    BIT     080H.5
 00C8.6                  47     EXF2    BIT     0C8H.6
 00A0.3                  48     CS      BIT     0A0H.3
 0080.7                  49     DIO9    BIT     080H.7
 0080.6                  50     P0_6    BIT     080H.6
 0080.7                  51     P0_7    BIT     080H.7
 00A8.4                  52     ES      BIT     0A8H.4
 00B8                    53     IP      DATA    0B8H
 00A0.0                  54     DATA?   BIT     0A0H.0
 0098.0                  55     RI      BIT     098H.0
 00D0.7                  56     CY      BIT     0D0H.7
 0098.1                  57     TI      BIT     098H.1
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/13/09 19:32:12 PAGE     2

 00BC                    58     T1_1V2  DATA    0BCH
 008F                    59     SPC_FNC DATA    08FH
 00BD                    60     T2_1V2  DATA    0BDH
 00CB                    61     RCAP2H  DATA    0CBH
 00B8.4                  62     PS      BIT     0B8H.4
 0081                    63     SP      DATA    081H
 00D0.2                  64     OV      BIT     0D0H.2
 00B6                    65     CK_CTRL DATA    0B6H
 00CA                    66     RCAP2L  DATA    0CAH
 00B5                    67     TICK_DV DATA    0B5H
 00B1                    68     RSTREAS DATA    0B1H
 00C8.1                  69     C_T2    BIT     0C8H.1
 00E8.4                  70     EWDI    BIT     0E8H.4
 00A1                    71     ADCCON  DATA    0A1H
 00C8.5                  72     RCLK    BIT     0C8H.5
 00A2                    73     ADCDATAH        DATA    0A2H
 0091                    74     EXIF    DATA    091H
 00C8.4                  75     TCLK    BIT     0C8H.4
 00A0.6                  76     DR2_CE  BIT     0A0H.6
 00A3                    77     ADCDATAL        DATA    0A3H
 0099                    78     SBUF    DATA    099H
 0087                    79     PCON    DATA    087H
 0098                    80     SCON    DATA    098H
 00F8.4                  81     PWDI    BIT     0F8H.4
 0089                    82     TMOD    DATA    089H
 0088                    83     TCON    DATA    088H
 00D8.3                  84     WDTI    BIT     0D8H.3
 00AA                    85     PWMDUTY DATA    0AAH
 0088.1                  86     IE0     BIT     088H.1
 0088.3                  87     IE1     BIT     088H.3
 0094                    88     P0_DIR  DATA    094H
 00F0                    89     B       DATA    0F0H
 0096                    90     P1_DIR  DATA    096H
 0095                    91     P0_ALT  DATA    095H
 0097                    92     P1_ALT  DATA    097H
 00C8.0                  93     CP_RL2  BIT     0C8H.0
 00A0.2                  94     DR1     BIT     0A0H.2
 00E0                    95     ACC     DATA    0E0H
 00A0.6                  96     DR2     BIT     0A0H.6
 00B7                    97     TEST_MODE       DATA    0B7H
 00B4                    98     SPICLK  DATA    0B4H
 00C8.1                  99     CT2     BIT     0C8H.1
 00A8.1                 100     ET0     BIT     0A8H.1
 00A8.3                 101     ET1     BIT     0A8H.3
 0088.5                 102     TF0     BIT     088H.5
 0080.3                 103     INT0_N  BIT     080H.3
 00A8.5                 104     ET2     BIT     0A8H.5
 0088.7                 105     TF1     BIT     088H.7
 0080.4                 106     INT1_N  BIT     080H.4
 00C8.7                 107     TF2     BIT     0C8H.7
 0098.2                 108     RB8     BIT     098H.2
 008C                   109     TH0     DATA    08CH
 00A8.0                 110     EX0     BIT     0A8H.0
 0088.0                 111     IT0     BIT     088H.0
 008D                   112     TH1     DATA    08DH
 00A8.2                 113     EX1     BIT     0A8H.2
 0098.3                 114     TB8     BIT     098H.3
 0088.2                 115     IT1     BIT     088H.2
 00CD                   116     TH2     DATA    0CDH
 00AD                   117     REGX_CTRL       DATA    0ADH
 00E8.0                 118     EX2     BIT     0E8H.0
 00D0.0                 119     P       BIT     0D0H.0
 00E8.1                 120     EX3     BIT     0E8H.1
 0098.7                 121     SM0     BIT     098H.7
 008A                   122     TL0     DATA    08AH
 00E8.2                 123     EX4     BIT     0E8H.2
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/13/09 19:32:12 PAGE     3

 0098.6                 124     SM1     BIT     098H.6
 008B                   125     TL1     DATA    08BH
 00E8.3                 126     EX5     BIT     0E8H.3
 0098.5                 127     SM2     BIT     098H.5
 00CC                   128     TL2     DATA    0CCH
 00E8                   129     EIE     DATA    0E8H
 00B8.1                 130     PT0     BIT     0B8H.1
 00D0.3                 131     RS0     BIT     0D0H.3
 00B8.3                 132     PT1     BIT     0B8H.3
 00D0.4                 133     RS1     BIT     0D0H.4
 00B8.5                 134     PT2     BIT     0B8H.5
 0088.4                 135     TR0     BIT     088H.4
 00A9                   136     PWMCON  DATA    0A9H
 0088.6                 137     TR1     BIT     088H.6
 00C8.2                 138     TR2     BIT     0C8H.2
 00B8.0                 139     PX0     BIT     0B8H.0
 00B8.2                 140     PX1     BIT     0B8H.2
 00F8.0                 141     PX2     BIT     0F8H.0
 00F8.1                 142     PX3     BIT     0F8H.1
 00F8.2                 143     PX4     BIT     0F8H.2
 0083                   144     DPH     DATA    083H
 00F8.3                 145     PX5     BIT     0F8H.3
 00F8                   146     EIP     DATA    0F8H
 0082                   147     DPL     DATA    082H
 00C8.3                 148     EXEN2   BIT     0C8H.3
 00C8.0                 149     CPRL2   BIT     0C8H.0
 0098.4                 150     REN     BIT     098H.4
 00C8                   151     T2CON   DATA    0C8H
 0086                   152     DPS     DATA    086H
 00B2                   153     SPI_DATA        DATA    0B2H
 0092                   154     MPAGE   DATA    092H
 0080.1                 155     RXD     BIT     080H.1
 00A0.4                 156     DOUT2   BIT     0A0H.4
 00D8                   157     EICON   DATA    0D8H
 008E                   158     CKCON   DATA    08EH
 0080.2                 159     TXD     BIT     080H.2
 00A0                   160     RADIO   DATA    0A0H
 0080.7                 161     PWM     BIT     080H.7
 00D0.5                 162     F0      BIT     0D0H.5
 00D0.1                 163     F1      BIT     0D0H.1
 00AC                   164     REGX_LSB        DATA    0ACH
 00D0                   165     PSW     DATA    0D0H
 00AB                   166     REGX_MSB        DATA    0ABH
------                  167     ?PR?eco_page_init?ECO_PAGE               SEGMENT CODE 
------                  168     ?PR?eco_page_manager?ECO_PAGE            SEGMENT CODE 
------                  169     ?DT?eco_page_manager?ECO_PAGE            SEGMENT DATA OVERLAYABLE 
------                  170     ?DT?ECO_PAGE         SEGMENT DATA 
------                  171     ?ID?ECO_PAGE         SEGMENT IDATA 
                        172             EXTRN   CODE (_mdelay)
                        173             EXTRN   CODE (_eeprom_read)
                        174             EXTRN   CODE (eeprom_init)
                        175             EXTRN   CODE (?C?UIDIV)
                        176             PUBLIC  ECO_PAGE_TABLE_INDEX
                        177             PUBLIC  ECO_PAGE_REGISTER7
                        178             PUBLIC  ECO_PAGE_REGISTER6
                        179             PUBLIC  ECO_PAGE_REGISTER5
                        180             PUBLIC  ECO_PAGE_REGISTER4
                        181             PUBLIC  ECO_PAGE_ADDR
                        182             PUBLIC  ECO_PAGE_REGISTER3
                        183             PUBLIC  ECO_PAGE_REGISTER2
                        184             PUBLIC  ECO_PAGE_REGISTER1
                        185             PUBLIC  ECO_PAGE_PREV_VID
                        186             PUBLIC  ECO_PAGE_SPI_CONN
                        187             PUBLIC  ECO_PAGE_PREV_PID
                        188             PUBLIC  ECO_PAGE_TABLE
                        189             PUBLIC  eco_page_manager
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/13/09 19:32:12 PAGE     4

                        190             PUBLIC  eco_page_init
                        191     
------                  192             RSEG  ?DT?eco_page_manager?ECO_PAGE
000000                  193     ?eco_page_manager?BYTE:
000004                  194             ORG  4
000004                  195             seg?140:   DS   2
000006                  196             ORG  6
000006                  197               j?141:   DS   2
000000                  198             ORG  0
000000                  199               i?142:   DS   2
000002                  200             ORG  2
000002                  201      page_index?143:   DS   2
                        202     
------                  203             RSEG  ?DT?ECO_PAGE
000000                  204      ECO_PAGE_TABLE:   DS   10
00000A                  205     ECO_PAGE_PREV_PID:   DS   1
00000B                  206     ECO_PAGE_SPI_CONN:   DS   1
00000C                  207     ECO_PAGE_PREV_VID:   DS   1
00000D                  208       ECO_PAGE_ADDR:   DS   2
00000F                  209     ECO_PAGE_TABLE_INDEX:   DS   2
                        210     
------                  211             RSEG  ?ID?ECO_PAGE
000000                  212     ECO_PAGE_REGISTER1:   DS   1
000001                  213     ECO_PAGE_REGISTER2:   DS   1
000002                  214     ECO_PAGE_REGISTER3:   DS   1
000003                  215     ECO_PAGE_REGISTER4:   DS   1
000004                  216     ECO_PAGE_REGISTER5:   DS   1
000005                  217     ECO_PAGE_REGISTER6:   DS   1
000006                  218     ECO_PAGE_REGISTER7:   DS   1
                        219     ; /*
                        220     ;  * Author(s): Wei-Han Chen (Embedded Platform Lab, NTHU)
                        221     ;  * Copyright (c) 2009 National Tsing Hua University (NTHU) 
                        222     ;  * Permission to copy, modify, and distribute this program is granted 
                        223     ;  * for noncommercial purposes, provided the author(s) and copyright
                        224     ;  * notice are retained. All other uses require explicit written
                        225     ;  * permission from NTHU. 
                        226     ;  *
                        227     ;  * Eco Paging Library 
                        228     ;  *
                        229     ;  * Wei-Han Chen <xwaynec@gmail.com> 
                        230     ;  * 2009/2/13
                        231     ;  */
                        232     ; 
                        233     ; 
                        234     ; #include "eco_page.h"
                        235     ; #include "eeprom/eeprom.h"
                        236     ; 
                        237     ; unsigned char ECO_PAGE_TABLE[10];
                        238     ; unsigned int ECO_PAGE_TABLE_INDEX;
                        239     ; 
                        240     ; unsigned int ECO_PAGE_ADDR;
                        241     ; unsigned char ECO_PAGE_SPI_CONN;
                        242     ; 
                        243     ; //Eco page virtual address id
                        244     ; unsigned char ECO_PAGE_PREV_VID;
                        245     ; 
                        246     ; //Eco page physical address id 
                        247     ; unsigned char ECO_PAGE_PREV_PID;
                        248     ; 
                        249     ; //unsigned char ECO_PAGE_REGISTER[7];
                        250     ; 
                        251     ; unsigned char idata ECO_PAGE_REGISTER1;
                        252     ; unsigned char idata ECO_PAGE_REGISTER2;
                        253     ; unsigned char idata ECO_PAGE_REGISTER3;
                        254     ; unsigned char idata ECO_PAGE_REGISTER4;
                        255     ; unsigned char idata ECO_PAGE_REGISTER5;
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/13/09 19:32:12 PAGE     5

                        256     ; unsigned char idata ECO_PAGE_REGISTER6;
                        257     ; unsigned char idata ECO_PAGE_REGISTER7;
                        258     ; 
                        259     ; 
                        260     ; void eco_page_init()
                        261     
------                  262             RSEG  ?PR?eco_page_init?ECO_PAGE
000000                  263     eco_page_init:
                        264                             ; SOURCE LINE # 42
                        265     ; {
                        266                             ; SOURCE LINE # 43
                        267     ;       ECO_PAGE_TABLE_INDEX = 5;
                        268                             ; SOURCE LINE # 44
000000 750000     F     269             MOV     ECO_PAGE_TABLE_INDEX,#00H
000003 750005     F     270             MOV     ECO_PAGE_TABLE_INDEX+01H,#05H
                        271     ;       //ECO_PAGE_TABLE_INDEX++;       
                        272     ;       //ECO_PAGE_REGISTER5 = 0xA7;
                        273     ;       //ECO_PAGE_REGISTER3 = ECO_PAGE_TABLE_INDEX;
                        274     ;       ECO_PAGE_ADDR = 0;
                        275                             ; SOURCE LINE # 48
000006 E4               276             CLR     A
000007 F500       F     277             MOV     ECO_PAGE_ADDR,A
000009 F500       F     278             MOV     ECO_PAGE_ADDR+01H,A
                        279     ;       ECO_PAGE_PREV_VID = 0;
                        280                             ; SOURCE LINE # 49
00000B F500       F     281             MOV     ECO_PAGE_PREV_VID,A
                        282     ;       ECO_PAGE_PREV_PID = 0;
                        283                             ; SOURCE LINE # 50
00000D F500       F     284             MOV     ECO_PAGE_PREV_PID,A
                        285     ; 
                        286     ;       ECO_PAGE_TABLE[0] = 0x55; 
                        287                             ; SOURCE LINE # 52
00000F 750055     F     288             MOV     ECO_PAGE_TABLE,#055H
                        289     ;       ECO_PAGE_TABLE[1] = 0x66; 
                        290                             ; SOURCE LINE # 53
000012 750066     F     291             MOV     ECO_PAGE_TABLE+01H,#066H
                        292     ;       ECO_PAGE_TABLE[2] = 0x55;
                        293                             ; SOURCE LINE # 54
000015 750055     F     294             MOV     ECO_PAGE_TABLE+02H,#055H
                        295     ;       ECO_PAGE_TABLE[3] = 0x66; 
                        296                             ; SOURCE LINE # 55
000018 750066     F     297             MOV     ECO_PAGE_TABLE+03H,#066H
                        298     ;       ECO_PAGE_TABLE[4] = 0; 
                        299                             ; SOURCE LINE # 56
00001B F500       F     300             MOV     ECO_PAGE_TABLE+04H,A
                        301     ;       ECO_PAGE_TABLE[5] = 0; 
                        302                             ; SOURCE LINE # 57
00001D F500       F     303             MOV     ECO_PAGE_TABLE+05H,A
                        304     ;       ECO_PAGE_TABLE[6] = 0; 
                        305                             ; SOURCE LINE # 58
00001F F500       F     306             MOV     ECO_PAGE_TABLE+06H,A
                        307     ;       ECO_PAGE_TABLE[7] = 0; 
                        308                             ; SOURCE LINE # 59
000021 F500       F     309             MOV     ECO_PAGE_TABLE+07H,A
                        310     ;       ECO_PAGE_TABLE[8] = 0; 
                        311                             ; SOURCE LINE # 60
000023 F500       F     312             MOV     ECO_PAGE_TABLE+08H,A
                        313     ;       ECO_PAGE_TABLE[9] = 0; 
                        314                             ; SOURCE LINE # 61
000025 F500       F     315             MOV     ECO_PAGE_TABLE+09H,A
                        316     ; }
                        317                             ; SOURCE LINE # 62
000027 22               318             RET     
                        319     ; END OF eco_page_init
                        320     
                        321     ; 
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/13/09 19:32:12 PAGE     6

                        322     ; //LRU page replacement
                        323     ; void eco_page_manager()
                        324     
------                  325             RSEG  ?PR?eco_page_manager?ECO_PAGE
000000                  326     eco_page_manager:
                        327             USING   0
                        328                             ; SOURCE LINE # 65
                        329     ; {
                        330                             ; SOURCE LINE # 66
                        331     ;       unsigned int i;
                        332     ;       unsigned int page_index = -1;
                        333                             ; SOURCE LINE # 68
000000 74FF             334             MOV     A,#0FFH
000002 F500       F     335             MOV     page_index?143,A
000004 F500       F     336             MOV     page_index?143+01H,A
                        337     ; 
                        338     ;       //if page id is the same with the last page id
                        339     ;       if(((ECO_PAGE_ADDR >> 8) & 0x7F) == (ECO_PAGE_PREV_PID & 0x7F))
                        340                             ; SOURCE LINE # 71
000006 E500       F     341             MOV     A,ECO_PAGE_ADDR
000008 547F             342             ANL     A,#07FH
00000A FF               343             MOV     R7,A
00000B E500       F     344             MOV     A,ECO_PAGE_PREV_PID
00000D 547F             345             ANL     A,#07FH
00000F B5070F           346             CJNE    A,AR7,?C0002
                        347     ;       {
                        348                             ; SOURCE LINE # 72
                        349     ;               //for(i=0;i<4;i++)
                        350     ;               //{    
                        351     ;               //      blink_led();
                        352     ;               //      mdelay(200);
                        353     ;               //}    
                        354     ;               //mdelay(1000);
                        355     ;               //virtual address id + function offset
                        356     ;               ECO_PAGE_ADDR = (ECO_PAGE_PREV_VID << 8) + (ECO_PAGE_ADDR & 0x00FF);
                        357                             ; SOURCE LINE # 80
000012 E500       F     358             MOV     A,ECO_PAGE_PREV_VID
000014 FE               359             MOV     R6,A
000015 7C00             360             MOV     R4,#00H
000017 E4               361             CLR     A
000018 2500       F     362             ADD     A,ECO_PAGE_ADDR+01H
00001A F500       F     363             MOV     ECO_PAGE_ADDR+01H,A
00001C EC               364             MOV     A,R4
00001D 3E               365             ADDC    A,R6
00001E F500       F     366             MOV     ECO_PAGE_ADDR,A
                        367     ;               #pragma asm
                        368     ;               //eco_page_function_call        
                        369               
                        370     ;               //MOV     DPH,ECO_PAGE_ADDR
                        371               
                        372     ;               //MOV     DPL,ECO_PAGE_ADDR+01H
                        373               
                        374     ;               //LCALL ?C?ICALL2
                        375               
000020 22               376             RET     
                        377     ;               #pragma endasm
                        378     ;               return ;
                        379     ;       }       
                        380                             ; SOURCE LINE # 88
000021                  381     ?C0002:
                        382     ;       
                        383     ;       //check page table
                        384     ;       for(i=0;i<10;i++)
                        385                             ; SOURCE LINE # 91
000021 E4               386             CLR     A
000022 F500       F     387             MOV     i?142,A
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/13/09 19:32:12 PAGE     7

000024 F500       F     388             MOV     i?142+01H,A
000026                  389     ?C0004:
                        390     ;       {
                        391                             ; SOURCE LINE # 92
                        392     ;               if(((ECO_PAGE_ADDR >> 8) & 0x7F) == (ECO_PAGE_TABLE[i] & 0x7F))
                        393                             ; SOURCE LINE # 93
000026 AD00       F     394             MOV     R5,i?142+01H
000028 7400       F     395             MOV     A,#LOW (ECO_PAGE_TABLE)
00002A 2D               396             ADD     A,R5
00002B F8               397             MOV     R0,A
00002C E6               398             MOV     A,@R0
00002D FC               399             MOV     R4,A
00002E 547F             400             ANL     A,#07FH
000030 FB               401             MOV     R3,A
000031 E500       F     402             MOV     A,ECO_PAGE_ADDR
000033 547F             403             ANL     A,#07FH
000035 B50310           404             CJNE    A,AR3,?C0006
                        405     ;               {
                        406                             ; SOURCE LINE # 94
                        407     ;                       page_index = i;
                        408                             ; SOURCE LINE # 95
000038 850000     F     409             MOV     page_index?143,i?142
00003B 850000     F     410             MOV     page_index?143+01H,i?142+01H
                        411     ;                       //set LRU bit is 1
                        412     ;                       ECO_PAGE_TABLE[i] = ECO_PAGE_TABLE[i] | 0x80;
                        413                             ; SOURCE LINE # 97
00003E 7400       F     414             MOV     A,#LOW (ECO_PAGE_TABLE)
000040 2D               415             ADD     A,R5
000041 F8               416             MOV     R0,A
000042 EC               417             MOV     A,R4
000043 4480             418             ORL     A,#080H
000045 F6               419             MOV     @R0,A
                        420     ;                       break;
                        421                             ; SOURCE LINE # 98
000046 800E             422             SJMP    ?C0005
                        423     ;               }
                        424                             ; SOURCE LINE # 99
                        425     ;       }
                        426                             ; SOURCE LINE # 100
000048                  427     ?C0006:
000048 0500       F     428             INC     i?142+01H
00004A E500       F     429             MOV     A,i?142+01H
00004C 7002             430             JNZ     ?C0023
00004E 0500       F     431             INC     i?142
000050                  432     ?C0023:
000050 640A             433             XRL     A,#0AH
000052 4500       F     434             ORL     A,i?142
000054 70D0             435             JNZ     ?C0004
000056                  436     ?C0005:
                        437     ; 
                        438     ;       if(page_index != -1)
                        439                             ; SOURCE LINE # 102
000056 E500       F     440             MOV     A,page_index?143+01H
000058 F4               441             CPL     A
000059 7003             442             JNZ     ?C0024
00005B E500       F     443             MOV     A,page_index?143
00005D F4               444             CPL     A
00005E                  445     ?C0024:
00005E 6019             446             JZ      ?C0008
                        447     ;       {
                        448                             ; SOURCE LINE # 103
                        449     ;               //Check POP instruction 
                        450     ;               //for(i=0;i<4;i++)
                        451     ;               //{    
                        452     ;               //      blink_led();
                        453     ;               //      mdelay(200);
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/13/09 19:32:12 PAGE     8

                        454     ;               //}    
                        455     ;               //mdelay(1000);
                        456     ; 
                        457     ;               //store function physical addres id 
                        458     ;               ECO_PAGE_PREV_PID = ECO_PAGE_ADDR >> 8;
                        459                             ; SOURCE LINE # 113
000060 E500       F     460             MOV     A,ECO_PAGE_ADDR
000062 F500       F     461             MOV     ECO_PAGE_PREV_PID,A
                        462     ;       
                        463     ;               //memory page is in ram
                        464     ;               ECO_PAGE_ADDR = ((page_index + ECO_PAGE_ADDR_OFFSET) << 8) + (ECO_PAGE_A
                               DDR & 0x00FF);
                        465                             ; SOURCE LINE # 116
000064 E500       F     466             MOV     A,page_index?143+01H
000066 2406             467             ADD     A,#06H
000068 FF               468             MOV     R7,A
000069 EF               469             MOV     A,R7
00006A FE               470             MOV     R6,A
00006B 7C00             471             MOV     R4,#00H
00006D E4               472             CLR     A
00006E 2500       F     473             ADD     A,ECO_PAGE_ADDR+01H
000070 F500       F     474             MOV     ECO_PAGE_ADDR+01H,A
000072 EC               475             MOV     A,R4
000073 3E               476             ADDC    A,R6
000074 F500       F     477             MOV     ECO_PAGE_ADDR,A
                        478     ; 
                        479     ;               //cache the virtual address id
                        480     ;               ECO_PAGE_PREV_VID = ECO_PAGE_ADDR >> 8;
                        481                             ; SOURCE LINE # 119
000076 F500       F     482             MOV     ECO_PAGE_PREV_VID,A
                        483     ; 
                        484     ;               #pragma asm
                        485     ;               //eco_page_function_call
                        486               
                        487     ;               //MOV     DPH,ECO_PAGE_ADDR
                        488               
                        489     ;               //MOV     DPL,ECO_PAGE_ADDR+01H
                        490               
                        491     ;               //LCALL ?C?ICALL2
                        492               
000078 22               493             RET     
                        494     ;               #pragma endasm
                        495     ; 
                        496     ;               return ;
                        497     ;       }       
                        498                             ; SOURCE LINE # 129
000079                  499     ?C0008:
                        500     ;       else
                        501     ;       {
                        502                             ; SOURCE LINE # 131
                        503     ;               //printf("page fault");
                        504     ;               for(i=0;i<4;i++)
                        505                             ; SOURCE LINE # 133
000079 E4               506             CLR     A
00007A F500       F     507             MOV     i?142,A
00007C F500       F     508             MOV     i?142+01H,A
00007E                  509     ?C0010:
                        510     ;               {
                        511                             ; SOURCE LINE # 134
                        512     ;                       blink_led();
                        513                             ; SOURCE LINE # 135
00007E 638020           514             XRL     P0,#020H
                        515     ;                       mdelay(300);
                        516                             ; SOURCE LINE # 136
000081 7F2C             517             MOV     R7,#02CH
000083 7E01             518             MOV     R6,#01H
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/13/09 19:32:12 PAGE     9

000085 120000     E     519             LCALL   _mdelay
                        520     ;               }
                        521                             ; SOURCE LINE # 137
000088 0500       F     522             INC     i?142+01H
00008A E500       F     523             MOV     A,i?142+01H
00008C 7002             524             JNZ     ?C0025
00008E 0500       F     525             INC     i?142
000090                  526     ?C0025:
000090 C3               527             CLR     C
000091 9404             528             SUBB    A,#04H
000093 E500       F     529             MOV     A,i?142
000095 9400             530             SUBB    A,#00H
000097 40E5             531             JC      ?C0010
000099                  532     ?C0011:
                        533     ;               mdelay(1000);
                        534                             ; SOURCE LINE # 138
000099 7FE8             535             MOV     R7,#0E8H
00009B 7E03             536             MOV     R6,#03H
00009D 120000     E     537             LCALL   _mdelay
                        538     ; 
                        539     ;               for(i=ECO_PAGE_TABLE_INDEX+1; ;i=(i+1)%10)
                        540                             ; SOURCE LINE # 140
0000A0 E500       F     541             MOV     A,ECO_PAGE_TABLE_INDEX+01H
0000A2 2401             542             ADD     A,#01H
0000A4 F500       F     543             MOV     i?142+01H,A
0000A6 E4               544             CLR     A
0000A7 3500       F     545             ADDC    A,ECO_PAGE_TABLE_INDEX
0000A9 F500       F     546             MOV     i?142,A
0000AB                  547     ?C0013:
                        548     ;               {
                        549                             ; SOURCE LINE # 141
                        550     ;                       if((ECO_PAGE_TABLE[i] & 0x80) == 0x80)
                        551                             ; SOURCE LINE # 142
0000AB 7400       F     552             MOV     A,#LOW (ECO_PAGE_TABLE)
0000AD 2500       F     553             ADD     A,i?142+01H
0000AF F8               554             MOV     R0,A
0000B0 E6               555             MOV     A,@R0
0000B1 30E705           556             JNB     ACC.7,?C0016
                        557     ;                       {
                        558                             ; SOURCE LINE # 143
                        559     ;                               //LRU bit is 1 and then set this bit is 0
                        560     ;                               ECO_PAGE_TABLE[i] = ECO_PAGE_TABLE[i] & 0x7F;
                        561                             ; SOURCE LINE # 145
0000B4 547F             562             ANL     A,#07FH
0000B6 F6               563             MOV     @R0,A
                        564     ;                       }
                        565                             ; SOURCE LINE # 146
0000B7 8071             566             SJMP    ?C0015
0000B9                  567     ?C0016:
                        568     ;                       else
                        569     ;                       {
                        570                             ; SOURCE LINE # 148
                        571     ;                               unsigned char xdata *seg = (unsigned char xdata *)((i + 
                               ECO_PAGE_ADDR_OFFSET)<<8);
                        572                             ; SOURCE LINE # 149
0000B9 E500       F     573             MOV     A,i?142+01H
0000BB 2406             574             ADD     A,#06H
0000BD FF               575             MOV     R7,A
0000BE E4               576             CLR     A
0000BF 3500       F     577             ADDC    A,i?142
0000C1 EF               578             MOV     A,R7
0000C2 F500       F     579             MOV     seg?140,A
0000C4 750000     F     580             MOV     seg?140+01H,#00H
                        581     ;                               unsigned int j;
                        582     ;                               
                        583     ;                               //memory page is in ram
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/13/09 19:32:12 PAGE    10

                        584     ;                               eeprom_init();
                        585                             ; SOURCE LINE # 153
0000C7 120000     E     586             LCALL   eeprom_init
                        587     ; 
                        588     ;                               //mov code from eeprom to external ram
                        589     ;                               for(j=0;j<256;j++)
                        590                             ; SOURCE LINE # 156
0000CA E4               591             CLR     A
0000CB F500       F     592             MOV     j?141,A
0000CD F500       F     593             MOV     j?141+01H,A
0000CF                  594     ?C0018:
                        595     ;                               {
                        596                             ; SOURCE LINE # 157
                        597     ;                                       *(seg+j) = eeprom_read(ECO_ADDR_SHIFT(ECO_PAGE_A
                               DDR & 0xFF00 ) +j);
                        598                             ; SOURCE LINE # 158
0000CF E4               599             CLR     A
0000D0 2403             600             ADD     A,#03H
0000D2 FF               601             MOV     R7,A
0000D3 E4               602             CLR     A
0000D4 3500       F     603             ADDC    A,ECO_PAGE_ADDR
0000D6 CF               604             XCH     A,R7
0000D7 2500       F     605             ADD     A,j?141+01H
0000D9 CF               606             XCH     A,R7
0000DA 3500       F     607             ADDC    A,j?141
0000DC FE               608             MOV     R6,A
0000DD 120000     E     609             LCALL   _eeprom_read
0000E0 E500       F     610             MOV     A,seg?140+01H
0000E2 2500       F     611             ADD     A,j?141+01H
0000E4 F582             612             MOV     DPL,A
0000E6 E500       F     613             MOV     A,seg?140
0000E8 3500       F     614             ADDC    A,j?141
0000EA F583             615             MOV     DPH,A
0000EC EF               616             MOV     A,R7
0000ED F0               617             MOVX    @DPTR,A
                        618     ;                               }
                        619                             ; SOURCE LINE # 159
0000EE 0500       F     620             INC     j?141+01H
0000F0 E500       F     621             MOV     A,j?141+01H
0000F2 7002             622             JNZ     ?C0026
0000F4 0500       F     623             INC     j?141
0000F6                  624     ?C0026:
0000F6 C3               625             CLR     C
0000F7 E500       F     626             MOV     A,j?141
0000F9 9401             627             SUBB    A,#01H
0000FB 40D2             628             JC      ?C0018
0000FD                  629     ?C0019:
                        630     ;                               
                        631     ;                               //update page table to connect this physical address id 
                               with virtual address id 
                        632     ;                               ECO_PAGE_TABLE[i] = ECO_PAGE_ADDR >> 8;
                        633                             ; SOURCE LINE # 162
0000FD E500       F     634             MOV     A,ECO_PAGE_ADDR
0000FF FF               635             MOV     R7,A
000100 AE00       F     636             MOV     R6,i?142+01H
000102 7400       F     637             MOV     A,#LOW (ECO_PAGE_TABLE)
000104 2E               638             ADD     A,R6
000105 F8               639             MOV     R0,A
000106 A607             640             MOV     @R0,AR7
                        641     ; 
                        642     ;                               //store physical address id
                        643     ;                               ECO_PAGE_PREV_PID = ECO_PAGE_TABLE[i];
                        644                             ; SOURCE LINE # 165
000108 7400       F     645             MOV     A,#LOW (ECO_PAGE_TABLE)
00010A 2E               646             ADD     A,R6
00010B F8               647             MOV     R0,A
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/13/09 19:32:12 PAGE    11

00010C E6               648             MOV     A,@R0
00010D F500       F     649             MOV     ECO_PAGE_PREV_PID,A
                        650     ; 
                        651     ;                               //update page address e.g.  (page_id<<8) + page_offset
                        652     ;                               ECO_PAGE_ADDR = ((i + ECO_PAGE_ADDR_OFFSET) << 8) + (ECO
                               _PAGE_ADDR & 0x00FF);
                        653                             ; SOURCE LINE # 168
00010F E500       F     654             MOV     A,i?142+01H
000111 2406             655             ADD     A,#06H
000113 FF               656             MOV     R7,A
000114 EF               657             MOV     A,R7
000115 FE               658             MOV     R6,A
000116 7C00             659             MOV     R4,#00H
000118 E4               660             CLR     A
000119 2500       F     661             ADD     A,ECO_PAGE_ADDR+01H
00011B F500       F     662             MOV     ECO_PAGE_ADDR+01H,A
00011D EC               663             MOV     A,R4
00011E 3E               664             ADDC    A,R6
00011F F500       F     665             MOV     ECO_PAGE_ADDR,A
                        666     ; 
                        667     ;                               //store virtual address id 
                        668     ;                               ECO_PAGE_PREV_VID = ECO_PAGE_ADDR >> 8; 
                        669                             ; SOURCE LINE # 171
000121 F500       F     670             MOV     ECO_PAGE_PREV_VID,A
                        671     ; 
                        672     ;                               //mov to the next index
                        673     ;                               ECO_PAGE_TABLE_INDEX = i;
                        674                             ; SOURCE LINE # 174
000123 850000     F     675             MOV     ECO_PAGE_TABLE_INDEX,i?142
000126 850000     F     676             MOV     ECO_PAGE_TABLE_INDEX+01H,i?142+01H
                        677     ; 
                        678     ;                               //jump  to function address
                        679     ;                               #pragma asm
                        680     ;                               //eco_page_function_call
                        681               
                        682     ;                               //MOV     DPH,ECO_PAGE_ADDR
                        683               
                        684     ;                               //MOV     DPL,ECO_PAGE_ADDR+01H
                        685               
                        686     ;                               //LCALL        ?C?ICALL2               
                        687               
000129 22               688             RET     
                        689     ;                               #pragma endasm
                        690     ;                               
                        691     ;                               return ;
                        692     ;                               
                        693     ;                       }
                        694                             ; SOURCE LINE # 186
                        695     ;               }
                        696                             ; SOURCE LINE # 187
00012A                  697     ?C0015:
00012A E500       F     698             MOV     A,i?142+01H
00012C 2401             699             ADD     A,#01H
00012E FF               700             MOV     R7,A
00012F E4               701             CLR     A
000130 3500       F     702             ADDC    A,i?142
000132 FE               703             MOV     R6,A
000133 7C00             704             MOV     R4,#00H
000135 7D0A             705             MOV     R5,#0AH
000137 120000     E     706             LCALL   ?C?UIDIV
00013A 8C00       F     707             MOV     i?142,R4
00013C 8D00       F     708             MOV     i?142+01H,R5
00013E 020000     F     709             LJMP    ?C0013
                        710     ; END OF eco_page_manager
                        711     
                        712             END
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/13/09 19:32:12 PAGE    12

SYMBOL TABLE LISTING
------ ----- -------


N A M E                                    T Y P E  V A L U E     ATTRIBUTES

?C0002. . . . . . . . . . . . . . . . .    C  ADDR  0021H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0004. . . . . . . . . . . . . . . . .    C  ADDR  0026H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0005. . . . . . . . . . . . . . . . .    C  ADDR  0056H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0006. . . . . . . . . . . . . . . . .    C  ADDR  0048H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0008. . . . . . . . . . . . . . . . .    C  ADDR  0079H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0010. . . . . . . . . . . . . . . . .    C  ADDR  007EH     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0011. . . . . . . . . . . . . . . . .    C  ADDR  0099H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0013. . . . . . . . . . . . . . . . .    C  ADDR  00ABH     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0015. . . . . . . . . . . . . . . . .    C  ADDR  012AH     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0016. . . . . . . . . . . . . . . . .    C  ADDR  00B9H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0018. . . . . . . . . . . . . . . . .    C  ADDR  00CFH     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0019. . . . . . . . . . . . . . . . .    C  ADDR  00FDH     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0023. . . . . . . . . . . . . . . . .    C  ADDR  0050H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0024. . . . . . . . . . . . . . . . .    C  ADDR  005EH     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0025. . . . . . . . . . . . . . . . .    C  ADDR  0090H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0026. . . . . . . . . . . . . . . . .    C  ADDR  00F6H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C?UIDIV. . . . . . . . . . . . . . . .    C  ADDR  -------       EXT
?DT?ECO_PAGE. . . . . . . . . . . . . .    D  SEG   000011H       REL=UNIT, ALN=BYTE
?DT?ECO_PAGE_MANAGER?ECO_PAGE . . . . .    D  SEG   000008H       REL=UNIT, ALN=BYTE
?ECO_PAGE_MANAGER?BYTE. . . . . . . . .    D  ADDR  0000H     R   SEG=?DT?ECO_PAGE_MANAGER?ECO_PAGE
?ID?ECO_PAGE. . . . . . . . . . . . . .    I  SEG   000007H       REL=UNIT, ALN=BYTE
?PR?ECO_PAGE_INIT?ECO_PAGE. . . . . . .    C  SEG   000028H       REL=UNIT, ALN=BYTE
?PR?ECO_PAGE_MANAGER?ECO_PAGE . . . . .    C  SEG   000141H       REL=UNIT, ALN=BYTE
_EEPROM_READ. . . . . . . . . . . . . .    C  ADDR  -------       EXT
_MDELAY . . . . . . . . . . . . . . . .    C  ADDR  -------       EXT
AC. . . . . . . . . . . . . . . . . . .    B  ADDR  00D0H.6   A   
ACC . . . . . . . . . . . . . . . . . .    D  ADDR  00E0H     A   
ADCCON. . . . . . . . . . . . . . . . .    D  ADDR  00A1H     A   
ADCDATAH. . . . . . . . . . . . . . . .    D  ADDR  00A2H     A   
ADCDATAL. . . . . . . . . . . . . . . .    D  ADDR  00A3H     A   
ADCSTATIC . . . . . . . . . . . . . . .    D  ADDR  00A4H     A   
AR3 . . . . . . . . . . . . . . . . . .    D  ADDR  0003H     A   
AR7 . . . . . . . . . . . . . . . . . .    D  ADDR  0007H     A   
B . . . . . . . . . . . . . . . . . . .    D  ADDR  00F0H     A   
C_T2. . . . . . . . . . . . . . . . . .    B  ADDR  00C8H.1   A   
CE. . . . . . . . . . . . . . . . . . .    B  ADDR  00A0H.6   A   
CK_CTRL . . . . . . . . . . . . . . . .    D  ADDR  00B6H     A   
CKCON . . . . . . . . . . . . . . . . .    D  ADDR  008EH     A   
CLK1. . . . . . . . . . . . . . . . . .    B  ADDR  00A0H.1   A   
CLK2. . . . . . . . . . . . . . . . . .    B  ADDR  00A0H.5   A   
CP_RL2. . . . . . . . . . . . . . . . .    B  ADDR  00C8H.0   A   
CPRL2 . . . . . . . . . . . . . . . . .    B  ADDR  00C8H.0   A   
CS. . . . . . . . . . . . . . . . . . .    B  ADDR  00A0H.3   A   
CT2 . . . . . . . . . . . . . . . . . .    B  ADDR  00C8H.1   A   
CY. . . . . . . . . . . . . . . . . . .    B  ADDR  00D0H.7   A   
DATA? . . . . . . . . . . . . . . . . .    B  ADDR  00A0H.0   A   
DEV_OFFSET. . . . . . . . . . . . . . .    D  ADDR  00BEH     A   
DIN0. . . . . . . . . . . . . . . . . .    B  ADDR  0090H.2   A   
DIO0. . . . . . . . . . . . . . . . . .    B  ADDR  0090H.0   A   
DIO1. . . . . . . . . . . . . . . . . .    B  ADDR  0090H.1   A   
DIO2. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.0   A   
DIO3. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.1   A   
DIO4. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.2   A   
DIO5. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.3   A   
DIO6. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.4   A   
DIO7. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.5   A   
DIO8. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.6   A   
DIO9. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.7   A   
DOUT2 . . . . . . . . . . . . . . . . .    B  ADDR  00A0H.4   A   
DPH . . . . . . . . . . . . . . . . . .    D  ADDR  0083H     A   
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/13/09 19:32:12 PAGE    13

DPH0. . . . . . . . . . . . . . . . . .    D  ADDR  0083H     A   
DPH1. . . . . . . . . . . . . . . . . .    D  ADDR  0085H     A   
DPL . . . . . . . . . . . . . . . . . .    D  ADDR  0082H     A   
DPL0. . . . . . . . . . . . . . . . . .    D  ADDR  0082H     A   
DPL1. . . . . . . . . . . . . . . . . .    D  ADDR  0084H     A   
DPS . . . . . . . . . . . . . . . . . .    D  ADDR  0086H     A   
DR1 . . . . . . . . . . . . . . . . . .    B  ADDR  00A0H.2   A   
DR2 . . . . . . . . . . . . . . . . . .    B  ADDR  00A0H.6   A   
DR2_CE. . . . . . . . . . . . . . . . .    B  ADDR  00A0H.6   A   
EA. . . . . . . . . . . . . . . . . . .    B  ADDR  00A8H.7   A   
ECO_PAGE. . . . . . . . . . . . . . . .    -- ----  -------       
ECO_PAGE_ADDR . . . . . . . . . . . . .    D  ADDR  000DH     R   SEG=?DT?ECO_PAGE
ECO_PAGE_INIT . . . . . . . . . . . . .    C  ADDR  0000H     R   SEG=?PR?ECO_PAGE_INIT?ECO_PAGE
ECO_PAGE_MANAGER. . . . . . . . . . . .    C  ADDR  0000H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
ECO_PAGE_PREV_PID . . . . . . . . . . .    D  ADDR  000AH     R   SEG=?DT?ECO_PAGE
ECO_PAGE_PREV_VID . . . . . . . . . . .    D  ADDR  000CH     R   SEG=?DT?ECO_PAGE
ECO_PAGE_REGISTER1. . . . . . . . . . .    I  ADDR  0000H     R   SEG=?ID?ECO_PAGE
ECO_PAGE_REGISTER2. . . . . . . . . . .    I  ADDR  0001H     R   SEG=?ID?ECO_PAGE
ECO_PAGE_REGISTER3. . . . . . . . . . .    I  ADDR  0002H     R   SEG=?ID?ECO_PAGE
ECO_PAGE_REGISTER4. . . . . . . . . . .    I  ADDR  0003H     R   SEG=?ID?ECO_PAGE
ECO_PAGE_REGISTER5. . . . . . . . . . .    I  ADDR  0004H     R   SEG=?ID?ECO_PAGE
ECO_PAGE_REGISTER6. . . . . . . . . . .    I  ADDR  0005H     R   SEG=?ID?ECO_PAGE
ECO_PAGE_REGISTER7. . . . . . . . . . .    I  ADDR  0006H     R   SEG=?ID?ECO_PAGE
ECO_PAGE_SPI_CONN . . . . . . . . . . .    D  ADDR  000BH     R   SEG=?DT?ECO_PAGE
ECO_PAGE_TABLE. . . . . . . . . . . . .    D  ADDR  0000H     R   SEG=?DT?ECO_PAGE
ECO_PAGE_TABLE_INDEX. . . . . . . . . .    D  ADDR  000FH     R   SEG=?DT?ECO_PAGE
EEPROM_INIT . . . . . . . . . . . . . .    C  ADDR  -------       EXT
EICON . . . . . . . . . . . . . . . . .    D  ADDR  00D8H     A   
EIE . . . . . . . . . . . . . . . . . .    D  ADDR  00E8H     A   
EIP . . . . . . . . . . . . . . . . . .    D  ADDR  00F8H     A   
ES. . . . . . . . . . . . . . . . . . .    B  ADDR  00A8H.4   A   
ET0 . . . . . . . . . . . . . . . . . .    B  ADDR  00A8H.1   A   
ET1 . . . . . . . . . . . . . . . . . .    B  ADDR  00A8H.3   A   
ET2 . . . . . . . . . . . . . . . . . .    B  ADDR  00A8H.5   A   
EWDI. . . . . . . . . . . . . . . . . .    B  ADDR  00E8H.4   A   
EX0 . . . . . . . . . . . . . . . . . .    B  ADDR  00A8H.0   A   
EX1 . . . . . . . . . . . . . . . . . .    B  ADDR  00A8H.2   A   
EX2 . . . . . . . . . . . . . . . . . .    B  ADDR  00E8H.0   A   
EX3 . . . . . . . . . . . . . . . . . .    B  ADDR  00E8H.1   A   
EX4 . . . . . . . . . . . . . . . . . .    B  ADDR  00E8H.2   A   
EX5 . . . . . . . . . . . . . . . . . .    B  ADDR  00E8H.3   A   
EXEN2 . . . . . . . . . . . . . . . . .    B  ADDR  00C8H.3   A   
EXF2. . . . . . . . . . . . . . . . . .    B  ADDR  00C8H.6   A   
EXIF. . . . . . . . . . . . . . . . . .    D  ADDR  0091H     A   
F0. . . . . . . . . . . . . . . . . . .    B  ADDR  00D0H.5   A   
F1. . . . . . . . . . . . . . . . . . .    B  ADDR  00D0H.1   A   
I?142 . . . . . . . . . . . . . . . . .    D  ADDR  0000H     R   SEG=?DT?ECO_PAGE_MANAGER?ECO_PAGE
IE. . . . . . . . . . . . . . . . . . .    D  ADDR  00A8H     A   
IE0 . . . . . . . . . . . . . . . . . .    B  ADDR  0088H.1   A   
IE1 . . . . . . . . . . . . . . . . . .    B  ADDR  0088H.3   A   
INT0_N. . . . . . . . . . . . . . . . .    B  ADDR  0080H.3   A   
INT1_N. . . . . . . . . . . . . . . . .    B  ADDR  0080H.4   A   
IP. . . . . . . . . . . . . . . . . . .    D  ADDR  00B8H     A   
IT0 . . . . . . . . . . . . . . . . . .    B  ADDR  0088H.0   A   
IT1 . . . . . . . . . . . . . . . . . .    B  ADDR  0088H.2   A   
J?141 . . . . . . . . . . . . . . . . .    D  ADDR  0006H     R   SEG=?DT?ECO_PAGE_MANAGER?ECO_PAGE
MPAGE . . . . . . . . . . . . . . . . .    D  ADDR  0092H     A   
OV. . . . . . . . . . . . . . . . . . .    B  ADDR  00D0H.2   A   
P . . . . . . . . . . . . . . . . . . .    B  ADDR  00D0H.0   A   
P0. . . . . . . . . . . . . . . . . . .    D  ADDR  0080H     A   
P0_0. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.0   A   
P0_1. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.1   A   
P0_2. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.2   A   
P0_3. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.3   A   
P0_4. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.4   A   
P0_5. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.5   A   
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/13/09 19:32:12 PAGE    14

P0_6. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.6   A   
P0_7. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.7   A   
P0_ALT. . . . . . . . . . . . . . . . .    D  ADDR  0095H     A   
P0_DIR. . . . . . . . . . . . . . . . .    D  ADDR  0094H     A   
P1. . . . . . . . . . . . . . . . . . .    D  ADDR  0090H     A   
P1_0. . . . . . . . . . . . . . . . . .    B  ADDR  0090H.0   A   
P1_1. . . . . . . . . . . . . . . . . .    B  ADDR  0090H.1   A   
P1_2. . . . . . . . . . . . . . . . . .    B  ADDR  0090H.2   A   
P1_ALT. . . . . . . . . . . . . . . . .    D  ADDR  0097H     A   
P1_DIR. . . . . . . . . . . . . . . . .    D  ADDR  0096H     A   
PAGE_INDEX?143. . . . . . . . . . . . .    D  ADDR  0002H     R   SEG=?DT?ECO_PAGE_MANAGER?ECO_PAGE
PCON. . . . . . . . . . . . . . . . . .    D  ADDR  0087H     A   
PS. . . . . . . . . . . . . . . . . . .    B  ADDR  00B8H.4   A   
PSW . . . . . . . . . . . . . . . . . .    D  ADDR  00D0H     A   
PT0 . . . . . . . . . . . . . . . . . .    B  ADDR  00B8H.1   A   
PT1 . . . . . . . . . . . . . . . . . .    B  ADDR  00B8H.3   A   
PT2 . . . . . . . . . . . . . . . . . .    B  ADDR  00B8H.5   A   
PWDI. . . . . . . . . . . . . . . . . .    B  ADDR  00F8H.4   A   
PWM . . . . . . . . . . . . . . . . . .    B  ADDR  0080H.7   A   
PWMCON. . . . . . . . . . . . . . . . .    D  ADDR  00A9H     A   
PWMDUTY . . . . . . . . . . . . . . . .    D  ADDR  00AAH     A   
PWR_UP. . . . . . . . . . . . . . . . .    B  ADDR  00A0H.7   A   
PX0 . . . . . . . . . . . . . . . . . .    B  ADDR  00B8H.0   A   
PX1 . . . . . . . . . . . . . . . . . .    B  ADDR  00B8H.2   A   
PX2 . . . . . . . . . . . . . . . . . .    B  ADDR  00F8H.0   A   
PX3 . . . . . . . . . . . . . . . . . .    B  ADDR  00F8H.1   A   
PX4 . . . . . . . . . . . . . . . . . .    B  ADDR  00F8H.2   A   
PX5 . . . . . . . . . . . . . . . . . .    B  ADDR  00F8H.3   A   
RADIO . . . . . . . . . . . . . . . . .    D  ADDR  00A0H     A   
RB8 . . . . . . . . . . . . . . . . . .    B  ADDR  0098H.2   A   
RCAP2H. . . . . . . . . . . . . . . . .    D  ADDR  00CBH     A   
RCAP2L. . . . . . . . . . . . . . . . .    D  ADDR  00CAH     A   
RCLK. . . . . . . . . . . . . . . . . .    B  ADDR  00C8H.5   A   
REGX_CTRL . . . . . . . . . . . . . . .    D  ADDR  00ADH     A   
REGX_LSB. . . . . . . . . . . . . . . .    D  ADDR  00ACH     A   
REGX_MSB. . . . . . . . . . . . . . . .    D  ADDR  00ABH     A   
REN . . . . . . . . . . . . . . . . . .    B  ADDR  0098H.4   A   
RI. . . . . . . . . . . . . . . . . . .    B  ADDR  0098H.0   A   
RS0 . . . . . . . . . . . . . . . . . .    B  ADDR  00D0H.3   A   
RS1 . . . . . . . . . . . . . . . . . .    B  ADDR  00D0H.4   A   
RSTREAS . . . . . . . . . . . . . . . .    D  ADDR  00B1H     A   
RXD . . . . . . . . . . . . . . . . . .    B  ADDR  0080H.1   A   
SBUF. . . . . . . . . . . . . . . . . .    D  ADDR  0099H     A   
SCON. . . . . . . . . . . . . . . . . .    D  ADDR  0098H     A   
SEG?140 . . . . . . . . . . . . . . . .    D  ADDR  0004H     R   SEG=?DT?ECO_PAGE_MANAGER?ECO_PAGE
SM0 . . . . . . . . . . . . . . . . . .    B  ADDR  0098H.7   A   
SM1 . . . . . . . . . . . . . . . . . .    B  ADDR  0098H.6   A   
SM2 . . . . . . . . . . . . . . . . . .    B  ADDR  0098H.5   A   
SP. . . . . . . . . . . . . . . . . . .    D  ADDR  0081H     A   
SPC_FNC . . . . . . . . . . . . . . . .    D  ADDR  008FH     A   
SPI_CTRL. . . . . . . . . . . . . . . .    D  ADDR  00B3H     A   
SPI_DATA. . . . . . . . . . . . . . . .    D  ADDR  00B2H     A   
SPICLK. . . . . . . . . . . . . . . . .    D  ADDR  00B4H     A   
T0. . . . . . . . . . . . . . . . . . .    B  ADDR  0080H.5   A   
T1. . . . . . . . . . . . . . . . . . .    B  ADDR  0080H.6   A   
T1_1V2. . . . . . . . . . . . . . . . .    D  ADDR  00BCH     A   
T2. . . . . . . . . . . . . . . . . . .    B  ADDR  0090H.0   A   
T2_1V2. . . . . . . . . . . . . . . . .    D  ADDR  00BDH     A   
T2CON . . . . . . . . . . . . . . . . .    D  ADDR  00C8H     A   
TB8 . . . . . . . . . . . . . . . . . .    B  ADDR  0098H.3   A   
TCLK. . . . . . . . . . . . . . . . . .    B  ADDR  00C8H.4   A   
TCON. . . . . . . . . . . . . . . . . .    D  ADDR  0088H     A   
TEST_MODE . . . . . . . . . . . . . . .    D  ADDR  00B7H     A   
TF0 . . . . . . . . . . . . . . . . . .    B  ADDR  0088H.5   A   
TF1 . . . . . . . . . . . . . . . . . .    B  ADDR  0088H.7   A   
TF2 . . . . . . . . . . . . . . . . . .    B  ADDR  00C8H.7   A   
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/13/09 19:32:12 PAGE    15

TH0 . . . . . . . . . . . . . . . . . .    D  ADDR  008CH     A   
TH1 . . . . . . . . . . . . . . . . . .    D  ADDR  008DH     A   
TH2 . . . . . . . . . . . . . . . . . .    D  ADDR  00CDH     A   
TI. . . . . . . . . . . . . . . . . . .    B  ADDR  0098H.1   A   
TICK_DV . . . . . . . . . . . . . . . .    D  ADDR  00B5H     A   
TL0 . . . . . . . . . . . . . . . . . .    D  ADDR  008AH     A   
TL1 . . . . . . . . . . . . . . . . . .    D  ADDR  008BH     A   
TL2 . . . . . . . . . . . . . . . . . .    D  ADDR  00CCH     A   
TMOD. . . . . . . . . . . . . . . . . .    D  ADDR  0089H     A   
TR0 . . . . . . . . . . . . . . . . . .    B  ADDR  0088H.4   A   
TR1 . . . . . . . . . . . . . . . . . .    B  ADDR  0088H.6   A   
TR2 . . . . . . . . . . . . . . . . . .    B  ADDR  00C8H.2   A   
TXD . . . . . . . . . . . . . . . . . .    B  ADDR  0080H.2   A   
WDTI. . . . . . . . . . . . . . . . . .    B  ADDR  00D8H.3   A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S).
