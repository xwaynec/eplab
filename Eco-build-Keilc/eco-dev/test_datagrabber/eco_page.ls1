AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/29/09 14:25:55 PAGE     1


MACRO ASSEMBLER AX51 V3.06a
OBJECT MODULE PLACED IN .\eco_page.obj
ASSEMBLER INVOKED BY: C:\Keil\C51\BIN\AX51.exe .\eco_page.src EP DEBUG SYMBOLS OJ(.\eco_page.obj) PR(.\eco_page.ls1) 

LOC    OBJ             LINE     SOURCE

                          1     ; ./eco_page.src generated from: .\eco_page.c
                          2     ; COMPILER INVOKED BY:
                          3     ;        C:\Keil\C51\BIN\C51.exe .\eco_page.c BROWSE DEBUG CODE LISTINCLUDE SYMBOLS PREP
                               RINT ROM(LARGE) INCDIR(../../Include) SRC(./eco_page.src)
                          4     
                          5     $nomod51 
                          6     
                          7     NAME    ECO_PAGE
                          8     
 00A0.7                   9     PWR_UP  BIT     0A0H.7
 0080                    10     P0      DATA    080H
 0090                    11     P1      DATA    090H
 00D0.6                  12     AC      BIT     0D0H.6
 0080.5                  13     T0      BIT     080H.5
 00B3                    14     SPI_CTRL        DATA    0B3H
 0080.6                  15     T1      BIT     080H.6
 00A8.7                  16     EA      BIT     0A8H.7
 0090.0                  17     T2      BIT     090H.0
 00A0.6                  18     CE      BIT     0A0H.6
 00BE                    19     DEV_OFFSET      DATA    0BEH
 00A0.1                  20     CLK1    BIT     0A0H.1
 0090.2                  21     DIN0    BIT     090H.2
 00A0.5                  22     CLK2    BIT     0A0H.5
 0090.0                  23     DIO0    BIT     090H.0
 0083                    24     DPH0    DATA    083H
 0090.1                  25     DIO1    BIT     090H.1
 00A8                    26     IE      DATA    0A8H
 0085                    27     DPH1    DATA    085H
 0080.0                  28     DIO2    BIT     080H.0
 0080.1                  29     DIO3    BIT     080H.1
 0080.0                  30     P0_0    BIT     080H.0
 0090.0                  31     P1_0    BIT     090H.0
 0080.2                  32     DIO4    BIT     080H.2
 0080.1                  33     P0_1    BIT     080H.1
 0082                    34     DPL0    DATA    082H
 0090.1                  35     P1_1    BIT     090H.1
 0080.3                  36     DIO5    BIT     080H.3
 0080.2                  37     P0_2    BIT     080H.2
 0084                    38     DPL1    DATA    084H
 0090.2                  39     P1_2    BIT     090H.2
 0080.4                  40     DIO6    BIT     080H.4
 0080.3                  41     P0_3    BIT     080H.3
 0080.5                  42     DIO7    BIT     080H.5
 0080.4                  43     P0_4    BIT     080H.4
 00A4                    44     ADCSTATIC       DATA    0A4H
 0080.6                  45     DIO8    BIT     080H.6
 0080.5                  46     P0_5    BIT     080H.5
 00C8.6                  47     EXF2    BIT     0C8H.6
 00A0.3                  48     CS      BIT     0A0H.3
 0080.7                  49     DIO9    BIT     080H.7
 0080.6                  50     P0_6    BIT     080H.6
 0080.7                  51     P0_7    BIT     080H.7
 00A8.4                  52     ES      BIT     0A8H.4
 00B8                    53     IP      DATA    0B8H
 00A0.0                  54     DATA?   BIT     0A0H.0
 0098.0                  55     RI      BIT     098H.0
 00D0.7                  56     CY      BIT     0D0H.7
 0098.1                  57     TI      BIT     098H.1
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/29/09 14:25:55 PAGE     2

 00BC                    58     T1_1V2  DATA    0BCH
 008F                    59     SPC_FNC DATA    08FH
 00BD                    60     T2_1V2  DATA    0BDH
 00CB                    61     RCAP2H  DATA    0CBH
 00B8.4                  62     PS      BIT     0B8H.4
 0081                    63     SP      DATA    081H
 00D0.2                  64     OV      BIT     0D0H.2
 00B6                    65     CK_CTRL DATA    0B6H
 00CA                    66     RCAP2L  DATA    0CAH
 00B5                    67     TICK_DV DATA    0B5H
 00B1                    68     RSTREAS DATA    0B1H
 00C8.1                  69     C_T2    BIT     0C8H.1
 00E8.4                  70     EWDI    BIT     0E8H.4
 00A1                    71     ADCCON  DATA    0A1H
 00C8.5                  72     RCLK    BIT     0C8H.5
 00A2                    73     ADCDATAH        DATA    0A2H
 0091                    74     EXIF    DATA    091H
 00C8.4                  75     TCLK    BIT     0C8H.4
 00A0.6                  76     DR2_CE  BIT     0A0H.6
 00A3                    77     ADCDATAL        DATA    0A3H
 0099                    78     SBUF    DATA    099H
 0087                    79     PCON    DATA    087H
 0098                    80     SCON    DATA    098H
 00F8.4                  81     PWDI    BIT     0F8H.4
 0089                    82     TMOD    DATA    089H
 0088                    83     TCON    DATA    088H
 00D8.3                  84     WDTI    BIT     0D8H.3
 00AA                    85     PWMDUTY DATA    0AAH
 0088.1                  86     IE0     BIT     088H.1
 0088.3                  87     IE1     BIT     088H.3
 0094                    88     P0_DIR  DATA    094H
 00F0                    89     B       DATA    0F0H
 0096                    90     P1_DIR  DATA    096H
 0095                    91     P0_ALT  DATA    095H
 0097                    92     P1_ALT  DATA    097H
 00C8.0                  93     CP_RL2  BIT     0C8H.0
 00A0.2                  94     DR1     BIT     0A0H.2
 00E0                    95     ACC     DATA    0E0H
 00A0.6                  96     DR2     BIT     0A0H.6
 00B7                    97     TEST_MODE       DATA    0B7H
 00B4                    98     SPICLK  DATA    0B4H
 00C8.1                  99     CT2     BIT     0C8H.1
 00A8.1                 100     ET0     BIT     0A8H.1
 00A8.3                 101     ET1     BIT     0A8H.3
 0088.5                 102     TF0     BIT     088H.5
 0080.3                 103     INT0_N  BIT     080H.3
 00A8.5                 104     ET2     BIT     0A8H.5
 0088.7                 105     TF1     BIT     088H.7
 0080.4                 106     INT1_N  BIT     080H.4
 00C8.7                 107     TF2     BIT     0C8H.7
 0098.2                 108     RB8     BIT     098H.2
 008C                   109     TH0     DATA    08CH
 00A8.0                 110     EX0     BIT     0A8H.0
 0088.0                 111     IT0     BIT     088H.0
 008D                   112     TH1     DATA    08DH
 00A8.2                 113     EX1     BIT     0A8H.2
 0098.3                 114     TB8     BIT     098H.3
 0088.2                 115     IT1     BIT     088H.2
 00CD                   116     TH2     DATA    0CDH
 00AD                   117     REGX_CTRL       DATA    0ADH
 00E8.0                 118     EX2     BIT     0E8H.0
 00D0.0                 119     P       BIT     0D0H.0
 00E8.1                 120     EX3     BIT     0E8H.1
 0098.7                 121     SM0     BIT     098H.7
 008A                   122     TL0     DATA    08AH
 00E8.2                 123     EX4     BIT     0E8H.2
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/29/09 14:25:55 PAGE     3

 0098.6                 124     SM1     BIT     098H.6
 008B                   125     TL1     DATA    08BH
 00E8.3                 126     EX5     BIT     0E8H.3
 0098.5                 127     SM2     BIT     098H.5
 00CC                   128     TL2     DATA    0CCH
 00E8                   129     EIE     DATA    0E8H
 00B8.1                 130     PT0     BIT     0B8H.1
 00D0.3                 131     RS0     BIT     0D0H.3
 00B8.3                 132     PT1     BIT     0B8H.3
 00D0.4                 133     RS1     BIT     0D0H.4
 00B8.5                 134     PT2     BIT     0B8H.5
 0088.4                 135     TR0     BIT     088H.4
 00A9                   136     PWMCON  DATA    0A9H
 0088.6                 137     TR1     BIT     088H.6
 00C8.2                 138     TR2     BIT     0C8H.2
 00B8.0                 139     PX0     BIT     0B8H.0
 00B8.2                 140     PX1     BIT     0B8H.2
 00F8.0                 141     PX2     BIT     0F8H.0
 00F8.1                 142     PX3     BIT     0F8H.1
 00F8.2                 143     PX4     BIT     0F8H.2
 0083                   144     DPH     DATA    083H
 00F8.3                 145     PX5     BIT     0F8H.3
 00F8                   146     EIP     DATA    0F8H
 0082                   147     DPL     DATA    082H
 00C8.3                 148     EXEN2   BIT     0C8H.3
 00C8.0                 149     CPRL2   BIT     0C8H.0
 0098.4                 150     REN     BIT     098H.4
 00C8                   151     T2CON   DATA    0C8H
 0086                   152     DPS     DATA    086H
 00B2                   153     SPI_DATA        DATA    0B2H
 0092                   154     MPAGE   DATA    092H
 0080.1                 155     RXD     BIT     080H.1
 00A0.4                 156     DOUT2   BIT     0A0H.4
 00D8                   157     EICON   DATA    0D8H
 008E                   158     CKCON   DATA    08EH
 0080.2                 159     TXD     BIT     080H.2
 00A0                   160     RADIO   DATA    0A0H
 0080.7                 161     PWM     BIT     080H.7
 00D0.5                 162     F0      BIT     0D0H.5
 00D0.1                 163     F1      BIT     0D0H.1
 00AC                   164     REGX_LSB        DATA    0ACH
 00D0                   165     PSW     DATA    0D0H
 00AB                   166     REGX_MSB        DATA    0ABH
------                  167     ?PR?eco_page_init?ECO_PAGE               SEGMENT CODE 
------                  168     ?PR?eco_page_manager?ECO_PAGE            SEGMENT CODE 
------                  169     ?DT?eco_page_manager?ECO_PAGE            SEGMENT DATA OVERLAYABLE 
------                  170     ?ID?ECO_PAGE         SEGMENT IDATA 
------                  171     ?DT?ECO_PAGE         SEGMENT DATA 
                        172             EXTRN   CODE (_eeprom_read)
                        173             EXTRN   CODE (?C?ICALL2)
                        174             EXTRN   CODE (eeprom_init)
                        175             PUBLIC  ECO_PAGE_TABLE_INDEX
                        176             PUBLIC  ECO_PAGE_REGISTER7
                        177             PUBLIC  ECO_PAGE_REGISTER6
                        178             PUBLIC  ECO_PAGE_REGISTER5
                        179             PUBLIC  ECO_PAGE_REGISTER4
                        180             PUBLIC  ECO_PAGE_ADDR
                        181             PUBLIC  ECO_PAGE_REGISTER3
                        182             PUBLIC  ECO_PAGE_REGISTER2
                        183             PUBLIC  ECO_PAGE_REGISTER1
                        184             PUBLIC  ECO_PAGE_PREV_VID
                        185             PUBLIC  ECO_PAGE_PREV_PID
                        186             PUBLIC  ECO_PAGE_SPI_CONN
                        187             PUBLIC  ECO_PAGE_TABLE
                        188             PUBLIC  eco_page_manager
                        189             PUBLIC  eco_page_init
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/29/09 14:25:55 PAGE     4

                        190     
------                  191             RSEG  ?DT?eco_page_manager?ECO_PAGE
000000                  192     ?eco_page_manager?BYTE:
000004                  193             ORG  4
000004                  194             seg?140:   DS   2
000006                  195             ORG  6
000006                  196               j?141:   DS   2
000000                  197             ORG  0
000000                  198               i?142:   DS   2
000002                  199             ORG  2
000002                  200      page_index?143:   DS   2
                        201     
------                  202             RSEG  ?ID?ECO_PAGE
000000                  203      ECO_PAGE_TABLE:   DS   32
000020                  204     ECO_PAGE_REGISTER1:   DS   1
000021                  205     ECO_PAGE_REGISTER2:   DS   1
000022                  206     ECO_PAGE_REGISTER3:   DS   1
000023                  207     ECO_PAGE_REGISTER4:   DS   1
000024                  208     ECO_PAGE_REGISTER5:   DS   1
000025                  209     ECO_PAGE_REGISTER6:   DS   1
000026                  210     ECO_PAGE_REGISTER7:   DS   1
                        211     
------                  212             RSEG  ?DT?ECO_PAGE
000000                  213     ECO_PAGE_SPI_CONN:   DS   1
000001                  214     ECO_PAGE_PREV_PID:   DS   2
000003                  215     ECO_PAGE_PREV_VID:   DS   2
000005                  216       ECO_PAGE_ADDR:   DS   2
000007                  217     ECO_PAGE_TABLE_INDEX:   DS   1
                        218     ; /*
                        219     ;  * Author(s): Wei-Han Chen (Embedded Platform Lab, NTHU)
                        220     ;  * Copyright (c) 2009 National Tsing Hua University (NTHU) 
                        221     ;  * Permission to copy, modify, and distribute this program is granted 
                        222     ;  * for noncommercial purposes, provided the author(s) and copyright
                        223     ;  * notice are retained. All other uses require explicit written
                        224     ;  * permission from NTHU. 
                        225     ;  *
                        226     ;  * Eco Paging Library 
                        227     ;  *
                        228     ;  * Wei-Han Chen <xwaynec@gmail.com> 
                        229     ;  * 2009/2/13
                        230     ;  */
                        231     ; 
                        232     ; #include "eco_page.h"
                        233     ; #include "eeprom/eeprom.h"
                        234     ; 
                        235     ; //control page replacement policy is LRU or Round-Robin
                        236     ; #define PAGE_REPLACEMENT 0
                        237     ; 
                        238     ; //#define ECO_PAGE_SIZE 256
                        239     ; //#define ECO_PAGE_ADDR_OFFSET 11 
                        240     ; 
                        241     ; 
                        242     ; //#define ECO_PAGE_SIZE 128
                        243     ; //#define ECO_PAGE_ADDR_OFFSET 23
                        244     ; 
                        245     ; 
                        246     ; 
                        247     ; #define ECO_PAGE_SIZE 64
                        248     ; #define ECO_PAGE_ADDR_OFFSET 47
                        249     ; 
                        250     ; 
                        251     ; 
                        252     ; 
                        253     ; #if ECO_PAGE_SIZE == 64
                        254     ;       
                        255     ;       #define ECO_PAGE_ENTRY  (63-ECO_PAGE_ADDR_OFFSET)
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/29/09 14:25:55 PAGE     5

                        256     ;       #define ECO_PAGE_SHIFT  6
                        257     ;       #define ECO_PAGE_MASK   0x003F
                        258     ;       #define ECO_PAGE_MOV_MASK       0xFFC0
                        259     ; 
                        260     ;       unsigned int idata ECO_PAGE_TABLE[ECO_PAGE_ENTRY];
                        261     ;       //Eco page virtual address id
                        262     ;       unsigned int ECO_PAGE_PREV_VID;
                        263     ;       //Eco page physical address id 
                        264     ;       unsigned int ECO_PAGE_PREV_PID;
                        265     ; 
                        266     ; #elif ECO_PAGE_SIZE == 128
                        267     ;       
                        268     ;       #define ECO_PAGE_ENTRY (31-ECO_PAGE_ADDR_OFFSET)
                        269     ;       #define ECO_PAGE_SHIFT  7
                        270     ;       #define ECO_PAGE_MASK   0x007F
                        271     ;       #define ECO_PAGE_MOV_MASK       0xFF80
                        272     ; 
                        273     ;       unsigned int idata ECO_PAGE_TABLE[ECO_PAGE_ENTRY];
                        274     ;       //Eco page virtual address id
                        275     ;       unsigned int ECO_PAGE_PREV_VID;
                        276     ;       //Eco page physical address id 
                        277     ;       unsigned int ECO_PAGE_PREV_PID;
                        278     ; 
                        279     ; #elif ECO_PAGE_SIZE == 256
                        280     ;       
                        281     ;       #define ECO_PAGE_ENTRY  (15-ECO_PAGE_ADDR_OFFSET)
                        282     ;       #define ECO_PAGE_SHIFT  8       
                        283     ;       #define ECO_PAGE_MASK   0x00FF
                        284     ;       #define ECO_PAGE_MOV_MASK       0xFF00
                        285     ; 
                        286     ;       unsigned int ECO_PAGE_TABLE[ECO_PAGE_ENTRY];
                        287     ;       //Eco page virtual address id
                        288     ;       unsigned char ECO_PAGE_PREV_VID;
                        289     ;       //Eco page physical address id 
                        290     ;       unsigned char ECO_PAGE_PREV_PID;
                        291     ; 
                        292     ; #endif
                        293     ; 
                        294     ; unsigned char ECO_PAGE_TABLE_INDEX;
                        295     ; unsigned int ECO_PAGE_ADDR;
                        296     ; unsigned char ECO_PAGE_SPI_CONN;
                        297     ; 
                        298     ; unsigned char idata ECO_PAGE_REGISTER1;
                        299     ; unsigned char idata ECO_PAGE_REGISTER2;
                        300     ; unsigned char idata ECO_PAGE_REGISTER3;
                        301     ; unsigned char idata ECO_PAGE_REGISTER4;
                        302     ; unsigned char idata ECO_PAGE_REGISTER5;
                        303     ; unsigned char idata ECO_PAGE_REGISTER6;
                        304     ; unsigned char idata ECO_PAGE_REGISTER7;
                        305     ; 
                        306     ; 
                        307     ; void eco_page_init()
                        308     
------                  309             RSEG  ?PR?eco_page_init?ECO_PAGE
000000                  310     eco_page_init:
                        311                             ; SOURCE LINE # 90
                        312     ; {
                        313                             ; SOURCE LINE # 91
                        314     ;       //ECO_PAGE_TABLE_INDEX = ECO_PAGE_ENTRY - 1;
                        315     ;       ECO_PAGE_TABLE_INDEX = 0;       
                        316                             ; SOURCE LINE # 93
000000 E4               317             CLR     A
000001 F500       F     318             MOV     ECO_PAGE_TABLE_INDEX,A
                        319     ;       ECO_PAGE_ADDR = 0;
                        320                             ; SOURCE LINE # 94
000003 F500       F     321             MOV     ECO_PAGE_ADDR,A
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/29/09 14:25:55 PAGE     6

000005 F500       F     322             MOV     ECO_PAGE_ADDR+01H,A
                        323     ;       ECO_PAGE_PREV_VID = 0;
                        324                             ; SOURCE LINE # 95
000007 F500       F     325             MOV     ECO_PAGE_PREV_VID,A
000009 F500       F     326             MOV     ECO_PAGE_PREV_VID+01H,A
                        327     ;       ECO_PAGE_PREV_PID = 0;
                        328                             ; SOURCE LINE # 96
00000B F500       F     329             MOV     ECO_PAGE_PREV_PID,A
00000D F500       F     330             MOV     ECO_PAGE_PREV_PID+01H,A
                        331     ; 
                        332     ; }
                        333                             ; SOURCE LINE # 98
00000F 22               334             RET     
                        335     ; END OF eco_page_init
                        336     
                        337     ; 
                        338     ; 
                        339     ; #if PAGE_REPLACEMENT == 0 
                        340     ; //LRU page replacement
                        341     ; void eco_page_manager()
                        342     
------                  343             RSEG  ?PR?eco_page_manager?ECO_PAGE
000000                  344     eco_page_manager:
                        345             USING   0
                        346                             ; SOURCE LINE # 103
                        347     ; {
                        348                             ; SOURCE LINE # 104
                        349     ;       unsigned int i;
                        350     ;       unsigned int page_index = -1;
                        351                             ; SOURCE LINE # 106
000000 74FF             352             MOV     A,#0FFH
000002 F500       F     353             MOV     page_index?143,A
000004 F500       F     354             MOV     page_index?143+01H,A
                        355     ; 
                        356     ;       //if page id is the same with the last page id
                        357     ;       if((ECO_PAGE_ADDR >> ECO_PAGE_SHIFT) == ECO_PAGE_PREV_PID)
                        358                             ; SOURCE LINE # 109
000006 E500       F     359             MOV     A,ECO_PAGE_ADDR+01H
000008 AE00       F     360             MOV     R6,ECO_PAGE_ADDR
00000A 7806             361             MOV     R0,#06H
00000C                  362     ?C0018:
00000C CE               363             XCH     A,R6
00000D C3               364             CLR     C
00000E 13               365             RRC     A
00000F CE               366             XCH     A,R6
000010 13               367             RRC     A
000011 D8F9             368             DJNZ    R0,?C0018
000013 B50048           369             CJNE    A,ECO_PAGE_PREV_PID+01H,?C0002
000016 EE               370             MOV     A,R6
000017 B50044           371             CJNE    A,ECO_PAGE_PREV_PID,?C0002
                        372     ;       {
                        373                             ; SOURCE LINE # 110
                        374     ;               //virtual address id + function offset
                        375     ;               ECO_PAGE_ADDR = (ECO_PAGE_PREV_VID << ECO_PAGE_SHIFT) + (ECO_PAGE_ADDR &
                                ECO_PAGE_MASK);
                        376                             ; SOURCE LINE # 112
00001A E500       F     377             MOV     A,ECO_PAGE_PREV_VID+01H
00001C AE00       F     378             MOV     R6,ECO_PAGE_PREV_VID
00001E 7806             379             MOV     R0,#06H
000020                  380     ?C0020:
000020 C3               381             CLR     C
000021 33               382             RLC     A
000022 CE               383             XCH     A,R6
000023 33               384             RLC     A
000024 CE               385             XCH     A,R6
000025 D8F9             386             DJNZ    R0,?C0020
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/29/09 14:25:55 PAGE     7

000027 FF               387             MOV     R7,A
000028 7C00             388             MOV     R4,#00H
00002A E500       F     389             MOV     A,ECO_PAGE_ADDR+01H
00002C 543F             390             ANL     A,#03FH
00002E 2F               391             ADD     A,R7
00002F F500       F     392             MOV     ECO_PAGE_ADDR+01H,A
000031 EC               393             MOV     A,R4
000032 3E               394             ADDC    A,R6
000033 F500       F     395             MOV     ECO_PAGE_ADDR,A
                        396     ;               #pragma asm
000035 7800       F     397             MOV     R0,#LOW (ECO_PAGE_REGISTER1)
000037 E6               398             MOV     A,@R0
000038 F9               399             MOV     R1,A
000039 7800       F     400             MOV     R0,#LOW (ECO_PAGE_REGISTER2)
00003B E6               401             MOV     A,@R0
00003C FA               402             MOV     R2,A
00003D 7800       F     403             MOV     R0,#LOW (ECO_PAGE_REGISTER3)
00003F E6               404             MOV     A,@R0
000040 FB               405             MOV     R3,A
000041 7800       F     406             MOV     R0,#LOW (ECO_PAGE_REGISTER4)
000043 E6               407             MOV     A,@R0
000044 FC               408             MOV     R4,A
000045 7800       F     409             MOV     R0,#LOW (ECO_PAGE_REGISTER5)
000047 E6               410             MOV     A,@R0
000048 FD               411             MOV     R5,A
000049 7800       F     412             MOV     R0,#LOW (ECO_PAGE_REGISTER6)
00004B E6               413             MOV     A,@R0
00004C FE               414             MOV     R6,A
00004D 7800       F     415             MOV     R0,#LOW (ECO_PAGE_REGISTER7)
00004F E6               416             MOV     A,@R0
000050 FF               417             MOV     R7,A
000051 8500B3     F     418             MOV     SPI_CTRL,ECO_PAGE_SPI_CONN
000054 850083     F     419             MOV     DPH,ECO_PAGE_ADDR
000057 850082     F     420             MOV     DPL,ECO_PAGE_ADDR+01H
00005A 120000     E     421             LCALL   ?C?ICALL2
                        422     ;               //eco_page_function_call
                        423               
00005D 22               424             RET     
                        425     ;               #pragma endasm
                        426     ;               return ;
                        427     ;       }
                        428                             ; SOURCE LINE # 117
00005E                  429     ?C0002:
                        430     ; 
                        431     ;       //Check Table   
                        432     ;       for(i=0;i<ECO_PAGE_ENTRY;i++)
                        433                             ; SOURCE LINE # 120
00005E E4               434             CLR     A
00005F F500       F     435             MOV     i?142,A
000061 F500       F     436             MOV     i?142+01H,A
000063                  437     ?C0004:
                        438     ;       {   
                        439                             ; SOURCE LINE # 121
                        440     ;               if((ECO_PAGE_ADDR >> ECO_PAGE_SHIFT) == (ECO_PAGE_TABLE[i] & 0x7FFF))
                        441                             ; SOURCE LINE # 122
000063 AD00       F     442             MOV     R5,i?142+01H
000065 ED               443             MOV     A,R5
000066 25E0             444             ADD     A,ACC
000068 2400       F     445             ADD     A,#LOW (ECO_PAGE_TABLE)
00006A F8               446             MOV     R0,A
00006B E6               447             MOV     A,@R0
00006C 547F             448             ANL     A,#07FH
00006E FA               449             MOV     R2,A
00006F 08               450             INC     R0
000070 E6               451             MOV     A,@R0
000071 FB               452             MOV     R3,A
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/29/09 14:25:55 PAGE     8

000072 E500       F     453             MOV     A,ECO_PAGE_ADDR+01H
000074 AE00       F     454             MOV     R6,ECO_PAGE_ADDR
000076 7806             455             MOV     R0,#06H
000078                  456     ?C0021:
000078 CE               457             XCH     A,R6
000079 C3               458             CLR     C
00007A 13               459             RRC     A
00007B CE               460             XCH     A,R6
00007C 13               461             RRC     A
00007D D8F9             462             DJNZ    R0,?C0021
00007F B50319           463             CJNE    A,AR3,?C0006
000082 EE               464             MOV     A,R6
000083 B50215           465             CJNE    A,AR2,?C0006
                        466     ;               {
                        467                             ; SOURCE LINE # 123
                        468     ;                       page_index = i;
                        469                             ; SOURCE LINE # 124
000086 850000     F     470             MOV     page_index?143,i?142
000089 850000     F     471             MOV     page_index?143+01H,i?142+01H
                        472     ; 
                        473     ;                       //set LRU bit is 1
                        474     ;                       ECO_PAGE_TABLE[i] = ECO_PAGE_TABLE[i] | 0x8000;
                        475                             ; SOURCE LINE # 127
00008C ED               476             MOV     A,R5
00008D 25E0             477             ADD     A,ACC
00008F 2400       F     478             ADD     A,#LOW (ECO_PAGE_TABLE)
000091 F8               479             MOV     R0,A
000092 7480             480             MOV     A,#080H
000094 46               481             ORL     A,@R0
000095 F6               482             MOV     @R0,A
000096 08               483             INC     R0
000097 E6               484             MOV     A,@R0
000098 F6               485             MOV     @R0,A
                        486     ;                       break;
                        487                             ; SOURCE LINE # 128
000099 800E             488             SJMP    ?C0005
                        489     ;               }
                        490                             ; SOURCE LINE # 129
                        491     ;       }
                        492                             ; SOURCE LINE # 130
00009B                  493     ?C0006:
00009B 0500       F     494             INC     i?142+01H
00009D E500       F     495             MOV     A,i?142+01H
00009F 7002             496             JNZ     ?C0023
0000A1 0500       F     497             INC     i?142
0000A3                  498     ?C0023:
0000A3 6410             499             XRL     A,#010H
0000A5 4500       F     500             ORL     A,i?142
0000A7 70BA             501             JNZ     ?C0004
0000A9                  502     ?C0005:
                        503     ; 
                        504     ;       if(page_index != -1)
                        505                             ; SOURCE LINE # 132
0000A9 E500       F     506             MOV     A,page_index?143+01H
0000AB F4               507             CPL     A
0000AC 7003             508             JNZ     ?C0024
0000AE E500       F     509             MOV     A,page_index?143
0000B0 F4               510             CPL     A
0000B1                  511     ?C0024:
0000B1 606C             512             JZ      ?C0008
                        513     ;       {
                        514                             ; SOURCE LINE # 133
                        515     ;               //store function physical addres id 
                        516     ;               ECO_PAGE_PREV_PID = ECO_PAGE_ADDR >> ECO_PAGE_SHIFT;
                        517                             ; SOURCE LINE # 135
0000B3 E500       F     518             MOV     A,ECO_PAGE_ADDR+01H
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/29/09 14:25:55 PAGE     9

0000B5 AE00       F     519             MOV     R6,ECO_PAGE_ADDR
0000B7 7806             520             MOV     R0,#06H
0000B9                  521     ?C0025:
0000B9 CE               522             XCH     A,R6
0000BA C3               523             CLR     C
0000BB 13               524             RRC     A
0000BC CE               525             XCH     A,R6
0000BD 13               526             RRC     A
0000BE D8F9             527             DJNZ    R0,?C0025
0000C0 F500       F     528             MOV     ECO_PAGE_PREV_PID+01H,A
0000C2 8E00       F     529             MOV     ECO_PAGE_PREV_PID,R6
                        530     ;       
                        531     ;               //memory page is in ram
                        532     ;               ECO_PAGE_ADDR = ((page_index + ECO_PAGE_ADDR_OFFSET) << ECO_PAGE_SHIFT) 
                               + (ECO_PAGE_ADDR & ECO_PAGE_MASK);
                        533                             ; SOURCE LINE # 138
0000C4 E500       F     534             MOV     A,page_index?143+01H
0000C6 242F             535             ADD     A,#02FH
0000C8 FF               536             MOV     R7,A
0000C9 E4               537             CLR     A
0000CA 3500       F     538             ADDC    A,page_index?143
0000CC FE               539             MOV     R6,A
0000CD EF               540             MOV     A,R7
0000CE 7806             541             MOV     R0,#06H
0000D0                  542     ?C0026:
0000D0 C3               543             CLR     C
0000D1 33               544             RLC     A
0000D2 CE               545             XCH     A,R6
0000D3 33               546             RLC     A
0000D4 CE               547             XCH     A,R6
0000D5 D8F9             548             DJNZ    R0,?C0026
0000D7 FF               549             MOV     R7,A
0000D8 7C00             550             MOV     R4,#00H
0000DA E500       F     551             MOV     A,ECO_PAGE_ADDR+01H
0000DC 543F             552             ANL     A,#03FH
0000DE 2F               553             ADD     A,R7
0000DF F500       F     554             MOV     ECO_PAGE_ADDR+01H,A
0000E1 EC               555             MOV     A,R4
0000E2 3E               556             ADDC    A,R6
0000E3 F500       F     557             MOV     ECO_PAGE_ADDR,A
                        558     ; 
                        559     ;               //cache the virtual address id
                        560     ;               ECO_PAGE_PREV_VID = ECO_PAGE_ADDR >> ECO_PAGE_SHIFT;
                        561                             ; SOURCE LINE # 141
0000E5 E500       F     562             MOV     A,ECO_PAGE_ADDR+01H
0000E7 AE00       F     563             MOV     R6,ECO_PAGE_ADDR
0000E9 7806             564             MOV     R0,#06H
0000EB                  565     ?C0027:
0000EB CE               566             XCH     A,R6
0000EC C3               567             CLR     C
0000ED 13               568             RRC     A
0000EE CE               569             XCH     A,R6
0000EF 13               570             RRC     A
0000F0 D8F9             571             DJNZ    R0,?C0027
0000F2 F500       F     572             MOV     ECO_PAGE_PREV_VID+01H,A
0000F4 8E00       F     573             MOV     ECO_PAGE_PREV_VID,R6
                        574     ; 
                        575     ; 
                        576     ;               
                        577     ;               #pragma asm
0000F6 7800       F     578             MOV     R0,#LOW (ECO_PAGE_REGISTER1)
0000F8 E6               579             MOV     A,@R0
0000F9 F9               580             MOV     R1,A
0000FA 7800       F     581             MOV     R0,#LOW (ECO_PAGE_REGISTER2)
0000FC E6               582             MOV     A,@R0
0000FD FA               583             MOV     R2,A
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/29/09 14:25:55 PAGE    10

0000FE 7800       F     584             MOV     R0,#LOW (ECO_PAGE_REGISTER3)
000100 E6               585             MOV     A,@R0
000101 FB               586             MOV     R3,A
000102 7800       F     587             MOV     R0,#LOW (ECO_PAGE_REGISTER4)
000104 E6               588             MOV     A,@R0
000105 FC               589             MOV     R4,A
000106 7800       F     590             MOV     R0,#LOW (ECO_PAGE_REGISTER5)
000108 E6               591             MOV     A,@R0
000109 FD               592             MOV     R5,A
00010A 7800       F     593             MOV     R0,#LOW (ECO_PAGE_REGISTER6)
00010C E6               594             MOV     A,@R0
00010D FE               595             MOV     R6,A
00010E 7800       F     596             MOV     R0,#LOW (ECO_PAGE_REGISTER7)
000110 E6               597             MOV     A,@R0
000111 FF               598             MOV     R7,A
000112 8500B3     F     599             MOV     SPI_CTRL,ECO_PAGE_SPI_CONN
000115 850083     F     600             MOV     DPH,ECO_PAGE_ADDR
000118 850082     F     601             MOV     DPL,ECO_PAGE_ADDR+01H
00011B 120000     E     602             LCALL   ?C?ICALL2
                        603     ;               //eco_page_function_call
                        604               
                        605     ;               //MOV     DPH,ECO_PAGE_ADDR
                        606               
                        607     ;               //MOV     DPL,ECO_PAGE_ADDR+01H
                        608               
                        609     ;               //LCALL ?C?ICALL2
                        610               
00011E 22               611             RET     
                        612     ;               #pragma endasm
                        613     ; 
                        614     ;               return ;
                        615     ;       }       
                        616                             ; SOURCE LINE # 153
00011F                  617     ?C0008:
                        618     ;       else
                        619     ;       {
                        620                             ; SOURCE LINE # 155
                        621     ;               //page fault
                        622     ;               for(i=ECO_PAGE_TABLE_INDEX+1; ;i=(i+1)%ECO_PAGE_ENTRY)
                        623                             ; SOURCE LINE # 157
00011F E500       F     624             MOV     A,ECO_PAGE_TABLE_INDEX
000121 2401             625             ADD     A,#01H
000123 F500       F     626             MOV     i?142+01H,A
000125 E4               627             CLR     A
000126 33               628             RLC     A
000127 F500       F     629             MOV     i?142,A
000129                  630     ?C0010:
                        631     ;               {
                        632                             ; SOURCE LINE # 158
                        633     ;                       if((ECO_PAGE_TABLE[i] & 0x8000) == 0x8000)
                        634                             ; SOURCE LINE # 159
000129 AF00       F     635             MOV     R7,i?142+01H
00012B EF               636             MOV     A,R7
00012C 25E0             637             ADD     A,ACC
00012E 2400       F     638             ADD     A,#LOW (ECO_PAGE_TABLE)
000130 F8               639             MOV     R0,A
000131 E6               640             MOV     A,@R0
000132 30E70D           641             JNB     ACC.7,?C0013
                        642     ;                       {
                        643                             ; SOURCE LINE # 160
                        644     ;                               //LRU bit is 1 and then set this bit is 0
                        645     ;                               ECO_PAGE_TABLE[i] = ECO_PAGE_TABLE[i] & 0x7FFF;
                        646                             ; SOURCE LINE # 162
000135 EF               647             MOV     A,R7
000136 25E0             648             ADD     A,ACC
000138 2400       F     649             ADD     A,#LOW (ECO_PAGE_TABLE)
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/29/09 14:25:55 PAGE    11

00013A F8               650             MOV     R0,A
00013B 747F             651             MOV     A,#07FH
00013D 56               652             ANL     A,@R0
00013E F6               653             MOV     @R0,A
                        654     ;                       }
                        655                             ; SOURCE LINE # 163
00013F 020000     F     656             LJMP    ?C0012
000142                  657     ?C0013:
                        658     ;                       else
                        659     ;                       {
                        660                             ; SOURCE LINE # 165
                        661     ;                               unsigned char xdata *seg = (unsigned char xdata *)((i + 
                               ECO_PAGE_ADDR_OFFSET) << ECO_PAGE_SHIFT);
                        662                             ; SOURCE LINE # 166
000142 E500       F     663             MOV     A,i?142+01H
000144 242F             664             ADD     A,#02FH
000146 FF               665             MOV     R7,A
000147 E4               666             CLR     A
000148 3500       F     667             ADDC    A,i?142
00014A FE               668             MOV     R6,A
00014B EF               669             MOV     A,R7
00014C 7806             670             MOV     R0,#06H
00014E                  671     ?C0028:
00014E C3               672             CLR     C
00014F 33               673             RLC     A
000150 CE               674             XCH     A,R6
000151 33               675             RLC     A
000152 CE               676             XCH     A,R6
000153 D8F9             677             DJNZ    R0,?C0028
000155 8E00       F     678             MOV     seg?140,R6
000157 F500       F     679             MOV     seg?140+01H,A
                        680     ;                               unsigned int j;
                        681     ;                               
                        682     ;                               //memory page is in ram
                        683     ;                               eeprom_init();
                        684                             ; SOURCE LINE # 170
000159 120000     E     685             LCALL   eeprom_init
                        686     ; 
                        687     ;                               //mov code from eeprom to external ram
                        688     ;                               for(j=0;j<ECO_PAGE_SIZE;j++)
                        689                             ; SOURCE LINE # 173
00015C E4               690             CLR     A
00015D F500       F     691             MOV     j?141,A
00015F F500       F     692             MOV     j?141+01H,A
000161                  693     ?C0015:
                        694     ;                               {
                        695                             ; SOURCE LINE # 174
                        696     ;                                       *(seg+j) = eeprom_read(ECO_ADDR_SHIFT(ECO_PAGE_A
                               DDR & ECO_PAGE_MOV_MASK ) +j);
                        697                             ; SOURCE LINE # 175
000161 E500       F     698             MOV     A,ECO_PAGE_ADDR+01H
000163 54C0             699             ANL     A,#0C0H
000165 2403             700             ADD     A,#03H
000167 FF               701             MOV     R7,A
000168 E4               702             CLR     A
000169 3500       F     703             ADDC    A,ECO_PAGE_ADDR
00016B CF               704             XCH     A,R7
00016C 2500       F     705             ADD     A,j?141+01H
00016E CF               706             XCH     A,R7
00016F 3500       F     707             ADDC    A,j?141
000171 FE               708             MOV     R6,A
000172 120000     E     709             LCALL   _eeprom_read
000175 E500       F     710             MOV     A,seg?140+01H
000177 2500       F     711             ADD     A,j?141+01H
000179 F582             712             MOV     DPL,A
00017B E500       F     713             MOV     A,seg?140
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/29/09 14:25:55 PAGE    12

00017D 3500       F     714             ADDC    A,j?141
00017F F583             715             MOV     DPH,A
000181 EF               716             MOV     A,R7
000182 F0               717             MOVX    @DPTR,A
                        718     ;                               }
                        719                             ; SOURCE LINE # 176
000183 0500       F     720             INC     j?141+01H
000185 E500       F     721             MOV     A,j?141+01H
000187 7002             722             JNZ     ?C0029
000189 0500       F     723             INC     j?141
00018B                  724     ?C0029:
00018B C3               725             CLR     C
00018C 9440             726             SUBB    A,#040H
00018E E500       F     727             MOV     A,j?141
000190 9400             728             SUBB    A,#00H
000192 40CD             729             JC      ?C0015
000194                  730     ?C0016:
                        731     ;                               
                        732     ;                               //update page table to connect this physical address id 
                               with virtual address id 
                        733     ;                               ECO_PAGE_TABLE[i] = ECO_PAGE_ADDR >> ECO_PAGE_SHIFT;
                        734                             ; SOURCE LINE # 179
000194 E500       F     735             MOV     A,ECO_PAGE_ADDR+01H
000196 AE00       F     736             MOV     R6,ECO_PAGE_ADDR
000198 7806             737             MOV     R0,#06H
00019A                  738     ?C0030:
00019A CE               739             XCH     A,R6
00019B C3               740             CLR     C
00019C 13               741             RRC     A
00019D CE               742             XCH     A,R6
00019E 13               743             RRC     A
00019F D8F9             744             DJNZ    R0,?C0030
0001A1 FF               745             MOV     R7,A
0001A2 AD00       F     746             MOV     R5,i?142+01H
0001A4 ED               747             MOV     A,R5
0001A5 25E0             748             ADD     A,ACC
0001A7 2400       F     749             ADD     A,#LOW (ECO_PAGE_TABLE)
0001A9 F8               750             MOV     R0,A
0001AA A606             751             MOV     @R0,AR6
0001AC 08               752             INC     R0
0001AD A607             753             MOV     @R0,AR7
                        754     ; 
                        755     ;                               //store physical address id
                        756     ;                               ECO_PAGE_PREV_PID = ECO_PAGE_TABLE[i];
                        757                             ; SOURCE LINE # 182
0001AF ED               758             MOV     A,R5
0001B0 25E0             759             ADD     A,ACC
0001B2 2400       F     760             ADD     A,#LOW (ECO_PAGE_TABLE)
0001B4 F8               761             MOV     R0,A
0001B5 E6               762             MOV     A,@R0
0001B6 F500       F     763             MOV     ECO_PAGE_PREV_PID,A
0001B8 08               764             INC     R0
0001B9 E6               765             MOV     A,@R0
0001BA F500       F     766             MOV     ECO_PAGE_PREV_PID+01H,A
                        767     ; 
                        768     ;                               //update page address e.g.  (page_id<<8) + page_offset
                        769     ;                               ECO_PAGE_ADDR = ((i + ECO_PAGE_ADDR_OFFSET) << ECO_PAGE_
                               SHIFT) + (ECO_PAGE_ADDR & ECO_PAGE_MASK);
                        770                             ; SOURCE LINE # 185
0001BC E500       F     771             MOV     A,i?142+01H
0001BE 242F             772             ADD     A,#02FH
0001C0 FF               773             MOV     R7,A
0001C1 E4               774             CLR     A
0001C2 3500       F     775             ADDC    A,i?142
0001C4 FE               776             MOV     R6,A
0001C5 EF               777             MOV     A,R7
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/29/09 14:25:55 PAGE    13

0001C6 7806             778             MOV     R0,#06H
0001C8                  779     ?C0031:
0001C8 C3               780             CLR     C
0001C9 33               781             RLC     A
0001CA CE               782             XCH     A,R6
0001CB 33               783             RLC     A
0001CC CE               784             XCH     A,R6
0001CD D8F9             785             DJNZ    R0,?C0031
0001CF FF               786             MOV     R7,A
0001D0 7C00             787             MOV     R4,#00H
0001D2 E500       F     788             MOV     A,ECO_PAGE_ADDR+01H
0001D4 543F             789             ANL     A,#03FH
0001D6 2F               790             ADD     A,R7
0001D7 F500       F     791             MOV     ECO_PAGE_ADDR+01H,A
0001D9 EC               792             MOV     A,R4
0001DA 3E               793             ADDC    A,R6
0001DB F500       F     794             MOV     ECO_PAGE_ADDR,A
                        795     ; 
                        796     ;                               //store virtual address id 
                        797     ;                               ECO_PAGE_PREV_VID = ECO_PAGE_ADDR >> ECO_PAGE_SHIFT;    
                        798                             ; SOURCE LINE # 188
0001DD E500       F     799             MOV     A,ECO_PAGE_ADDR+01H
0001DF AE00       F     800             MOV     R6,ECO_PAGE_ADDR
0001E1 7806             801             MOV     R0,#06H
0001E3                  802     ?C0032:
0001E3 CE               803             XCH     A,R6
0001E4 C3               804             CLR     C
0001E5 13               805             RRC     A
0001E6 CE               806             XCH     A,R6
0001E7 13               807             RRC     A
0001E8 D8F9             808             DJNZ    R0,?C0032
0001EA F500       F     809             MOV     ECO_PAGE_PREV_VID+01H,A
0001EC 8E00       F     810             MOV     ECO_PAGE_PREV_VID,R6
                        811     ; 
                        812     ;                               //mov to the next index
                        813     ;                               ECO_PAGE_TABLE_INDEX = i;
                        814                             ; SOURCE LINE # 191
0001EE 850000     F     815             MOV     ECO_PAGE_TABLE_INDEX,i?142+01H
                        816     ; 
                        817     ;                               //jump  to function address
                        818     ;                               #pragma asm
0001F1 7800       F     819             MOV     R0,#LOW (ECO_PAGE_REGISTER1)
0001F3 E6               820             MOV     A,@R0
0001F4 F9               821             MOV     R1,A
0001F5 7800       F     822             MOV     R0,#LOW (ECO_PAGE_REGISTER2)
0001F7 E6               823             MOV     A,@R0
0001F8 FA               824             MOV     R2,A
0001F9 7800       F     825             MOV     R0,#LOW (ECO_PAGE_REGISTER3)
0001FB E6               826             MOV     A,@R0
0001FC FB               827             MOV     R3,A
0001FD 7800       F     828             MOV     R0,#LOW (ECO_PAGE_REGISTER4)
0001FF E6               829             MOV     A,@R0
000200 FC               830             MOV     R4,A
000201 7800       F     831             MOV     R0,#LOW (ECO_PAGE_REGISTER5)
000203 E6               832             MOV     A,@R0
000204 FD               833             MOV     R5,A
000205 7800       F     834             MOV     R0,#LOW (ECO_PAGE_REGISTER6)
000207 E6               835             MOV     A,@R0
000208 FE               836             MOV     R6,A
000209 7800       F     837             MOV     R0,#LOW (ECO_PAGE_REGISTER7)
00020B E6               838             MOV     A,@R0
00020C FF               839             MOV     R7,A
00020D 8500B3     F     840             MOV     SPI_CTRL,ECO_PAGE_SPI_CONN
000210 850083     F     841             MOV     DPH,ECO_PAGE_ADDR
000213 850082     F     842             MOV     DPL,ECO_PAGE_ADDR+01H
000216 120000     E     843             LCALL   ?C?ICALL2
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/29/09 14:25:55 PAGE    14

                        844     ;                               //eco_page_function_call
                        845               
                        846     ;                               //MOV     DPH,ECO_PAGE_ADDR
                        847               
                        848     ;                               //MOV     DPL,ECO_PAGE_ADDR+01H
                        849               
                        850     ;                               //LCALL        ?C?ICALL2               
                        851               
000219 22               852             RET     
                        853     ;                               #pragma endasm
                        854     ;                               
                        855     ;                               return ;
                        856     ;                               
                        857     ;                       }
                        858                             ; SOURCE LINE # 203
                        859     ;               }
                        860                             ; SOURCE LINE # 204
00021A                  861     ?C0012:
00021A E500       F     862             MOV     A,i?142+01H
00021C 2401             863             ADD     A,#01H
00021E FF               864             MOV     R7,A
00021F 750000     F     865             MOV     i?142,#00H
000222 EF               866             MOV     A,R7
000223 540F             867             ANL     A,#0FH
000225 F500       F     868             MOV     i?142+01H,A
000227 020000     F     869             LJMP    ?C0010
                        870     ; END OF eco_page_manager
                        871     
                        872             END
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/29/09 14:25:55 PAGE    15

SYMBOL TABLE LISTING
------ ----- -------


N A M E                                    T Y P E  V A L U E     ATTRIBUTES

?C0002. . . . . . . . . . . . . . . . .    C  ADDR  005EH     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0004. . . . . . . . . . . . . . . . .    C  ADDR  0063H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0005. . . . . . . . . . . . . . . . .    C  ADDR  00A9H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0006. . . . . . . . . . . . . . . . .    C  ADDR  009BH     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0008. . . . . . . . . . . . . . . . .    C  ADDR  011FH     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0010. . . . . . . . . . . . . . . . .    C  ADDR  0129H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0012. . . . . . . . . . . . . . . . .    C  ADDR  021AH     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0013. . . . . . . . . . . . . . . . .    C  ADDR  0142H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0015. . . . . . . . . . . . . . . . .    C  ADDR  0161H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0016. . . . . . . . . . . . . . . . .    C  ADDR  0194H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0018. . . . . . . . . . . . . . . . .    C  ADDR  000CH     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0020. . . . . . . . . . . . . . . . .    C  ADDR  0020H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0021. . . . . . . . . . . . . . . . .    C  ADDR  0078H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0023. . . . . . . . . . . . . . . . .    C  ADDR  00A3H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0024. . . . . . . . . . . . . . . . .    C  ADDR  00B1H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0025. . . . . . . . . . . . . . . . .    C  ADDR  00B9H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0026. . . . . . . . . . . . . . . . .    C  ADDR  00D0H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0027. . . . . . . . . . . . . . . . .    C  ADDR  00EBH     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0028. . . . . . . . . . . . . . . . .    C  ADDR  014EH     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0029. . . . . . . . . . . . . . . . .    C  ADDR  018BH     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0030. . . . . . . . . . . . . . . . .    C  ADDR  019AH     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0031. . . . . . . . . . . . . . . . .    C  ADDR  01C8H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0032. . . . . . . . . . . . . . . . .    C  ADDR  01E3H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C?ICALL2 . . . . . . . . . . . . . . .    C  ADDR  -------       EXT
?DT?ECO_PAGE. . . . . . . . . . . . . .    D  SEG   000008H       REL=UNIT, ALN=BYTE
?DT?ECO_PAGE_MANAGER?ECO_PAGE . . . . .    D  SEG   000008H       REL=UNIT, ALN=BYTE
?ECO_PAGE_MANAGER?BYTE. . . . . . . . .    D  ADDR  0000H     R   SEG=?DT?ECO_PAGE_MANAGER?ECO_PAGE
?ID?ECO_PAGE. . . . . . . . . . . . . .    I  SEG   000027H       REL=UNIT, ALN=BYTE
?PR?ECO_PAGE_INIT?ECO_PAGE. . . . . . .    C  SEG   000010H       REL=UNIT, ALN=BYTE
?PR?ECO_PAGE_MANAGER?ECO_PAGE . . . . .    C  SEG   00022AH       REL=UNIT, ALN=BYTE
_EEPROM_READ. . . . . . . . . . . . . .    C  ADDR  -------       EXT
AC. . . . . . . . . . . . . . . . . . .    B  ADDR  00D0H.6   A   
ACC . . . . . . . . . . . . . . . . . .    D  ADDR  00E0H     A   
ADCCON. . . . . . . . . . . . . . . . .    D  ADDR  00A1H     A   
ADCDATAH. . . . . . . . . . . . . . . .    D  ADDR  00A2H     A   
ADCDATAL. . . . . . . . . . . . . . . .    D  ADDR  00A3H     A   
ADCSTATIC . . . . . . . . . . . . . . .    D  ADDR  00A4H     A   
AR2 . . . . . . . . . . . . . . . . . .    D  ADDR  0002H     A   
AR3 . . . . . . . . . . . . . . . . . .    D  ADDR  0003H     A   
AR6 . . . . . . . . . . . . . . . . . .    D  ADDR  0006H     A   
AR7 . . . . . . . . . . . . . . . . . .    D  ADDR  0007H     A   
B . . . . . . . . . . . . . . . . . . .    D  ADDR  00F0H     A   
C_T2. . . . . . . . . . . . . . . . . .    B  ADDR  00C8H.1   A   
CE. . . . . . . . . . . . . . . . . . .    B  ADDR  00A0H.6   A   
CK_CTRL . . . . . . . . . . . . . . . .    D  ADDR  00B6H     A   
CKCON . . . . . . . . . . . . . . . . .    D  ADDR  008EH     A   
CLK1. . . . . . . . . . . . . . . . . .    B  ADDR  00A0H.1   A   
CLK2. . . . . . . . . . . . . . . . . .    B  ADDR  00A0H.5   A   
CP_RL2. . . . . . . . . . . . . . . . .    B  ADDR  00C8H.0   A   
CPRL2 . . . . . . . . . . . . . . . . .    B  ADDR  00C8H.0   A   
CS. . . . . . . . . . . . . . . . . . .    B  ADDR  00A0H.3   A   
CT2 . . . . . . . . . . . . . . . . . .    B  ADDR  00C8H.1   A   
CY. . . . . . . . . . . . . . . . . . .    B  ADDR  00D0H.7   A   
DATA? . . . . . . . . . . . . . . . . .    B  ADDR  00A0H.0   A   
DEV_OFFSET. . . . . . . . . . . . . . .    D  ADDR  00BEH     A   
DIN0. . . . . . . . . . . . . . . . . .    B  ADDR  0090H.2   A   
DIO0. . . . . . . . . . . . . . . . . .    B  ADDR  0090H.0   A   
DIO1. . . . . . . . . . . . . . . . . .    B  ADDR  0090H.1   A   
DIO2. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.0   A   
DIO3. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.1   A   
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/29/09 14:25:55 PAGE    16

DIO4. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.2   A   
DIO5. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.3   A   
DIO6. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.4   A   
DIO7. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.5   A   
DIO8. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.6   A   
DIO9. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.7   A   
DOUT2 . . . . . . . . . . . . . . . . .    B  ADDR  00A0H.4   A   
DPH . . . . . . . . . . . . . . . . . .    D  ADDR  0083H     A   
DPH0. . . . . . . . . . . . . . . . . .    D  ADDR  0083H     A   
DPH1. . . . . . . . . . . . . . . . . .    D  ADDR  0085H     A   
DPL . . . . . . . . . . . . . . . . . .    D  ADDR  0082H     A   
DPL0. . . . . . . . . . . . . . . . . .    D  ADDR  0082H     A   
DPL1. . . . . . . . . . . . . . . . . .    D  ADDR  0084H     A   
DPS . . . . . . . . . . . . . . . . . .    D  ADDR  0086H     A   
DR1 . . . . . . . . . . . . . . . . . .    B  ADDR  00A0H.2   A   
DR2 . . . . . . . . . . . . . . . . . .    B  ADDR  00A0H.6   A   
DR2_CE. . . . . . . . . . . . . . . . .    B  ADDR  00A0H.6   A   
EA. . . . . . . . . . . . . . . . . . .    B  ADDR  00A8H.7   A   
ECO_PAGE. . . . . . . . . . . . . . . .    -- ----  -------       
ECO_PAGE_ADDR . . . . . . . . . . . . .    D  ADDR  0005H     R   SEG=?DT?ECO_PAGE
ECO_PAGE_INIT . . . . . . . . . . . . .    C  ADDR  0000H     R   SEG=?PR?ECO_PAGE_INIT?ECO_PAGE
ECO_PAGE_MANAGER. . . . . . . . . . . .    C  ADDR  0000H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
ECO_PAGE_PREV_PID . . . . . . . . . . .    D  ADDR  0001H     R   SEG=?DT?ECO_PAGE
ECO_PAGE_PREV_VID . . . . . . . . . . .    D  ADDR  0003H     R   SEG=?DT?ECO_PAGE
ECO_PAGE_REGISTER1. . . . . . . . . . .    I  ADDR  0020H     R   SEG=?ID?ECO_PAGE
ECO_PAGE_REGISTER2. . . . . . . . . . .    I  ADDR  0021H     R   SEG=?ID?ECO_PAGE
ECO_PAGE_REGISTER3. . . . . . . . . . .    I  ADDR  0022H     R   SEG=?ID?ECO_PAGE
ECO_PAGE_REGISTER4. . . . . . . . . . .    I  ADDR  0023H     R   SEG=?ID?ECO_PAGE
ECO_PAGE_REGISTER5. . . . . . . . . . .    I  ADDR  0024H     R   SEG=?ID?ECO_PAGE
ECO_PAGE_REGISTER6. . . . . . . . . . .    I  ADDR  0025H     R   SEG=?ID?ECO_PAGE
ECO_PAGE_REGISTER7. . . . . . . . . . .    I  ADDR  0026H     R   SEG=?ID?ECO_PAGE
ECO_PAGE_SPI_CONN . . . . . . . . . . .    D  ADDR  0000H     R   SEG=?DT?ECO_PAGE
ECO_PAGE_TABLE. . . . . . . . . . . . .    I  ADDR  0000H     R   SEG=?ID?ECO_PAGE
ECO_PAGE_TABLE_INDEX. . . . . . . . . .    D  ADDR  0007H     R   SEG=?DT?ECO_PAGE
EEPROM_INIT . . . . . . . . . . . . . .    C  ADDR  -------       EXT
EICON . . . . . . . . . . . . . . . . .    D  ADDR  00D8H     A   
EIE . . . . . . . . . . . . . . . . . .    D  ADDR  00E8H     A   
EIP . . . . . . . . . . . . . . . . . .    D  ADDR  00F8H     A   
ES. . . . . . . . . . . . . . . . . . .    B  ADDR  00A8H.4   A   
ET0 . . . . . . . . . . . . . . . . . .    B  ADDR  00A8H.1   A   
ET1 . . . . . . . . . . . . . . . . . .    B  ADDR  00A8H.3   A   
ET2 . . . . . . . . . . . . . . . . . .    B  ADDR  00A8H.5   A   
EWDI. . . . . . . . . . . . . . . . . .    B  ADDR  00E8H.4   A   
EX0 . . . . . . . . . . . . . . . . . .    B  ADDR  00A8H.0   A   
EX1 . . . . . . . . . . . . . . . . . .    B  ADDR  00A8H.2   A   
EX2 . . . . . . . . . . . . . . . . . .    B  ADDR  00E8H.0   A   
EX3 . . . . . . . . . . . . . . . . . .    B  ADDR  00E8H.1   A   
EX4 . . . . . . . . . . . . . . . . . .    B  ADDR  00E8H.2   A   
EX5 . . . . . . . . . . . . . . . . . .    B  ADDR  00E8H.3   A   
EXEN2 . . . . . . . . . . . . . . . . .    B  ADDR  00C8H.3   A   
EXF2. . . . . . . . . . . . . . . . . .    B  ADDR  00C8H.6   A   
EXIF. . . . . . . . . . . . . . . . . .    D  ADDR  0091H     A   
F0. . . . . . . . . . . . . . . . . . .    B  ADDR  00D0H.5   A   
F1. . . . . . . . . . . . . . . . . . .    B  ADDR  00D0H.1   A   
I?142 . . . . . . . . . . . . . . . . .    D  ADDR  0000H     R   SEG=?DT?ECO_PAGE_MANAGER?ECO_PAGE
IE. . . . . . . . . . . . . . . . . . .    D  ADDR  00A8H     A   
IE0 . . . . . . . . . . . . . . . . . .    B  ADDR  0088H.1   A   
IE1 . . . . . . . . . . . . . . . . . .    B  ADDR  0088H.3   A   
INT0_N. . . . . . . . . . . . . . . . .    B  ADDR  0080H.3   A   
INT1_N. . . . . . . . . . . . . . . . .    B  ADDR  0080H.4   A   
IP. . . . . . . . . . . . . . . . . . .    D  ADDR  00B8H     A   
IT0 . . . . . . . . . . . . . . . . . .    B  ADDR  0088H.0   A   
IT1 . . . . . . . . . . . . . . . . . .    B  ADDR  0088H.2   A   
J?141 . . . . . . . . . . . . . . . . .    D  ADDR  0006H     R   SEG=?DT?ECO_PAGE_MANAGER?ECO_PAGE
MPAGE . . . . . . . . . . . . . . . . .    D  ADDR  0092H     A   
OV. . . . . . . . . . . . . . . . . . .    B  ADDR  00D0H.2   A   
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/29/09 14:25:55 PAGE    17

P . . . . . . . . . . . . . . . . . . .    B  ADDR  00D0H.0   A   
P0. . . . . . . . . . . . . . . . . . .    D  ADDR  0080H     A   
P0_0. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.0   A   
P0_1. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.1   A   
P0_2. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.2   A   
P0_3. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.3   A   
P0_4. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.4   A   
P0_5. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.5   A   
P0_6. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.6   A   
P0_7. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.7   A   
P0_ALT. . . . . . . . . . . . . . . . .    D  ADDR  0095H     A   
P0_DIR. . . . . . . . . . . . . . . . .    D  ADDR  0094H     A   
P1. . . . . . . . . . . . . . . . . . .    D  ADDR  0090H     A   
P1_0. . . . . . . . . . . . . . . . . .    B  ADDR  0090H.0   A   
P1_1. . . . . . . . . . . . . . . . . .    B  ADDR  0090H.1   A   
P1_2. . . . . . . . . . . . . . . . . .    B  ADDR  0090H.2   A   
P1_ALT. . . . . . . . . . . . . . . . .    D  ADDR  0097H     A   
P1_DIR. . . . . . . . . . . . . . . . .    D  ADDR  0096H     A   
PAGE_INDEX?143. . . . . . . . . . . . .    D  ADDR  0002H     R   SEG=?DT?ECO_PAGE_MANAGER?ECO_PAGE
PCON. . . . . . . . . . . . . . . . . .    D  ADDR  0087H     A   
PS. . . . . . . . . . . . . . . . . . .    B  ADDR  00B8H.4   A   
PSW . . . . . . . . . . . . . . . . . .    D  ADDR  00D0H     A   
PT0 . . . . . . . . . . . . . . . . . .    B  ADDR  00B8H.1   A   
PT1 . . . . . . . . . . . . . . . . . .    B  ADDR  00B8H.3   A   
PT2 . . . . . . . . . . . . . . . . . .    B  ADDR  00B8H.5   A   
PWDI. . . . . . . . . . . . . . . . . .    B  ADDR  00F8H.4   A   
PWM . . . . . . . . . . . . . . . . . .    B  ADDR  0080H.7   A   
PWMCON. . . . . . . . . . . . . . . . .    D  ADDR  00A9H     A   
PWMDUTY . . . . . . . . . . . . . . . .    D  ADDR  00AAH     A   
PWR_UP. . . . . . . . . . . . . . . . .    B  ADDR  00A0H.7   A   
PX0 . . . . . . . . . . . . . . . . . .    B  ADDR  00B8H.0   A   
PX1 . . . . . . . . . . . . . . . . . .    B  ADDR  00B8H.2   A   
PX2 . . . . . . . . . . . . . . . . . .    B  ADDR  00F8H.0   A   
PX3 . . . . . . . . . . . . . . . . . .    B  ADDR  00F8H.1   A   
PX4 . . . . . . . . . . . . . . . . . .    B  ADDR  00F8H.2   A   
PX5 . . . . . . . . . . . . . . . . . .    B  ADDR  00F8H.3   A   
RADIO . . . . . . . . . . . . . . . . .    D  ADDR  00A0H     A   
RB8 . . . . . . . . . . . . . . . . . .    B  ADDR  0098H.2   A   
RCAP2H. . . . . . . . . . . . . . . . .    D  ADDR  00CBH     A   
RCAP2L. . . . . . . . . . . . . . . . .    D  ADDR  00CAH     A   
RCLK. . . . . . . . . . . . . . . . . .    B  ADDR  00C8H.5   A   
REGX_CTRL . . . . . . . . . . . . . . .    D  ADDR  00ADH     A   
REGX_LSB. . . . . . . . . . . . . . . .    D  ADDR  00ACH     A   
REGX_MSB. . . . . . . . . . . . . . . .    D  ADDR  00ABH     A   
REN . . . . . . . . . . . . . . . . . .    B  ADDR  0098H.4   A   
RI. . . . . . . . . . . . . . . . . . .    B  ADDR  0098H.0   A   
RS0 . . . . . . . . . . . . . . . . . .    B  ADDR  00D0H.3   A   
RS1 . . . . . . . . . . . . . . . . . .    B  ADDR  00D0H.4   A   
RSTREAS . . . . . . . . . . . . . . . .    D  ADDR  00B1H     A   
RXD . . . . . . . . . . . . . . . . . .    B  ADDR  0080H.1   A   
SBUF. . . . . . . . . . . . . . . . . .    D  ADDR  0099H     A   
SCON. . . . . . . . . . . . . . . . . .    D  ADDR  0098H     A   
SEG?140 . . . . . . . . . . . . . . . .    D  ADDR  0004H     R   SEG=?DT?ECO_PAGE_MANAGER?ECO_PAGE
SM0 . . . . . . . . . . . . . . . . . .    B  ADDR  0098H.7   A   
SM1 . . . . . . . . . . . . . . . . . .    B  ADDR  0098H.6   A   
SM2 . . . . . . . . . . . . . . . . . .    B  ADDR  0098H.5   A   
SP. . . . . . . . . . . . . . . . . . .    D  ADDR  0081H     A   
SPC_FNC . . . . . . . . . . . . . . . .    D  ADDR  008FH     A   
SPI_CTRL. . . . . . . . . . . . . . . .    D  ADDR  00B3H     A   
SPI_DATA. . . . . . . . . . . . . . . .    D  ADDR  00B2H     A   
SPICLK. . . . . . . . . . . . . . . . .    D  ADDR  00B4H     A   
T0. . . . . . . . . . . . . . . . . . .    B  ADDR  0080H.5   A   
T1. . . . . . . . . . . . . . . . . . .    B  ADDR  0080H.6   A   
T1_1V2. . . . . . . . . . . . . . . . .    D  ADDR  00BCH     A   
T2. . . . . . . . . . . . . . . . . . .    B  ADDR  0090H.0   A   
T2_1V2. . . . . . . . . . . . . . . . .    D  ADDR  00BDH     A   
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              04/29/09 14:25:55 PAGE    18

T2CON . . . . . . . . . . . . . . . . .    D  ADDR  00C8H     A   
TB8 . . . . . . . . . . . . . . . . . .    B  ADDR  0098H.3   A   
TCLK. . . . . . . . . . . . . . . . . .    B  ADDR  00C8H.4   A   
TCON. . . . . . . . . . . . . . . . . .    D  ADDR  0088H     A   
TEST_MODE . . . . . . . . . . . . . . .    D  ADDR  00B7H     A   
TF0 . . . . . . . . . . . . . . . . . .    B  ADDR  0088H.5   A   
TF1 . . . . . . . . . . . . . . . . . .    B  ADDR  0088H.7   A   
TF2 . . . . . . . . . . . . . . . . . .    B  ADDR  00C8H.7   A   
TH0 . . . . . . . . . . . . . . . . . .    D  ADDR  008CH     A   
TH1 . . . . . . . . . . . . . . . . . .    D  ADDR  008DH     A   
TH2 . . . . . . . . . . . . . . . . . .    D  ADDR  00CDH     A   
TI. . . . . . . . . . . . . . . . . . .    B  ADDR  0098H.1   A   
TICK_DV . . . . . . . . . . . . . . . .    D  ADDR  00B5H     A   
TL0 . . . . . . . . . . . . . . . . . .    D  ADDR  008AH     A   
TL1 . . . . . . . . . . . . . . . . . .    D  ADDR  008BH     A   
TL2 . . . . . . . . . . . . . . . . . .    D  ADDR  00CCH     A   
TMOD. . . . . . . . . . . . . . . . . .    D  ADDR  0089H     A   
TR0 . . . . . . . . . . . . . . . . . .    B  ADDR  0088H.4   A   
TR1 . . . . . . . . . . . . . . . . . .    B  ADDR  0088H.6   A   
TR2 . . . . . . . . . . . . . . . . . .    B  ADDR  00C8H.2   A   
TXD . . . . . . . . . . . . . . . . . .    B  ADDR  0080H.2   A   
WDTI. . . . . . . . . . . . . . . . . .    B  ADDR  00D8H.3   A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S).
