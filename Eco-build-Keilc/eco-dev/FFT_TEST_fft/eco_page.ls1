AX51 MACRO ASSEMBLER  ECO_PAGE                                                              05/06/09 20:56:33 PAGE     1


MACRO ASSEMBLER AX51 V3.06a
OBJECT MODULE PLACED IN .\eco_page.obj
ASSEMBLER INVOKED BY: C:\Keil\C51\BIN\AX51.exe .\eco_page.src EP DEBUG SYMBOLS OJ(.\eco_page.obj) PR(.\eco_page.ls1) 

LOC    OBJ             LINE     SOURCE

                          1     ; ./eco_page.src generated from: .\eco_page.c
                          2     ; COMPILER INVOKED BY:
                          3     ;        C:\Keil\C51\BIN\C51.exe .\eco_page.c BROWSE DEBUG CODE LISTINCLUDE SYMBOLS PREP
                               RINT ROM(LARGE) INCDIR(../../Include) SRC(./eco_page.src)
                          4     
                          5     $nomod51 
                          6     
                          7     NAME    ECO_PAGE
                          8     
 00A0.7                   9     PWR_UP  BIT     0A0H.7
 0080                    10     P0      DATA    080H
 0090                    11     P1      DATA    090H
 00D0.6                  12     AC      BIT     0D0H.6
 0080.5                  13     T0      BIT     080H.5
 00B3                    14     SPI_CTRL        DATA    0B3H
 0080.6                  15     T1      BIT     080H.6
 00A8.7                  16     EA      BIT     0A8H.7
 0090.0                  17     T2      BIT     090H.0
 00A0.6                  18     CE      BIT     0A0H.6
 00BE                    19     DEV_OFFSET      DATA    0BEH
 00A0.1                  20     CLK1    BIT     0A0H.1
 0090.2                  21     DIN0    BIT     090H.2
 00A0.5                  22     CLK2    BIT     0A0H.5
 0090.0                  23     DIO0    BIT     090H.0
 0083                    24     DPH0    DATA    083H
 0090.1                  25     DIO1    BIT     090H.1
 00A8                    26     IE      DATA    0A8H
 0085                    27     DPH1    DATA    085H
 0080.0                  28     DIO2    BIT     080H.0
 0080.1                  29     DIO3    BIT     080H.1
 0080.0                  30     P0_0    BIT     080H.0
 0090.0                  31     P1_0    BIT     090H.0
 0080.2                  32     DIO4    BIT     080H.2
 0080.1                  33     P0_1    BIT     080H.1
 0082                    34     DPL0    DATA    082H
 0090.1                  35     P1_1    BIT     090H.1
 0080.3                  36     DIO5    BIT     080H.3
 0080.2                  37     P0_2    BIT     080H.2
 0084                    38     DPL1    DATA    084H
 0090.2                  39     P1_2    BIT     090H.2
 0080.4                  40     DIO6    BIT     080H.4
 0080.3                  41     P0_3    BIT     080H.3
 0080.5                  42     DIO7    BIT     080H.5
 0080.4                  43     P0_4    BIT     080H.4
 00A4                    44     ADCSTATIC       DATA    0A4H
 0080.6                  45     DIO8    BIT     080H.6
 0080.5                  46     P0_5    BIT     080H.5
 00C8.6                  47     EXF2    BIT     0C8H.6
 00A0.3                  48     CS      BIT     0A0H.3
 0080.7                  49     DIO9    BIT     080H.7
 0080.6                  50     P0_6    BIT     080H.6
 0080.7                  51     P0_7    BIT     080H.7
 00A8.4                  52     ES      BIT     0A8H.4
 00B8                    53     IP      DATA    0B8H
 00A0.0                  54     DATA?   BIT     0A0H.0
 0098.0                  55     RI      BIT     098H.0
 00D0.7                  56     CY      BIT     0D0H.7
 0098.1                  57     TI      BIT     098H.1
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              05/06/09 20:56:33 PAGE     2

 00BC                    58     T1_1V2  DATA    0BCH
 008F                    59     SPC_FNC DATA    08FH
 00BD                    60     T2_1V2  DATA    0BDH
 00CB                    61     RCAP2H  DATA    0CBH
 00B8.4                  62     PS      BIT     0B8H.4
 0081                    63     SP      DATA    081H
 00D0.2                  64     OV      BIT     0D0H.2
 00B6                    65     CK_CTRL DATA    0B6H
 00CA                    66     RCAP2L  DATA    0CAH
 00B5                    67     TICK_DV DATA    0B5H
 00B1                    68     RSTREAS DATA    0B1H
 00C8.1                  69     C_T2    BIT     0C8H.1
 00E8.4                  70     EWDI    BIT     0E8H.4
 00A1                    71     ADCCON  DATA    0A1H
 00C8.5                  72     RCLK    BIT     0C8H.5
 00A2                    73     ADCDATAH        DATA    0A2H
 0091                    74     EXIF    DATA    091H
 00C8.4                  75     TCLK    BIT     0C8H.4
 00A0.6                  76     DR2_CE  BIT     0A0H.6
 00A3                    77     ADCDATAL        DATA    0A3H
 0099                    78     SBUF    DATA    099H
 0087                    79     PCON    DATA    087H
 0098                    80     SCON    DATA    098H
 00F8.4                  81     PWDI    BIT     0F8H.4
 0089                    82     TMOD    DATA    089H
 0088                    83     TCON    DATA    088H
 00D8.3                  84     WDTI    BIT     0D8H.3
 00AA                    85     PWMDUTY DATA    0AAH
 0088.1                  86     IE0     BIT     088H.1
 0088.3                  87     IE1     BIT     088H.3
 0094                    88     P0_DIR  DATA    094H
 00F0                    89     B       DATA    0F0H
 0096                    90     P1_DIR  DATA    096H
 0095                    91     P0_ALT  DATA    095H
 0097                    92     P1_ALT  DATA    097H
 00C8.0                  93     CP_RL2  BIT     0C8H.0
 00A0.2                  94     DR1     BIT     0A0H.2
 00E0                    95     ACC     DATA    0E0H
 00A0.6                  96     DR2     BIT     0A0H.6
 00B7                    97     TEST_MODE       DATA    0B7H
 00B4                    98     SPICLK  DATA    0B4H
 00C8.1                  99     CT2     BIT     0C8H.1
 00A8.1                 100     ET0     BIT     0A8H.1
 00A8.3                 101     ET1     BIT     0A8H.3
 0088.5                 102     TF0     BIT     088H.5
 0080.3                 103     INT0_N  BIT     080H.3
 00A8.5                 104     ET2     BIT     0A8H.5
 0088.7                 105     TF1     BIT     088H.7
 0080.4                 106     INT1_N  BIT     080H.4
 00C8.7                 107     TF2     BIT     0C8H.7
 0098.2                 108     RB8     BIT     098H.2
 008C                   109     TH0     DATA    08CH
 00A8.0                 110     EX0     BIT     0A8H.0
 0088.0                 111     IT0     BIT     088H.0
 008D                   112     TH1     DATA    08DH
 00A8.2                 113     EX1     BIT     0A8H.2
 0098.3                 114     TB8     BIT     098H.3
 0088.2                 115     IT1     BIT     088H.2
 00CD                   116     TH2     DATA    0CDH
 00AD                   117     REGX_CTRL       DATA    0ADH
 00E8.0                 118     EX2     BIT     0E8H.0
 00D0.0                 119     P       BIT     0D0H.0
 00E8.1                 120     EX3     BIT     0E8H.1
 0098.7                 121     SM0     BIT     098H.7
 008A                   122     TL0     DATA    08AH
 00E8.2                 123     EX4     BIT     0E8H.2
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              05/06/09 20:56:33 PAGE     3

 0098.6                 124     SM1     BIT     098H.6
 008B                   125     TL1     DATA    08BH
 00E8.3                 126     EX5     BIT     0E8H.3
 0098.5                 127     SM2     BIT     098H.5
 00CC                   128     TL2     DATA    0CCH
 00E8                   129     EIE     DATA    0E8H
 00B8.1                 130     PT0     BIT     0B8H.1
 00D0.3                 131     RS0     BIT     0D0H.3
 00B8.3                 132     PT1     BIT     0B8H.3
 00D0.4                 133     RS1     BIT     0D0H.4
 00B8.5                 134     PT2     BIT     0B8H.5
 0088.4                 135     TR0     BIT     088H.4
 00A9                   136     PWMCON  DATA    0A9H
 0088.6                 137     TR1     BIT     088H.6
 00C8.2                 138     TR2     BIT     0C8H.2
 00B8.0                 139     PX0     BIT     0B8H.0
 00B8.2                 140     PX1     BIT     0B8H.2
 00F8.0                 141     PX2     BIT     0F8H.0
 00F8.1                 142     PX3     BIT     0F8H.1
 00F8.2                 143     PX4     BIT     0F8H.2
 0083                   144     DPH     DATA    083H
 00F8.3                 145     PX5     BIT     0F8H.3
 00F8                   146     EIP     DATA    0F8H
 0082                   147     DPL     DATA    082H
 00C8.3                 148     EXEN2   BIT     0C8H.3
 00C8.0                 149     CPRL2   BIT     0C8H.0
 0098.4                 150     REN     BIT     098H.4
 00C8                   151     T2CON   DATA    0C8H
 0086                   152     DPS     DATA    086H
 00B2                   153     SPI_DATA        DATA    0B2H
 0092                   154     MPAGE   DATA    092H
 0080.1                 155     RXD     BIT     080H.1
 00A0.4                 156     DOUT2   BIT     0A0H.4
 00D8                   157     EICON   DATA    0D8H
 008E                   158     CKCON   DATA    08EH
 0080.2                 159     TXD     BIT     080H.2
 00A0                   160     RADIO   DATA    0A0H
 0080.7                 161     PWM     BIT     080H.7
 00D0.5                 162     F0      BIT     0D0H.5
 00D0.1                 163     F1      BIT     0D0H.1
 00AC                   164     REGX_LSB        DATA    0ACH
 00D0                   165     PSW     DATA    0D0H
 00AB                   166     REGX_MSB        DATA    0ABH
------                  167     ?PR?eco_page_init?ECO_PAGE               SEGMENT CODE 
------                  168     ?PR?eco_page_manager?ECO_PAGE            SEGMENT CODE 
------                  169     ?DT?eco_page_manager?ECO_PAGE            SEGMENT DATA OVERLAYABLE 
------                  170     ?C_INITSEG           SEGMENT CODE 
------                  171     ?DT?ECO_PAGE         SEGMENT DATA 
------                  172     ?ID?ECO_PAGE         SEGMENT IDATA 
------                  173     ?ID?eco_page_manager?ECO_PAGE            SEGMENT IDATA OVERLAYABLE 
                        174             EXTRN   CODE (_eeprom_read)
                        175             EXTRN   CODE (eeprom_init)
                        176             EXTRN   CODE (?C?UIDIV)
                        177             PUBLIC  ECO_PAGE_TABLE_INDEX
                        178             PUBLIC  ECO_PAGE_REGISTER7
                        179             PUBLIC  ECO_PAGE_REGISTER6
                        180             PUBLIC  ECO_PAGE_REGISTER5
                        181             PUBLIC  ECO_PAGE_REGISTER4
                        182             PUBLIC  ECO_PAGE_ADDR
                        183             PUBLIC  ECO_PAGE_REGISTER3
                        184             PUBLIC  ECO_PAGE_REGISTER2
                        185             PUBLIC  ECO_PAGE_REGISTER1
                        186             PUBLIC  ECO_PAGE_PREV_VID
                        187             PUBLIC  ECO_PAGE_PREV_PID
                        188             PUBLIC  ECO_PAGE_SPI_CONN
                        189             PUBLIC  ECO_PAGE_TABLE
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              05/06/09 20:56:33 PAGE     4

                        190             PUBLIC  eco_page_manager
                        191             PUBLIC  eco_page_init
                        192     
------                  193             RSEG  ?DT?eco_page_manager?ECO_PAGE
000000                  194     ?eco_page_manager?BYTE:
000000                  195             seg?140:   DS   2
                        196     
------                  197             RSEG  ?DT?ECO_PAGE
000000                  198      ECO_PAGE_TABLE:   DS   6
000006                  199     ECO_PAGE_SPI_CONN:   DS   1
000007                  200     ECO_PAGE_PREV_PID:   DS   1
000008                  201     ECO_PAGE_PREV_VID:   DS   1
000009                  202       ECO_PAGE_ADDR:   DS   2
00000B                  203     ECO_PAGE_TABLE_INDEX:   DS   1
                        204     
------                  205             RSEG  ?ID?ECO_PAGE
000000                  206     ECO_PAGE_REGISTER1:   DS   1
000001                  207     ECO_PAGE_REGISTER2:   DS   1
000002                  208     ECO_PAGE_REGISTER3:   DS   1
000003                  209     ECO_PAGE_REGISTER4:   DS   1
000004                  210     ECO_PAGE_REGISTER5:   DS   1
000005                  211     ECO_PAGE_REGISTER6:   DS   1
000006                  212     ECO_PAGE_REGISTER7:   DS   1
                        213     
------                  214             RSEG  ?ID?eco_page_manager?ECO_PAGE
000000                  215               i?141:   DS   2
                        216     
------                  217             RSEG  ?ID?eco_page_manager?ECO_PAGE
000002                  218      page_index?142:   DS   2
                        219     
------                  220             RSEG  ?C_INITSEG
000000 06               221             DB      006H
000001 00         F     222             DB      ECO_PAGE_TABLE
000002 000D             223             DW      0000DH
000004 000E             224             DW      0000EH
000006 000F             225             DW      0000FH
                        226     
                        227     ; /*
                        228     ;  * Author(s): Wei-Han Chen (Embedded Platform Lab, NTHU)
                        229     ;  * Copyright (c) 2009 National Tsing Hua University (NTHU) 
                        230     ;  * Permission to copy, modify, and distribute this program is granted 
                        231     ;  * for noncommercial purposes, provided the author(s) and copyright
                        232     ;  * notice are retained. All other uses require explicit written
                        233     ;  * permission from NTHU. 
                        234     ;  *
                        235     ;  * Eco Paging Library 
                        236     ;  *
                        237     ;  * Wei-Han Chen <xwaynec@gmail.com> 
                        238     ;  * 2009/2/13
                        239     ;  */
                        240     ; 
                        241     ; #include "eco_page.h"
                        242     ; #include "eeprom/eeprom.h"
                        243     ; 
                        244     ; //control page replacement policy is LRU or Round-Robin
                        245     ; #define PAGE_REPLACEMENT 1
                        246     ; 
                        247     ; //#define ECO_PAGE_SIZE 256
                        248     ; //#define ECO_PAGE_ADDR_OFFSET 11 
                        249     ; 
                        250     ; 
                        251     ; //#define ECO_PAGE_SIZE 128
                        252     ; //#define ECO_PAGE_ADDR_OFFSET 23
                        253     ; 
                        254     ; 
                        255     ; 
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              05/06/09 20:56:33 PAGE     5

                        256     ; //#define ECO_PAGE_SIZE 64
                        257     ; //#define ECO_PAGE_ADDR_OFFSET 47
                        258     ; 
                        259     ; 
                        260     ; #define ECO_PAGE_SIZE 256
                        261     ; #define ECO_PAGE_ADDR_OFFSET 13
                        262     ; 
                        263     ; 
                        264     ; #if ECO_PAGE_SIZE == 64
                        265     ;       
                        266     ;       #define ECO_PAGE_ENTRY  (64-ECO_PAGE_ADDR_OFFSET)
                        267     ;       #define ECO_PAGE_SHIFT  6
                        268     ;       #define ECO_PAGE_MASK   0x003F
                        269     ;       #define ECO_PAGE_MOV_MASK       0xFFC0
                        270     ; 
                        271     ;       unsigned int idata ECO_PAGE_TABLE[ECO_PAGE_ENTRY];
                        272     ;       //Eco page virtual address id
                        273     ;       unsigned int ECO_PAGE_PREV_VID;
                        274     ;       //Eco page physical address id 
                        275     ;       unsigned int ECO_PAGE_PREV_PID;
                        276     ; 
                        277     ; #elif ECO_PAGE_SIZE == 128
                        278     ;       
                        279     ;       #define ECO_PAGE_ENTRY (32-ECO_PAGE_ADDR_OFFSET)
                        280     ;       #define ECO_PAGE_SHIFT  7
                        281     ;       #define ECO_PAGE_MASK   0x007F
                        282     ;       #define ECO_PAGE_MOV_MASK       0xFF80
                        283     ; 
                        284     ;       unsigned int idata ECO_PAGE_TABLE[ECO_PAGE_ENTRY];
                        285     ;       //Eco page virtual address id
                        286     ;       unsigned int ECO_PAGE_PREV_VID;
                        287     ;       //Eco page physical address id 
                        288     ;       unsigned int ECO_PAGE_PREV_PID;
                        289     ; 
                        290     ; #elif ECO_PAGE_SIZE == 256
                        291     ;       
                        292     ;       #define ECO_PAGE_ENTRY  (16-ECO_PAGE_ADDR_OFFSET)
                        293     ;       #define ECO_PAGE_SHIFT  8       
                        294     ;       #define ECO_PAGE_MASK   0x00FF
                        295     ;       #define ECO_PAGE_MOV_MASK       0xFF00
                        296     ; 
                        297     ;       unsigned int ECO_PAGE_TABLE[ECO_PAGE_ENTRY]={13,14,15};
                        298     ;       //Eco page virtual address id
                        299     ;       unsigned char ECO_PAGE_PREV_VID;
                        300     ;       //Eco page physical address id 
                        301     ;       unsigned char ECO_PAGE_PREV_PID;
                        302     ; 
                        303     ; #endif
                        304     ; 
                        305     ; unsigned char ECO_PAGE_TABLE_INDEX;
                        306     ; unsigned int ECO_PAGE_ADDR;
                        307     ; unsigned char ECO_PAGE_SPI_CONN;
                        308     ; 
                        309     ; unsigned char idata ECO_PAGE_REGISTER1;
                        310     ; unsigned char idata ECO_PAGE_REGISTER2;
                        311     ; unsigned char idata ECO_PAGE_REGISTER3;
                        312     ; unsigned char idata ECO_PAGE_REGISTER4;
                        313     ; unsigned char idata ECO_PAGE_REGISTER5;
                        314     ; unsigned char idata ECO_PAGE_REGISTER6;
                        315     ; unsigned char idata ECO_PAGE_REGISTER7;
                        316     ; 
                        317     ; 
                        318     ; void eco_page_init()
                        319     
------                  320             RSEG  ?PR?eco_page_init?ECO_PAGE
000000                  321     eco_page_init:
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              05/06/09 20:56:33 PAGE     6

                        322                             ; SOURCE LINE # 92
                        323     ; {
                        324                             ; SOURCE LINE # 93
                        325     ;       //ECO_PAGE_TABLE_INDEX = ECO_PAGE_ENTRY - 1;
                        326     ;       ECO_PAGE_TABLE_INDEX = 0;       
                        327                             ; SOURCE LINE # 95
000000 E4               328             CLR     A
000001 F500       F     329             MOV     ECO_PAGE_TABLE_INDEX,A
                        330     ;       ECO_PAGE_ADDR = 0;
                        331                             ; SOURCE LINE # 96
000003 F500       F     332             MOV     ECO_PAGE_ADDR,A
000005 F500       F     333             MOV     ECO_PAGE_ADDR+01H,A
                        334     ;       ECO_PAGE_PREV_VID = 0;
                        335                             ; SOURCE LINE # 97
000007 F500       F     336             MOV     ECO_PAGE_PREV_VID,A
                        337     ;       ECO_PAGE_PREV_PID = 0;
                        338                             ; SOURCE LINE # 98
000009 F500       F     339             MOV     ECO_PAGE_PREV_PID,A
                        340     ; }
                        341                             ; SOURCE LINE # 99
00000B 22               342             RET     
                        343     ; END OF eco_page_init
                        344     
                        345     ; 
                        346     ; 
                        347     ; #if PAGE_REPLACEMENT == 0 
                        348     ; //LRU page replacement
                        349     ; void eco_page_manager()
                        350     ; {
                        351     ;       unsigned int i;
                        352     ;       unsigned int page_index = -1;
                        353     ; 
                        354     ;       //if page id is the same with the last page id
                        355     ;       if((ECO_PAGE_ADDR >> ECO_PAGE_SHIFT) == ECO_PAGE_PREV_PID)
                        356     ;       {
                        357     ;               //virtual address id + function offset
                        358     ;               ECO_PAGE_ADDR = (ECO_PAGE_PREV_VID << ECO_PAGE_SHIFT) + (ECO_PAGE_ADDR &
                                ECO_PAGE_MASK);
                        359     ;               #pragma asm
                        360     ; 
                        361     ;               MOV R0,#LOW (ECO_PAGE_REGISTER1)
                        362     ;               MOV A,@R0
                        363     ;               MOV     R1,A
                        364     ; 
                        365     ;               MOV R0,#LOW (ECO_PAGE_REGISTER2)
                        366     ;               MOV A,@R0
                        367     ;               MOV     R2,A
                        368     ; 
                        369     ;               MOV R0,#LOW (ECO_PAGE_REGISTER3)
                        370     ;               MOV A,@R0
                        371     ;               MOV     R3,A
                        372     ; 
                        373     ;               MOV R0,#LOW (ECO_PAGE_REGISTER4)
                        374     ;               MOV A,@R0
                        375     ;               MOV     R4,A
                        376     ; 
                        377     ;               MOV R0,#LOW (ECO_PAGE_REGISTER5)
                        378     ;               MOV A,@R0
                        379     ;               MOV     R5,A
                        380     ; 
                        381     ;               MOV R0,#LOW (ECO_PAGE_REGISTER6)
                        382     ;               MOV A,@R0
                        383     ;               MOV     R6,A
                        384     ; 
                        385     ;               MOV R0,#LOW (ECO_PAGE_REGISTER7)
                        386     ;               MOV A,@R0
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              05/06/09 20:56:33 PAGE     7

                        387     ;               MOV     R7,A
                        388     ;       
                        389     ;               MOV     SPI_CTRL,ECO_PAGE_SPI_CONN
                        390     ;               MOV     DPH,ECO_PAGE_ADDR
                        391     ;               MOV     DPL,ECO_PAGE_ADDR+01H
                        392     ;                               
                        393     ;               CLR     A
                        394     ;               JMP     @A+DPTR
                        395     ;               #pragma endasm
                        396     ;       }
                        397     ; 
                        398     ;       //Check Table   
                        399     ;       for(i=0;i<ECO_PAGE_ENTRY;i++)
                        400     ;       {   
                        401     ;               if((ECO_PAGE_ADDR >> ECO_PAGE_SHIFT) == (ECO_PAGE_TABLE[i] & 0x7FFF))
                        402     ;               {
                        403     ;                       page_index = i;
                        404     ; 
                        405     ;                       //set LRU bit is 1
                        406     ;                       ECO_PAGE_TABLE[i] = ECO_PAGE_TABLE[i] | 0x8000;
                        407     ;                       break;
                        408     ;               }
                        409     ;       }
                        410     ; 
                        411     ;       if(page_index != -1)
                        412     ;       {
                        413     ;               //store function physical addres id 
                        414     ;               ECO_PAGE_PREV_PID = ECO_PAGE_ADDR >> ECO_PAGE_SHIFT;
                        415     ;       
                        416     ;               //memory page is in ram
                        417     ;               ECO_PAGE_ADDR = ((page_index + ECO_PAGE_ADDR_OFFSET) << ECO_PAGE_SHIFT) 
                               + (ECO_PAGE_ADDR & ECO_PAGE_MASK);
                        418     ; 
                        419     ;               //cache the virtual address id
                        420     ;               ECO_PAGE_PREV_VID = ECO_PAGE_ADDR >> ECO_PAGE_SHIFT;
                        421     ; 
                        422     ; 
                        423     ;               #pragma asm
                        424     ;               MOV R0,#LOW (ECO_PAGE_REGISTER1)
                        425     ;               MOV A,@R0
                        426     ;               MOV     R1,A
                        427     ; 
                        428     ;               MOV R0,#LOW (ECO_PAGE_REGISTER2)
                        429     ;               MOV A,@R0
                        430     ;               MOV     R2,A
                        431     ; 
                        432     ;               MOV R0,#LOW (ECO_PAGE_REGISTER3)
                        433     ;               MOV A,@R0
                        434     ;               MOV     R3,A
                        435     ; 
                        436     ;               MOV R0,#LOW (ECO_PAGE_REGISTER4)
                        437     ;               MOV A,@R0
                        438     ;               MOV     R4,A
                        439     ; 
                        440     ;               MOV R0,#LOW (ECO_PAGE_REGISTER5)
                        441     ;               MOV A,@R0
                        442     ;               MOV     R5,A
                        443     ; 
                        444     ;               MOV R0,#LOW (ECO_PAGE_REGISTER6)
                        445     ;               MOV A,@R0
                        446     ;               MOV     R6,A
                        447     ; 
                        448     ;               MOV R0,#LOW (ECO_PAGE_REGISTER7)
                        449     ;               MOV A,@R0
                        450     ;               MOV     R7,A
                        451     ; 
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              05/06/09 20:56:33 PAGE     8

                        452     ;               MOV     SPI_CTRL,ECO_PAGE_SPI_CONN
                        453     ;               MOV     DPH,ECO_PAGE_ADDR
                        454     ;               MOV     DPL,ECO_PAGE_ADDR+01H
                        455     ;                               
                        456     ;               CLR     A
                        457     ;               JMP     @A+DPTR
                        458     ;               #pragma endasm
                        459     ; 
                        460     ;       }       
                        461     ;       else
                        462     ;       {
                        463     ;               //page fault
                        464     ;               for(i=(ECO_PAGE_TABLE_INDEX+1)%ECO_PAGE_ENTRY; ;i=(i+1)%ECO_PAGE_ENTRY)
                        465     ;               {
                        466     ;                       if((ECO_PAGE_TABLE[i] & 0x8000) == 0x8000)
                        467     ;                       {
                        468     ;                               //LRU bit is 1 and then set this bit is 0
                        469     ;                               ECO_PAGE_TABLE[i] = ECO_PAGE_TABLE[i] & 0x7FFF;
                        470     ;                       }
                        471     ;                       else
                        472     ;                       {
                        473     ;                               unsigned char xdata *seg = (unsigned char xdata *)((i + 
                               ECO_PAGE_ADDR_OFFSET) << ECO_PAGE_SHIFT);
                        474     ;                               unsigned int j;
                        475     ;                               
                        476     ;                               //memory page is in ram
                        477     ;                               eeprom_init();
                        478     ; 
                        479     ;                               //mov code from eeprom to external ram
                        480     ;                               for(j=0;j<ECO_PAGE_SIZE;j++)
                        481     ;                               {
                        482     ;                                       *(seg+j) = eeprom_read(ECO_ADDR_SHIFT(ECO_PAGE_A
                               DDR & ECO_PAGE_MOV_MASK ) +j);
                        483     ;                               }
                        484     ;                               
                        485     ;                               //update page table to connect this physical address id 
                               with virtual address id 
                        486     ;                               ECO_PAGE_TABLE[i] = ECO_PAGE_ADDR >> ECO_PAGE_SHIFT;
                        487     ; 
                        488     ;                               //store physical address id
                        489     ;                               ECO_PAGE_PREV_PID = ECO_PAGE_TABLE[i];
                        490     ; 
                        491     ;                               //update page address e.g.  (page_id<<8) + page_offset
                        492     ;                               ECO_PAGE_ADDR = ((i + ECO_PAGE_ADDR_OFFSET) << ECO_PAGE_
                               SHIFT) + (ECO_PAGE_ADDR & ECO_PAGE_MASK);
                        493     ; 
                        494     ;                               //store virtual address id 
                        495     ;                               ECO_PAGE_PREV_VID = ECO_PAGE_ADDR >> ECO_PAGE_SHIFT;    
                        496     ; 
                        497     ;                               //mov to the next index
                        498     ;                               ECO_PAGE_TABLE_INDEX = i;
                        499     ;                               #pragma asm
                        500     ; 
                        501     ;                               MOV R0,#LOW (ECO_PAGE_REGISTER1)
                        502     ;                               MOV A,@R0
                        503     ;                               MOV     R1,A
                        504     ; 
                        505     ;                               MOV R0,#LOW (ECO_PAGE_REGISTER2)
                        506     ;                               MOV A,@R0
                        507     ;                               MOV     R2,A
                        508     ; 
                        509     ;                               MOV R0,#LOW (ECO_PAGE_REGISTER3)
                        510     ;                               MOV A,@R0
                        511     ;                               MOV     R3,A
                        512     ; 
                        513     ;                               MOV R0,#LOW (ECO_PAGE_REGISTER4)
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              05/06/09 20:56:33 PAGE     9

                        514     ;                               MOV A,@R0
                        515     ;                               MOV     R4,A
                        516     ; 
                        517     ;                               MOV R0,#LOW (ECO_PAGE_REGISTER5)
                        518     ;                               MOV A,@R0
                        519     ;                               MOV     R5,A
                        520     ; 
                        521     ;                               MOV R0,#LOW (ECO_PAGE_REGISTER6)
                        522     ;                               MOV A,@R0
                        523     ;                               MOV     R6,A
                        524     ; 
                        525     ;                               MOV R0,#LOW (ECO_PAGE_REGISTER7)
                        526     ;                               MOV A,@R0
                        527     ;                               MOV     R7,A
                        528     ; 
                        529     ;                               MOV     SPI_CTRL,ECO_PAGE_SPI_CONN
                        530     ;                               MOV     DPH,ECO_PAGE_ADDR
                        531     ;                               MOV     DPL,ECO_PAGE_ADDR+01H
                        532     ;                               
                        533     ;                               CLR     A
                        534     ;                               JMP     @A+DPTR
                        535     ;                               #pragma endasm
                        536     ; 
                        537     ;                       }
                        538     ;               }
                        539     ;                       
                        540     ;       }
                        541     ;                               
                        542     ; }
                        543     ; 
                        544     ; #else
                        545     ; 
                        546     ; void eco_page_manager()
                        547     
------                  548             RSEG  ?PR?eco_page_manager?ECO_PAGE
000000                  549     eco_page_manager:
                        550             USING   0
                        551                             ; SOURCE LINE # 301
                        552     ; {
                        553                             ; SOURCE LINE # 302
                        554     ;       unsigned int idata i;
                        555     ;       unsigned int idata page_index = -1; 
                        556                             ; SOURCE LINE # 304
000000 74FF             557             MOV     A,#0FFH
000002 7800       F     558             MOV     R0,#LOW (page_index?142)
000004 F6               559             MOV     @R0,A
000005 08               560             INC     R0
000006 F6               561             MOV     @R0,A
                        562     ; 
                        563     ;       //Check POP instruction 
                        564     ;       //for(i=0;i<10;i++)
                        565     ;       //{    
                        566     ;       //      blink_led();
                        567     ;       //      mdelay(200);
                        568     ;       //}    
                        569     ;       //mdelay(1000);
                        570     ;       
                        571     ;       //if page id is the same with the last page id
                        572     ;       if((ECO_PAGE_ADDR >> ECO_PAGE_SHIFT) == ECO_PAGE_PREV_PID)
                        573                             ; SOURCE LINE # 315
000007 E500       F     574             MOV     A,ECO_PAGE_ADDR
000009 6500       F     575             XRL     A,ECO_PAGE_PREV_PID
00000B 7001             576             JNZ     ?C0013
00000D E4               577             CLR     A
00000E                  578     ?C0013:
00000E 7035             579             JNZ     ?C0002
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              05/06/09 20:56:33 PAGE    10

                        580     ;       {
                        581                             ; SOURCE LINE # 316
                        582     ;               //virtual address id + function offset
                        583     ;               ECO_PAGE_ADDR = (ECO_PAGE_PREV_VID << ECO_PAGE_SHIFT) + (ECO_PAGE_ADDR &
                                ECO_PAGE_MASK);
                        584                             ; SOURCE LINE # 318
000010 E500       F     585             MOV     A,ECO_PAGE_PREV_VID
000012 FE               586             MOV     R6,A
000013 7C00             587             MOV     R4,#00H
000015 E4               588             CLR     A
000016 2500       F     589             ADD     A,ECO_PAGE_ADDR+01H
000018 F500       F     590             MOV     ECO_PAGE_ADDR+01H,A
00001A EC               591             MOV     A,R4
00001B 3E               592             ADDC    A,R6
00001C F500       F     593             MOV     ECO_PAGE_ADDR,A
                        594     ;               #pragma asm
                        595     ; 
                        596               
                        597     ;               MOV R0,#LOW (ECO_PAGE_REGISTER1)
00001E 7800       F     598               MOV R0,#LOW (ECO_PAGE_REGISTER1)
                        599     ;               MOV A,@R0
000020 E6               600               MOV A,@R0
                        601     ;               MOV     R1,A
000021 F9               602               MOV   R1,A
                        603     ; 
                        604               
                        605     ;               MOV R0,#LOW (ECO_PAGE_REGISTER2)
000022 7800       F     606               MOV R0,#LOW (ECO_PAGE_REGISTER2)
                        607     ;               MOV A,@R0
000024 E6               608               MOV A,@R0
                        609     ;               MOV     R2,A
000025 FA               610               MOV   R2,A
                        611     ; 
                        612               
                        613     ;               MOV R0,#LOW (ECO_PAGE_REGISTER3)
000026 7800       F     614               MOV R0,#LOW (ECO_PAGE_REGISTER3)
                        615     ;               MOV A,@R0
000028 E6               616               MOV A,@R0
                        617     ;               MOV     R3,A
000029 FB               618               MOV   R3,A
                        619     ; 
                        620               
                        621     ;               MOV R0,#LOW (ECO_PAGE_REGISTER4)
00002A 7800       F     622               MOV R0,#LOW (ECO_PAGE_REGISTER4)
                        623     ;               MOV A,@R0
00002C E6               624               MOV A,@R0
                        625     ;               MOV     R4,A
00002D FC               626               MOV   R4,A
                        627     ; 
                        628               
                        629     ;               MOV R0,#LOW (ECO_PAGE_REGISTER5)
00002E 7800       F     630               MOV R0,#LOW (ECO_PAGE_REGISTER5)
                        631     ;               MOV A,@R0
000030 E6               632               MOV A,@R0
                        633     ;               MOV     R5,A
000031 FD               634               MOV   R5,A
                        635     ; 
                        636               
                        637     ;               MOV R0,#LOW (ECO_PAGE_REGISTER6)
000032 7800       F     638               MOV R0,#LOW (ECO_PAGE_REGISTER6)
                        639     ;               MOV A,@R0
000034 E6               640               MOV A,@R0
                        641     ;               MOV     R6,A
000035 FE               642               MOV   R6,A
                        643     ; 
                        644               
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              05/06/09 20:56:33 PAGE    11

                        645     ;               MOV R0,#LOW (ECO_PAGE_REGISTER7)
000036 7800       F     646               MOV R0,#LOW (ECO_PAGE_REGISTER7)
                        647     ;               MOV A,@R0
000038 E6               648               MOV A,@R0
                        649     ;               MOV     R7,A
000039 FF               650               MOV   R7,A
                        651     ; 
                        652               
                        653     ;       
                        654               
                        655     ;               MOV     SPI_CTRL,ECO_PAGE_SPI_CONN
00003A 8500B3     F     656               MOV   SPI_CTRL,ECO_PAGE_SPI_CONN
                        657     ;               MOV     DPH,ECO_PAGE_ADDR
00003D 850083     F     658               MOV   DPH,ECO_PAGE_ADDR
                        659     ;               MOV     DPL,ECO_PAGE_ADDR+01H
000040 850082     F     660               MOV   DPL,ECO_PAGE_ADDR+01H
                        661     ;               
                        662               
                        663     ;               CLR     A
000043 E4               664               CLR   A
                        665     ;               JMP     @A+DPTR
000044 73               666               JMP   @A+DPTR
                        667     ;               #pragma endasm
                        668     ;       }       
                        669                             ; SOURCE LINE # 357
000045                  670     ?C0002:
                        671     ;                               
                        672     ;       //Check Table   
                        673     ;       for(i=0;i<ECO_PAGE_ENTRY;i++)
                        674                             ; SOURCE LINE # 360
000045 E4               675             CLR     A
000046 7800       F     676             MOV     R0,#LOW (i?141)
000048 F6               677             MOV     @R0,A
000049 08               678             INC     R0
00004A F6               679             MOV     @R0,A
00004B                  680     ?C0003:
00004B 7800       F     681             MOV     R0,#LOW (i?141)
00004D E6               682             MOV     A,@R0
00004E FE               683             MOV     R6,A
00004F 08               684             INC     R0
000050 E6               685             MOV     A,@R0
000051 FF               686             MOV     R7,A
000052 C3               687             CLR     C
000053 9403             688             SUBB    A,#03H
000055 EE               689             MOV     A,R6
000056 9400             690             SUBB    A,#00H
000058 502D             691             JNC     ?C0004
                        692     ;       {   
                        693                             ; SOURCE LINE # 361
                        694     ;               if((ECO_PAGE_ADDR >> ECO_PAGE_SHIFT) == ECO_PAGE_TABLE[i])
                        695                             ; SOURCE LINE # 362
00005A EF               696             MOV     A,R7
00005B 25E0             697             ADD     A,ACC
00005D 2400       F     698             ADD     A,#LOW (ECO_PAGE_TABLE)
00005F F8               699             MOV     R0,A
000060 E6               700             MOV     A,@R0
000061 FC               701             MOV     R4,A
000062 08               702             INC     R0
000063 E6               703             MOV     A,@R0
000064 FD               704             MOV     R5,A
000065 E500       F     705             MOV     A,ECO_PAGE_ADDR
000067 B50513           706             CJNE    A,AR5,?C0005
00006A E4               707             CLR     A
00006B B5040F           708             CJNE    A,AR4,?C0005
                        709     ;               {
                        710                             ; SOURCE LINE # 363
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              05/06/09 20:56:33 PAGE    12

                        711     ;                       page_index = i;
                        712                             ; SOURCE LINE # 364
00006E 7800       F     713             MOV     R0,#LOW (i?141)
000070 E6               714             MOV     A,@R0
000071 FE               715             MOV     R6,A
000072 08               716             INC     R0
000073 E6               717             MOV     A,@R0
000074 FF               718             MOV     R7,A
000075 08               719             INC     R0
000076 A606             720             MOV     @R0,AR6
000078 08               721             INC     R0
000079 A607             722             MOV     @R0,AR7
                        723     ;                       break;
                        724                             ; SOURCE LINE # 365
00007B 800A             725             SJMP    ?C0004
                        726     ;               }
                        727                             ; SOURCE LINE # 366
                        728     ;       }
                        729                             ; SOURCE LINE # 367
00007D                  730     ?C0005:
00007D 7800       F     731             MOV     R0,#LOW (i?141+01H)
00007F 06               732             INC     @R0
000080 E6               733             MOV     A,@R0
000081 18               734             DEC     R0
000082 7001             735             JNZ     ?C0015
000084 06               736             INC     @R0
000085                  737     ?C0015:
000085 80C4             738             SJMP    ?C0003
000087                  739     ?C0004:
                        740     ; 
                        741     ;       if(page_index != -1) 
                        742                             ; SOURCE LINE # 369
000087 7800       F     743             MOV     R0,#LOW (page_index?142)
000089 E6               744             MOV     A,@R0
00008A FC               745             MOV     R4,A
00008B 08               746             INC     R0
00008C E6               747             MOV     A,@R0
00008D FD               748             MOV     R5,A
00008E F4               749             CPL     A
00008F 7002             750             JNZ     ?C0016
000091 EC               751             MOV     A,R4
000092 F4               752             CPL     A
000093                  753     ?C0016:
000093 7003             754             JNZ     $ + 5H
000095 020000     F     755             LJMP    ?C0007
                        756     ;       {  
                        757                             ; SOURCE LINE # 370
                        758     ;               //store function physical addres id 
                        759     ;               ECO_PAGE_PREV_PID = ECO_PAGE_ADDR >> ECO_PAGE_SHIFT;
                        760                             ; SOURCE LINE # 372
000098 E500       F     761             MOV     A,ECO_PAGE_ADDR
00009A F500       F     762             MOV     ECO_PAGE_PREV_PID,A
                        763     ;       
                        764     ;               //memory page is in ram
                        765     ;               ECO_PAGE_ADDR = ((page_index + ECO_PAGE_ADDR_OFFSET) << ECO_PAGE_SHIFT) 
                               + (ECO_PAGE_ADDR & ECO_PAGE_MASK);
                        766                             ; SOURCE LINE # 375
00009C ED               767             MOV     A,R5
00009D 240D             768             ADD     A,#0DH
00009F FF               769             MOV     R7,A
0000A0 EF               770             MOV     A,R7
0000A1 FE               771             MOV     R6,A
0000A2 7C00             772             MOV     R4,#00H
0000A4 E4               773             CLR     A
0000A5 2500       F     774             ADD     A,ECO_PAGE_ADDR+01H
0000A7 F500       F     775             MOV     ECO_PAGE_ADDR+01H,A
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              05/06/09 20:56:33 PAGE    13

0000A9 EC               776             MOV     A,R4
0000AA 3E               777             ADDC    A,R6
0000AB F500       F     778             MOV     ECO_PAGE_ADDR,A
                        779     ; 
                        780     ;               //cache the virtual address id
                        781     ;               ECO_PAGE_PREV_VID = ECO_PAGE_ADDR >> ECO_PAGE_SHIFT;
                        782                             ; SOURCE LINE # 378
0000AD F500       F     783             MOV     ECO_PAGE_PREV_VID,A
                        784     ; 
                        785     ;               #pragma asm
                        786     ; 
                        787               
                        788     ;               MOV R0,#LOW (ECO_PAGE_REGISTER1)
0000AF 7800       F     789               MOV R0,#LOW (ECO_PAGE_REGISTER1)
                        790     ;               MOV A,@R0
0000B1 E6               791               MOV A,@R0
                        792     ;               MOV     R1,A
0000B2 F9               793               MOV   R1,A
                        794     ; 
                        795               
                        796     ;               MOV R0,#LOW (ECO_PAGE_REGISTER2)
0000B3 7800       F     797               MOV R0,#LOW (ECO_PAGE_REGISTER2)
                        798     ;               MOV A,@R0
0000B5 E6               799               MOV A,@R0
                        800     ;               MOV     R2,A
0000B6 FA               801               MOV   R2,A
                        802     ; 
                        803               
                        804     ;               MOV R0,#LOW (ECO_PAGE_REGISTER3)
0000B7 7800       F     805               MOV R0,#LOW (ECO_PAGE_REGISTER3)
                        806     ;               MOV A,@R0
0000B9 E6               807               MOV A,@R0
                        808     ;               MOV     R3,A
0000BA FB               809               MOV   R3,A
                        810     ; 
                        811               
                        812     ;               MOV R0,#LOW (ECO_PAGE_REGISTER4)
0000BB 7800       F     813               MOV R0,#LOW (ECO_PAGE_REGISTER4)
                        814     ;               MOV A,@R0
0000BD E6               815               MOV A,@R0
                        816     ;               MOV     R4,A
0000BE FC               817               MOV   R4,A
                        818     ; 
                        819               
                        820     ;               MOV R0,#LOW (ECO_PAGE_REGISTER5)
0000BF 7800       F     821               MOV R0,#LOW (ECO_PAGE_REGISTER5)
                        822     ;               MOV A,@R0
0000C1 E6               823               MOV A,@R0
                        824     ;               MOV     R5,A
0000C2 FD               825               MOV   R5,A
                        826     ; 
                        827               
                        828     ;               MOV R0,#LOW (ECO_PAGE_REGISTER6)
0000C3 7800       F     829               MOV R0,#LOW (ECO_PAGE_REGISTER6)
                        830     ;               MOV A,@R0
0000C5 E6               831               MOV A,@R0
                        832     ;               MOV     R6,A
0000C6 FE               833               MOV   R6,A
                        834     ; 
                        835               
                        836     ;               MOV R0,#LOW (ECO_PAGE_REGISTER7)
0000C7 7800       F     837               MOV R0,#LOW (ECO_PAGE_REGISTER7)
                        838     ;               MOV A,@R0
0000C9 E6               839               MOV A,@R0
                        840     ;               MOV     R7,A
0000CA FF               841               MOV   R7,A
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              05/06/09 20:56:33 PAGE    14

                        842     ; 
                        843               
                        844     ; 
                        845               
                        846     ;               MOV     SPI_CTRL,ECO_PAGE_SPI_CONN
0000CB 8500B3     F     847               MOV   SPI_CTRL,ECO_PAGE_SPI_CONN
                        848     ;               MOV     DPH,ECO_PAGE_ADDR
0000CE 850083     F     849               MOV   DPH,ECO_PAGE_ADDR
                        850     ;               MOV     DPL,ECO_PAGE_ADDR+01H
0000D1 850082     F     851               MOV   DPL,ECO_PAGE_ADDR+01H
                        852     ;               
                        853               
                        854     ;               CLR     A
0000D4 E4               855               CLR   A
                        856     ;               JMP     @A+DPTR
0000D5 73               857               JMP   @A+DPTR
                        858     ;               #pragma endasm
                        859     ;       }   
                        860                             ; SOURCE LINE # 418
0000D6 22               861             RET     
0000D7                  862     ?C0007:
                        863     ;       else
                        864     ;       {
                        865                             ; SOURCE LINE # 420
                        866     ;               //page fault
                        867     ;               // Move Data from EEPROM to iRAM 
                        868     ;               unsigned char xdata *seg = (unsigned char xdata *)((ECO_PAGE_TABLE_INDEX
                                + ECO_PAGE_ADDR_OFFSET) << ECO_PAGE_SHIFT);
                        869                             ; SOURCE LINE # 423
0000D7 E500       F     870             MOV     A,ECO_PAGE_TABLE_INDEX
0000D9 240D             871             ADD     A,#0DH
0000DB FF               872             MOV     R7,A
0000DC E4               873             CLR     A
0000DD 33               874             RLC     A
0000DE EF               875             MOV     A,R7
0000DF F500       F     876             MOV     seg?140,A
0000E1 750000     F     877             MOV     seg?140+01H,#00H
                        878     ;               
                        879     ;               //memory page is in ram
                        880     ;               eeprom_init();
                        881                             ; SOURCE LINE # 426
0000E4 120000     E     882             LCALL   eeprom_init
                        883     ; 
                        884     ;               //mov code from eeprom to external ram
                        885     ;               for(i=0;i<ECO_PAGE_SIZE;i++)
                        886                             ; SOURCE LINE # 429
0000E7 E4               887             CLR     A
0000E8 7800       F     888             MOV     R0,#LOW (i?141)
0000EA F6               889             MOV     @R0,A
0000EB 08               890             INC     R0
0000EC F6               891             MOV     @R0,A
0000ED                  892     ?C0009:
0000ED 7800       F     893             MOV     R0,#LOW (i?141)
0000EF E6               894             MOV     A,@R0
0000F0 FE               895             MOV     R6,A
0000F1 08               896             INC     R0
0000F2 E6               897             MOV     A,@R0
0000F3 FF               898             MOV     R7,A
0000F4 C3               899             CLR     C
0000F5 EE               900             MOV     A,R6
0000F6 9401             901             SUBB    A,#01H
0000F8 5029             902             JNC     ?C0010
                        903     ;               {
                        904                             ; SOURCE LINE # 430
                        905     ;                       *(seg+i) = eeprom_read(ECO_ADDR_SHIFT(ECO_PAGE_ADDR & ECO_PAGE_M
                               OV_MASK) +i);
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              05/06/09 20:56:33 PAGE    15

                        906                             ; SOURCE LINE # 431
0000FA E4               907             CLR     A
0000FB 2403             908             ADD     A,#03H
0000FD FD               909             MOV     R5,A
0000FE E4               910             CLR     A
0000FF 3500       F     911             ADDC    A,ECO_PAGE_ADDR
000101 CD               912             XCH     A,R5
000102 2F               913             ADD     A,R7
000103 FF               914             MOV     R7,A
000104 ED               915             MOV     A,R5
000105 3E               916             ADDC    A,R6
000106 FE               917             MOV     R6,A
000107 120000     E     918             LCALL   _eeprom_read
00010A 7800       F     919             MOV     R0,#LOW (i?141)
00010C E6               920             MOV     A,@R0
00010D FC               921             MOV     R4,A
00010E 08               922             INC     R0
00010F E6               923             MOV     A,@R0
000110 2500       F     924             ADD     A,seg?140+01H
000112 F582             925             MOV     DPL,A
000114 E500       F     926             MOV     A,seg?140
000116 3C               927             ADDC    A,R4
000117 F583             928             MOV     DPH,A
000119 EF               929             MOV     A,R7
00011A F0               930             MOVX    @DPTR,A
                        931     ;               }
                        932                             ; SOURCE LINE # 432
00011B 06               933             INC     @R0
00011C E6               934             MOV     A,@R0
00011D 18               935             DEC     R0
00011E 7001             936             JNZ     ?C0017
000120 06               937             INC     @R0
000121                  938     ?C0017:
000121 80CA             939             SJMP    ?C0009
000123                  940     ?C0010:
                        941     ;               
                        942     ;               //update page table to connect this physical address id with virtual add
                               ress id 
                        943     ;               ECO_PAGE_TABLE[ECO_PAGE_TABLE_INDEX] = ECO_PAGE_ADDR >> ECO_PAGE_SHIFT;
                        944                             ; SOURCE LINE # 435
000123 E500       F     945             MOV     A,ECO_PAGE_ADDR
000125 FF               946             MOV     R7,A
000126 7E00             947             MOV     R6,#00H
000128 E500       F     948             MOV     A,ECO_PAGE_TABLE_INDEX
00012A 25E0             949             ADD     A,ACC
00012C 2400       F     950             ADD     A,#LOW (ECO_PAGE_TABLE)
00012E F8               951             MOV     R0,A
00012F A606             952             MOV     @R0,AR6
000131 08               953             INC     R0
000132 A607             954             MOV     @R0,AR7
                        955     ; 
                        956     ;               //store physical address id
                        957     ;               //ECO_PAGE_PREV_PID = ECO_PAGE_TABLE[ECO_PAGE_TABLE_INDEX];
                        958     ;               ECO_PAGE_PREV_PID = ECO_PAGE_ADDR >> ECO_PAGE_SHIFT;
                        959                             ; SOURCE LINE # 439
000134 8F00       F     960             MOV     ECO_PAGE_PREV_PID,R7
                        961     ; 
                        962     ;               //update page address
                        963     ;               ECO_PAGE_ADDR = ((ECO_PAGE_TABLE_INDEX + ECO_PAGE_ADDR_OFFSET) << ECO_PA
                               GE_SHIFT) + (ECO_PAGE_ADDR & ECO_PAGE_MASK);
                        964                             ; SOURCE LINE # 442
000136 E500       F     965             MOV     A,ECO_PAGE_TABLE_INDEX
000138 FD               966             MOV     R5,A
000139 7C00             967             MOV     R4,#00H
00013B 240D             968             ADD     A,#0DH
00013D FF               969             MOV     R7,A
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              05/06/09 20:56:33 PAGE    16

00013E EF               970             MOV     A,R7
00013F FE               971             MOV     R6,A
000140 7A00             972             MOV     R2,#00H
000142 E4               973             CLR     A
000143 2500       F     974             ADD     A,ECO_PAGE_ADDR+01H
000145 F500       F     975             MOV     ECO_PAGE_ADDR+01H,A
000147 EA               976             MOV     A,R2
000148 3E               977             ADDC    A,R6
000149 F500       F     978             MOV     ECO_PAGE_ADDR,A
                        979     ; 
                        980     ;               //store virtual address id 
                        981     ;               ECO_PAGE_PREV_VID = ECO_PAGE_ADDR >> ECO_PAGE_SHIFT;    
                        982                             ; SOURCE LINE # 445
00014B F500       F     983             MOV     ECO_PAGE_PREV_VID,A
                        984     ; 
                        985     ;               //mov to the next index
                        986     ;               ECO_PAGE_TABLE_INDEX = (ECO_PAGE_TABLE_INDEX + 1) % ECO_PAGE_ENTRY;
                        987                             ; SOURCE LINE # 448
00014D ED               988             MOV     A,R5
00014E 2401             989             ADD     A,#01H
000150 FF               990             MOV     R7,A
000151 EC               991             MOV     A,R4
000152 33               992             RLC     A
000153 FE               993             MOV     R6,A
000154 7D03             994             MOV     R5,#03H
000156 120000     E     995             LCALL   ?C?UIDIV
000159 8D00       F     996             MOV     ECO_PAGE_TABLE_INDEX,R5
                        997     ;                       
                        998     ;               //jump  to function address
                        999     ;               #pragma asm
                       1000     ; 
                       1001               
                       1002     ;               MOV R0,#LOW (ECO_PAGE_REGISTER1)
00015B 7800       F    1003               MOV R0,#LOW (ECO_PAGE_REGISTER1)
                       1004     ;               MOV A,@R0
00015D E6              1005               MOV A,@R0
                       1006     ;               MOV     R1,A
00015E F9              1007               MOV   R1,A
                       1008     ; 
                       1009               
                       1010     ;               MOV R0,#LOW (ECO_PAGE_REGISTER2)
00015F 7800       F    1011               MOV R0,#LOW (ECO_PAGE_REGISTER2)
                       1012     ;               MOV A,@R0
000161 E6              1013               MOV A,@R0
                       1014     ;               MOV     R2,A
000162 FA              1015               MOV   R2,A
                       1016     ; 
                       1017               
                       1018     ;               MOV R0,#LOW (ECO_PAGE_REGISTER3)
000163 7800       F    1019               MOV R0,#LOW (ECO_PAGE_REGISTER3)
                       1020     ;               MOV A,@R0
000165 E6              1021               MOV A,@R0
                       1022     ;               MOV     R3,A
000166 FB              1023               MOV   R3,A
                       1024     ; 
                       1025               
                       1026     ;               MOV R0,#LOW (ECO_PAGE_REGISTER4)
000167 7800       F    1027               MOV R0,#LOW (ECO_PAGE_REGISTER4)
                       1028     ;               MOV A,@R0
000169 E6              1029               MOV A,@R0
                       1030     ;               MOV     R4,A
00016A FC              1031               MOV   R4,A
                       1032     ; 
                       1033               
                       1034     ;               MOV R0,#LOW (ECO_PAGE_REGISTER5)
00016B 7800       F    1035               MOV R0,#LOW (ECO_PAGE_REGISTER5)
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              05/06/09 20:56:33 PAGE    17

                       1036     ;               MOV A,@R0
00016D E6              1037               MOV A,@R0
                       1038     ;               MOV     R5,A
00016E FD              1039               MOV   R5,A
                       1040     ; 
                       1041               
                       1042     ;               MOV R0,#LOW (ECO_PAGE_REGISTER6)
00016F 7800       F    1043               MOV R0,#LOW (ECO_PAGE_REGISTER6)
                       1044     ;               MOV A,@R0
000171 E6              1045               MOV A,@R0
                       1046     ;               MOV     R6,A
000172 FE              1047               MOV   R6,A
                       1048     ; 
                       1049               
                       1050     ;               MOV R0,#LOW (ECO_PAGE_REGISTER7)
000173 7800       F    1051               MOV R0,#LOW (ECO_PAGE_REGISTER7)
                       1052     ;               MOV A,@R0
000175 E6              1053               MOV A,@R0
                       1054     ;               MOV     R7,A
000176 FF              1055               MOV   R7,A
                       1056     ;       
                       1057               
                       1058     ;               MOV     SPI_CTRL,ECO_PAGE_SPI_CONN
000177 8500B3     F    1059               MOV   SPI_CTRL,ECO_PAGE_SPI_CONN
                       1060     ;               MOV     DPH,ECO_PAGE_ADDR
00017A 850083     F    1061               MOV   DPH,ECO_PAGE_ADDR
                       1062     ;               MOV     DPL,ECO_PAGE_ADDR+01H
00017D 850082     F    1063               MOV   DPL,ECO_PAGE_ADDR+01H
                       1064     ;               
                       1065               
                       1066     ;               CLR     A
000180 E4              1067               CLR   A
                       1068     ;               JMP     @A+DPTR
000181 73              1069               JMP   @A+DPTR
                       1070     ;               #pragma endasm
                       1071     ; 
                       1072     ;       }
                       1073                             ; SOURCE LINE # 489
                       1074     ; 
                       1075     ; }
                       1076                             ; SOURCE LINE # 491
000182                 1077     ?C0012:
000182 22              1078             RET     
                       1079     ; END OF eco_page_manager
                       1080     
                       1081             END
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              05/06/09 20:56:33 PAGE    18

SYMBOL TABLE LISTING
------ ----- -------


N A M E                                    T Y P E  V A L U E     ATTRIBUTES

?C0002. . . . . . . . . . . . . . . . .    C  ADDR  0045H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0003. . . . . . . . . . . . . . . . .    C  ADDR  004BH     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0004. . . . . . . . . . . . . . . . .    C  ADDR  0087H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0005. . . . . . . . . . . . . . . . .    C  ADDR  007DH     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0007. . . . . . . . . . . . . . . . .    C  ADDR  00D7H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0009. . . . . . . . . . . . . . . . .    C  ADDR  00EDH     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0010. . . . . . . . . . . . . . . . .    C  ADDR  0123H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0012. . . . . . . . . . . . . . . . .    C  ADDR  0182H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0013. . . . . . . . . . . . . . . . .    C  ADDR  000EH     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0015. . . . . . . . . . . . . . . . .    C  ADDR  0085H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0016. . . . . . . . . . . . . . . . .    C  ADDR  0093H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C0017. . . . . . . . . . . . . . . . .    C  ADDR  0121H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
?C?UIDIV. . . . . . . . . . . . . . . .    C  ADDR  -------       EXT
?C_INITSEG. . . . . . . . . . . . . . .    C  SEG   000008H       REL=UNIT, ALN=BYTE
?DT?ECO_PAGE. . . . . . . . . . . . . .    D  SEG   00000CH       REL=UNIT, ALN=BYTE
?DT?ECO_PAGE_MANAGER?ECO_PAGE . . . . .    D  SEG   000002H       REL=UNIT, ALN=BYTE
?ECO_PAGE_MANAGER?BYTE. . . . . . . . .    D  ADDR  0000H     R   SEG=?DT?ECO_PAGE_MANAGER?ECO_PAGE
?ID?ECO_PAGE. . . . . . . . . . . . . .    I  SEG   000007H       REL=UNIT, ALN=BYTE
?ID?ECO_PAGE_MANAGER?ECO_PAGE . . . . .    I  SEG   000004H       REL=UNIT, ALN=BYTE
?PR?ECO_PAGE_INIT?ECO_PAGE. . . . . . .    C  SEG   00000CH       REL=UNIT, ALN=BYTE
?PR?ECO_PAGE_MANAGER?ECO_PAGE . . . . .    C  SEG   000183H       REL=UNIT, ALN=BYTE
_EEPROM_READ. . . . . . . . . . . . . .    C  ADDR  -------       EXT
AC. . . . . . . . . . . . . . . . . . .    B  ADDR  00D0H.6   A   
ACC . . . . . . . . . . . . . . . . . .    D  ADDR  00E0H     A   
ADCCON. . . . . . . . . . . . . . . . .    D  ADDR  00A1H     A   
ADCDATAH. . . . . . . . . . . . . . . .    D  ADDR  00A2H     A   
ADCDATAL. . . . . . . . . . . . . . . .    D  ADDR  00A3H     A   
ADCSTATIC . . . . . . . . . . . . . . .    D  ADDR  00A4H     A   
AR4 . . . . . . . . . . . . . . . . . .    D  ADDR  0004H     A   
AR5 . . . . . . . . . . . . . . . . . .    D  ADDR  0005H     A   
AR6 . . . . . . . . . . . . . . . . . .    D  ADDR  0006H     A   
AR7 . . . . . . . . . . . . . . . . . .    D  ADDR  0007H     A   
B . . . . . . . . . . . . . . . . . . .    D  ADDR  00F0H     A   
C_T2. . . . . . . . . . . . . . . . . .    B  ADDR  00C8H.1   A   
CE. . . . . . . . . . . . . . . . . . .    B  ADDR  00A0H.6   A   
CK_CTRL . . . . . . . . . . . . . . . .    D  ADDR  00B6H     A   
CKCON . . . . . . . . . . . . . . . . .    D  ADDR  008EH     A   
CLK1. . . . . . . . . . . . . . . . . .    B  ADDR  00A0H.1   A   
CLK2. . . . . . . . . . . . . . . . . .    B  ADDR  00A0H.5   A   
CP_RL2. . . . . . . . . . . . . . . . .    B  ADDR  00C8H.0   A   
CPRL2 . . . . . . . . . . . . . . . . .    B  ADDR  00C8H.0   A   
CS. . . . . . . . . . . . . . . . . . .    B  ADDR  00A0H.3   A   
CT2 . . . . . . . . . . . . . . . . . .    B  ADDR  00C8H.1   A   
CY. . . . . . . . . . . . . . . . . . .    B  ADDR  00D0H.7   A   
DATA? . . . . . . . . . . . . . . . . .    B  ADDR  00A0H.0   A   
DEV_OFFSET. . . . . . . . . . . . . . .    D  ADDR  00BEH     A   
DIN0. . . . . . . . . . . . . . . . . .    B  ADDR  0090H.2   A   
DIO0. . . . . . . . . . . . . . . . . .    B  ADDR  0090H.0   A   
DIO1. . . . . . . . . . . . . . . . . .    B  ADDR  0090H.1   A   
DIO2. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.0   A   
DIO3. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.1   A   
DIO4. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.2   A   
DIO5. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.3   A   
DIO6. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.4   A   
DIO7. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.5   A   
DIO8. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.6   A   
DIO9. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.7   A   
DOUT2 . . . . . . . . . . . . . . . . .    B  ADDR  00A0H.4   A   
DPH . . . . . . . . . . . . . . . . . .    D  ADDR  0083H     A   
DPH0. . . . . . . . . . . . . . . . . .    D  ADDR  0083H     A   
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              05/06/09 20:56:33 PAGE    19

DPH1. . . . . . . . . . . . . . . . . .    D  ADDR  0085H     A   
DPL . . . . . . . . . . . . . . . . . .    D  ADDR  0082H     A   
DPL0. . . . . . . . . . . . . . . . . .    D  ADDR  0082H     A   
DPL1. . . . . . . . . . . . . . . . . .    D  ADDR  0084H     A   
DPS . . . . . . . . . . . . . . . . . .    D  ADDR  0086H     A   
DR1 . . . . . . . . . . . . . . . . . .    B  ADDR  00A0H.2   A   
DR2 . . . . . . . . . . . . . . . . . .    B  ADDR  00A0H.6   A   
DR2_CE. . . . . . . . . . . . . . . . .    B  ADDR  00A0H.6   A   
EA. . . . . . . . . . . . . . . . . . .    B  ADDR  00A8H.7   A   
ECO_PAGE. . . . . . . . . . . . . . . .    -- ----  -------       
ECO_PAGE_ADDR . . . . . . . . . . . . .    D  ADDR  0009H     R   SEG=?DT?ECO_PAGE
ECO_PAGE_INIT . . . . . . . . . . . . .    C  ADDR  0000H     R   SEG=?PR?ECO_PAGE_INIT?ECO_PAGE
ECO_PAGE_MANAGER. . . . . . . . . . . .    C  ADDR  0000H     R   SEG=?PR?ECO_PAGE_MANAGER?ECO_PAGE
ECO_PAGE_PREV_PID . . . . . . . . . . .    D  ADDR  0007H     R   SEG=?DT?ECO_PAGE
ECO_PAGE_PREV_VID . . . . . . . . . . .    D  ADDR  0008H     R   SEG=?DT?ECO_PAGE
ECO_PAGE_REGISTER1. . . . . . . . . . .    I  ADDR  0000H     R   SEG=?ID?ECO_PAGE
ECO_PAGE_REGISTER2. . . . . . . . . . .    I  ADDR  0001H     R   SEG=?ID?ECO_PAGE
ECO_PAGE_REGISTER3. . . . . . . . . . .    I  ADDR  0002H     R   SEG=?ID?ECO_PAGE
ECO_PAGE_REGISTER4. . . . . . . . . . .    I  ADDR  0003H     R   SEG=?ID?ECO_PAGE
ECO_PAGE_REGISTER5. . . . . . . . . . .    I  ADDR  0004H     R   SEG=?ID?ECO_PAGE
ECO_PAGE_REGISTER6. . . . . . . . . . .    I  ADDR  0005H     R   SEG=?ID?ECO_PAGE
ECO_PAGE_REGISTER7. . . . . . . . . . .    I  ADDR  0006H     R   SEG=?ID?ECO_PAGE
ECO_PAGE_SPI_CONN . . . . . . . . . . .    D  ADDR  0006H     R   SEG=?DT?ECO_PAGE
ECO_PAGE_TABLE. . . . . . . . . . . . .    D  ADDR  0000H     R   SEG=?DT?ECO_PAGE
ECO_PAGE_TABLE_INDEX. . . . . . . . . .    D  ADDR  000BH     R   SEG=?DT?ECO_PAGE
EEPROM_INIT . . . . . . . . . . . . . .    C  ADDR  -------       EXT
EICON . . . . . . . . . . . . . . . . .    D  ADDR  00D8H     A   
EIE . . . . . . . . . . . . . . . . . .    D  ADDR  00E8H     A   
EIP . . . . . . . . . . . . . . . . . .    D  ADDR  00F8H     A   
ES. . . . . . . . . . . . . . . . . . .    B  ADDR  00A8H.4   A   
ET0 . . . . . . . . . . . . . . . . . .    B  ADDR  00A8H.1   A   
ET1 . . . . . . . . . . . . . . . . . .    B  ADDR  00A8H.3   A   
ET2 . . . . . . . . . . . . . . . . . .    B  ADDR  00A8H.5   A   
EWDI. . . . . . . . . . . . . . . . . .    B  ADDR  00E8H.4   A   
EX0 . . . . . . . . . . . . . . . . . .    B  ADDR  00A8H.0   A   
EX1 . . . . . . . . . . . . . . . . . .    B  ADDR  00A8H.2   A   
EX2 . . . . . . . . . . . . . . . . . .    B  ADDR  00E8H.0   A   
EX3 . . . . . . . . . . . . . . . . . .    B  ADDR  00E8H.1   A   
EX4 . . . . . . . . . . . . . . . . . .    B  ADDR  00E8H.2   A   
EX5 . . . . . . . . . . . . . . . . . .    B  ADDR  00E8H.3   A   
EXEN2 . . . . . . . . . . . . . . . . .    B  ADDR  00C8H.3   A   
EXF2. . . . . . . . . . . . . . . . . .    B  ADDR  00C8H.6   A   
EXIF. . . . . . . . . . . . . . . . . .    D  ADDR  0091H     A   
F0. . . . . . . . . . . . . . . . . . .    B  ADDR  00D0H.5   A   
F1. . . . . . . . . . . . . . . . . . .    B  ADDR  00D0H.1   A   
I?141 . . . . . . . . . . . . . . . . .    I  ADDR  0000H     R   SEG=?ID?ECO_PAGE_MANAGER?ECO_PAGE
IE. . . . . . . . . . . . . . . . . . .    D  ADDR  00A8H     A   
IE0 . . . . . . . . . . . . . . . . . .    B  ADDR  0088H.1   A   
IE1 . . . . . . . . . . . . . . . . . .    B  ADDR  0088H.3   A   
INT0_N. . . . . . . . . . . . . . . . .    B  ADDR  0080H.3   A   
INT1_N. . . . . . . . . . . . . . . . .    B  ADDR  0080H.4   A   
IP. . . . . . . . . . . . . . . . . . .    D  ADDR  00B8H     A   
IT0 . . . . . . . . . . . . . . . . . .    B  ADDR  0088H.0   A   
IT1 . . . . . . . . . . . . . . . . . .    B  ADDR  0088H.2   A   
MPAGE . . . . . . . . . . . . . . . . .    D  ADDR  0092H     A   
OV. . . . . . . . . . . . . . . . . . .    B  ADDR  00D0H.2   A   
P . . . . . . . . . . . . . . . . . . .    B  ADDR  00D0H.0   A   
P0. . . . . . . . . . . . . . . . . . .    D  ADDR  0080H     A   
P0_0. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.0   A   
P0_1. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.1   A   
P0_2. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.2   A   
P0_3. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.3   A   
P0_4. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.4   A   
P0_5. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.5   A   
P0_6. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.6   A   
P0_7. . . . . . . . . . . . . . . . . .    B  ADDR  0080H.7   A   
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              05/06/09 20:56:33 PAGE    20

P0_ALT. . . . . . . . . . . . . . . . .    D  ADDR  0095H     A   
P0_DIR. . . . . . . . . . . . . . . . .    D  ADDR  0094H     A   
P1. . . . . . . . . . . . . . . . . . .    D  ADDR  0090H     A   
P1_0. . . . . . . . . . . . . . . . . .    B  ADDR  0090H.0   A   
P1_1. . . . . . . . . . . . . . . . . .    B  ADDR  0090H.1   A   
P1_2. . . . . . . . . . . . . . . . . .    B  ADDR  0090H.2   A   
P1_ALT. . . . . . . . . . . . . . . . .    D  ADDR  0097H     A   
P1_DIR. . . . . . . . . . . . . . . . .    D  ADDR  0096H     A   
PAGE_INDEX?142. . . . . . . . . . . . .    I  ADDR  0002H     R   SEG=?ID?ECO_PAGE_MANAGER?ECO_PAGE
PCON. . . . . . . . . . . . . . . . . .    D  ADDR  0087H     A   
PS. . . . . . . . . . . . . . . . . . .    B  ADDR  00B8H.4   A   
PSW . . . . . . . . . . . . . . . . . .    D  ADDR  00D0H     A   
PT0 . . . . . . . . . . . . . . . . . .    B  ADDR  00B8H.1   A   
PT1 . . . . . . . . . . . . . . . . . .    B  ADDR  00B8H.3   A   
PT2 . . . . . . . . . . . . . . . . . .    B  ADDR  00B8H.5   A   
PWDI. . . . . . . . . . . . . . . . . .    B  ADDR  00F8H.4   A   
PWM . . . . . . . . . . . . . . . . . .    B  ADDR  0080H.7   A   
PWMCON. . . . . . . . . . . . . . . . .    D  ADDR  00A9H     A   
PWMDUTY . . . . . . . . . . . . . . . .    D  ADDR  00AAH     A   
PWR_UP. . . . . . . . . . . . . . . . .    B  ADDR  00A0H.7   A   
PX0 . . . . . . . . . . . . . . . . . .    B  ADDR  00B8H.0   A   
PX1 . . . . . . . . . . . . . . . . . .    B  ADDR  00B8H.2   A   
PX2 . . . . . . . . . . . . . . . . . .    B  ADDR  00F8H.0   A   
PX3 . . . . . . . . . . . . . . . . . .    B  ADDR  00F8H.1   A   
PX4 . . . . . . . . . . . . . . . . . .    B  ADDR  00F8H.2   A   
PX5 . . . . . . . . . . . . . . . . . .    B  ADDR  00F8H.3   A   
RADIO . . . . . . . . . . . . . . . . .    D  ADDR  00A0H     A   
RB8 . . . . . . . . . . . . . . . . . .    B  ADDR  0098H.2   A   
RCAP2H. . . . . . . . . . . . . . . . .    D  ADDR  00CBH     A   
RCAP2L. . . . . . . . . . . . . . . . .    D  ADDR  00CAH     A   
RCLK. . . . . . . . . . . . . . . . . .    B  ADDR  00C8H.5   A   
REGX_CTRL . . . . . . . . . . . . . . .    D  ADDR  00ADH     A   
REGX_LSB. . . . . . . . . . . . . . . .    D  ADDR  00ACH     A   
REGX_MSB. . . . . . . . . . . . . . . .    D  ADDR  00ABH     A   
REN . . . . . . . . . . . . . . . . . .    B  ADDR  0098H.4   A   
RI. . . . . . . . . . . . . . . . . . .    B  ADDR  0098H.0   A   
RS0 . . . . . . . . . . . . . . . . . .    B  ADDR  00D0H.3   A   
RS1 . . . . . . . . . . . . . . . . . .    B  ADDR  00D0H.4   A   
RSTREAS . . . . . . . . . . . . . . . .    D  ADDR  00B1H     A   
RXD . . . . . . . . . . . . . . . . . .    B  ADDR  0080H.1   A   
SBUF. . . . . . . . . . . . . . . . . .    D  ADDR  0099H     A   
SCON. . . . . . . . . . . . . . . . . .    D  ADDR  0098H     A   
SEG?140 . . . . . . . . . . . . . . . .    D  ADDR  0000H     R   SEG=?DT?ECO_PAGE_MANAGER?ECO_PAGE
SM0 . . . . . . . . . . . . . . . . . .    B  ADDR  0098H.7   A   
SM1 . . . . . . . . . . . . . . . . . .    B  ADDR  0098H.6   A   
SM2 . . . . . . . . . . . . . . . . . .    B  ADDR  0098H.5   A   
SP. . . . . . . . . . . . . . . . . . .    D  ADDR  0081H     A   
SPC_FNC . . . . . . . . . . . . . . . .    D  ADDR  008FH     A   
SPI_CTRL. . . . . . . . . . . . . . . .    D  ADDR  00B3H     A   
SPI_DATA. . . . . . . . . . . . . . . .    D  ADDR  00B2H     A   
SPICLK. . . . . . . . . . . . . . . . .    D  ADDR  00B4H     A   
T0. . . . . . . . . . . . . . . . . . .    B  ADDR  0080H.5   A   
T1. . . . . . . . . . . . . . . . . . .    B  ADDR  0080H.6   A   
T1_1V2. . . . . . . . . . . . . . . . .    D  ADDR  00BCH     A   
T2. . . . . . . . . . . . . . . . . . .    B  ADDR  0090H.0   A   
T2_1V2. . . . . . . . . . . . . . . . .    D  ADDR  00BDH     A   
T2CON . . . . . . . . . . . . . . . . .    D  ADDR  00C8H     A   
TB8 . . . . . . . . . . . . . . . . . .    B  ADDR  0098H.3   A   
TCLK. . . . . . . . . . . . . . . . . .    B  ADDR  00C8H.4   A   
TCON. . . . . . . . . . . . . . . . . .    D  ADDR  0088H     A   
TEST_MODE . . . . . . . . . . . . . . .    D  ADDR  00B7H     A   
TF0 . . . . . . . . . . . . . . . . . .    B  ADDR  0088H.5   A   
TF1 . . . . . . . . . . . . . . . . . .    B  ADDR  0088H.7   A   
TF2 . . . . . . . . . . . . . . . . . .    B  ADDR  00C8H.7   A   
TH0 . . . . . . . . . . . . . . . . . .    D  ADDR  008CH     A   
TH1 . . . . . . . . . . . . . . . . . .    D  ADDR  008DH     A   
AX51 MACRO ASSEMBLER  ECO_PAGE                                                              05/06/09 20:56:33 PAGE    21

TH2 . . . . . . . . . . . . . . . . . .    D  ADDR  00CDH     A   
TI. . . . . . . . . . . . . . . . . . .    B  ADDR  0098H.1   A   
TICK_DV . . . . . . . . . . . . . . . .    D  ADDR  00B5H     A   
TL0 . . . . . . . . . . . . . . . . . .    D  ADDR  008AH     A   
TL1 . . . . . . . . . . . . . . . . . .    D  ADDR  008BH     A   
TL2 . . . . . . . . . . . . . . . . . .    D  ADDR  00CCH     A   
TMOD. . . . . . . . . . . . . . . . . .    D  ADDR  0089H     A   
TR0 . . . . . . . . . . . . . . . . . .    B  ADDR  0088H.4   A   
TR1 . . . . . . . . . . . . . . . . . .    B  ADDR  0088H.6   A   
TR2 . . . . . . . . . . . . . . . . . .    B  ADDR  00C8H.2   A   
TXD . . . . . . . . . . . . . . . . . .    B  ADDR  0080H.2   A   
WDTI. . . . . . . . . . . . . . . . . .    B  ADDR  00D8H.3   A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S).
